var Co=Object.defineProperty;var Mo=(r,e,t)=>e in r?Co(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var pt=(r,e,t)=>(Mo(r,typeof e!="symbol"?e+"":e,t),t);import{s as xe,n as J,r as vn,o as Gt,f as Do,b as os,h as as}from"../chunks/scheduler.682ccc96.js";import{S as Le,i as Ve,g as _,h as w,j as D,f as y,k as v,l as re,a as M,s as $,c as x,x as K,y as m,z as Lt,A as Ue,B as mi,r as fe,m as Z,u as he,n as W,v as de,d as X,t as te,w as me,e as Se,p as je,b as Ge,C as Oe,o as _e,D as ls,E as No,F as $o,G as us,H as xo}from"../chunks/index.f49446f1.js";import{O as cs,a as or}from"../chunks/OctopusAd.b5ea5fcd.js";function le(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}class _t extends Error{}class Lo extends _t{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Vo extends _t{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Fo extends _t{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Zt extends _t{}class pi extends _t{constructor(e){super(`Invalid unit ${e}`)}}class Ne extends _t{}class nt extends _t{constructor(){super("Zone is an abstract class")}}const C="numeric",Pe="short",Me="long",hn={year:C,month:C,day:C},gi={year:C,month:Pe,day:C},Ho={year:C,month:Pe,day:C,weekday:Pe},yi={year:C,month:Me,day:C},vi={year:C,month:Me,day:C,weekday:Me},_i={hour:C,minute:C},wi={hour:C,minute:C,second:C},Ti={hour:C,minute:C,second:C,timeZoneName:Pe},ki={hour:C,minute:C,second:C,timeZoneName:Me},bi={hour:C,minute:C,hourCycle:"h23"},Ei={hour:C,minute:C,second:C,hourCycle:"h23"},Oi={hour:C,minute:C,second:C,hourCycle:"h23",timeZoneName:Pe},Si={hour:C,minute:C,second:C,hourCycle:"h23",timeZoneName:Me},Ii={year:C,month:C,day:C,hour:C,minute:C},Ci={year:C,month:C,day:C,hour:C,minute:C,second:C},Mi={year:C,month:Pe,day:C,hour:C,minute:C},Di={year:C,month:Pe,day:C,hour:C,minute:C,second:C},Ao={year:C,month:Pe,day:C,weekday:Pe,hour:C,minute:C},Ni={year:C,month:Me,day:C,hour:C,minute:C,timeZoneName:Pe},$i={year:C,month:Me,day:C,hour:C,minute:C,second:C,timeZoneName:Pe},xi={year:C,month:Me,day:C,weekday:Me,hour:C,minute:C,timeZoneName:Me},Li={year:C,month:Me,day:C,weekday:Me,hour:C,minute:C,second:C,timeZoneName:Me};class Yt{get type(){throw new nt}get name(){throw new nt}get ianaName(){return this.name}get isUniversal(){throw new nt}offsetName(e,t){throw new nt}formatOffset(e,t){throw new nt}offset(e){throw new nt}equals(e){throw new nt}get isValid(){throw new nt}}let ar=null;class _n extends Yt{static get instance(){return ar===null&&(ar=new _n),ar}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return Fi(e,t,n)}formatOffset(e,t){return jt(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let an={};function Po(r){return an[r]||(an[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),an[r]}const Ro={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Uo(r,e){const t=r.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,s,i,o,a,l,u,h]=n;return[o,s,i,a,l,u,h]}function Zo(r,e){const t=r.formatToParts(e),n=[];for(let s=0;s<t.length;s++){const{type:i,value:o}=t[s],a=Ro[i];i==="era"?n[a]=o:se(a)||(n[a]=parseInt(o,10))}return n}let Kt={};class Ye extends Yt{static create(e){return Kt[e]||(Kt[e]=new Ye(e)),Kt[e]}static resetCache(){Kt={},an={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ye.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return Fi(e,t,n,this.name)}formatOffset(e,t){return jt(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const n=Po(this.name);let[s,i,o,a,l,u,h]=n.formatToParts?Zo(n,t):Uo(n,t);a==="BC"&&(s=-Math.abs(s)+1);const f=Tn({year:s,month:i,day:o,hour:l===24?0:l,minute:u,second:h,millisecond:0});let p=+t;const T=p%1e3;return p-=T>=0?T:1e3+T,(f-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let fs={};function Wo(r,e={}){const t=JSON.stringify([r,e]);let n=fs[t];return n||(n=new Intl.ListFormat(r,e),fs[t]=n),n}let pr={};function gr(r,e={}){const t=JSON.stringify([r,e]);let n=pr[t];return n||(n=new Intl.DateTimeFormat(r,e),pr[t]=n),n}let yr={};function zo(r,e={}){const t=JSON.stringify([r,e]);let n=yr[t];return n||(n=new Intl.NumberFormat(r,e),yr[t]=n),n}let vr={};function qo(r,e={}){const{base:t,...n}=e,s=JSON.stringify([r,n]);let i=vr[s];return i||(i=new Intl.RelativeTimeFormat(r,e),vr[s]=i),i}let Wt=null;function jo(){return Wt||(Wt=new Intl.DateTimeFormat().resolvedOptions().locale,Wt)}function Go(r){const e=r.indexOf("-x-");e!==-1&&(r=r.substring(0,e));const t=r.indexOf("-u-");if(t===-1)return[r];{let n,s;try{n=gr(r).resolvedOptions(),s=r}catch{const l=r.substring(0,t);n=gr(l).resolvedOptions(),s=l}const{numberingSystem:i,calendar:o}=n;return[s,i,o]}}function Yo(r,e,t){return(t||e)&&(r.includes("-u-")||(r+="-u"),t&&(r+=`-ca-${t}`),e&&(r+=`-nu-${e}`)),r}function Bo(r){const e=[];for(let t=1;t<=12;t++){const n=q.utc(2009,t,1);e.push(r(n))}return e}function Jo(r){const e=[];for(let t=1;t<=7;t++){const n=q.utc(2016,11,13+t);e.push(r(n))}return e}function Xt(r,e,t,n){const s=r.listingMode();return s==="error"?null:s==="en"?t(e):n(e)}function Qo(r){return r.numberingSystem&&r.numberingSystem!=="latn"?!1:r.numberingSystem==="latn"||!r.locale||r.locale.startsWith("en")||new Intl.DateTimeFormat(r.intl).resolvedOptions().numberingSystem==="latn"}class Ko{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:s,floor:i,...o}=n;if(!t||Object.keys(o).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=zo(e,a)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):Or(e,3);return ye(t,this.padTo)}}}class Xo{constructor(e,t,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Ye.create(a).valid?(s=a,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||s,this.dtf=gr(t,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:n}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class ea{constructor(e,t,n){this.opts={style:"long",...n},!t&&Vi()&&(this.rtf=qo(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):ya(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class ue{static fromOpts(e){return ue.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,n,s=!1){const i=e||ge.defaultLocale,o=i||(s?"en-US":jo()),a=t||ge.defaultNumberingSystem,l=n||ge.defaultOutputCalendar;return new ue(o,a,l,i)}static resetCache(){Wt=null,pr={},yr={},vr={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:n}={}){return ue.create(e,t,n)}constructor(e,t,n,s){const[i,o,a]=Go(e);this.locale=i,this.numberingSystem=t||o||null,this.outputCalendar=n||a||null,this.intl=Yo(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Qo(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:ue.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return Xt(this,e,Pi,()=>{const n=t?{month:e,day:"numeric"}:{month:e},s=t?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=Bo(i=>this.extract(i,n,"month"))),this.monthsCache[s][e]})}weekdays(e,t=!1){return Xt(this,e,Zi,()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=t?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=Jo(i=>this.extract(i,n,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return Xt(this,void 0,()=>Wi,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[q.utc(2016,11,13,9),q.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Xt(this,e,zi,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[q.utc(-40,1,1),q.utc(2017,1,1)].map(n=>this.extract(n,t,"era"))),this.eraCache[e]})}extract(e,t,n){const s=this.dtFormatter(e,t),i=s.formatToParts(),o=i.find(a=>a.type.toLowerCase()===n);return o?o.value:null}numberFormatter(e={}){return new Ko(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Xo(e,this.intl,t)}relFormatter(e={}){return new ea(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Wo(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let lr=null;class ke extends Yt{static get utcInstance(){return lr===null&&(lr=new ke(0)),lr}static instance(e){return e===0?ke.utcInstance:new ke(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new ke(kn(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${jt(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${jt(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return jt(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class ta extends Yt{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function it(r,e){if(se(r)||r===null)return e;if(r instanceof Yt)return r;if(na(r)){const t=r.toLowerCase();return t==="default"?e:t==="local"||t==="system"?_n.instance:t==="utc"||t==="gmt"?ke.utcInstance:ke.parseSpecifier(t)||Ye.create(r)}else return vt(r)?ke.instance(r):typeof r=="object"&&"offset"in r&&typeof r.offset=="function"?r:new ta(r)}let hs=()=>Date.now(),ds="system",ms=null,ps=null,gs=null,ys=60,vs;class ge{static get now(){return hs}static set now(e){hs=e}static set defaultZone(e){ds=e}static get defaultZone(){return it(ds,_n.instance)}static get defaultLocale(){return ms}static set defaultLocale(e){ms=e}static get defaultNumberingSystem(){return ps}static set defaultNumberingSystem(e){ps=e}static get defaultOutputCalendar(){return gs}static set defaultOutputCalendar(e){gs=e}static get twoDigitCutoffYear(){return ys}static set twoDigitCutoffYear(e){ys=e%100}static get throwOnInvalid(){return vs}static set throwOnInvalid(e){vs=e}static resetCaches(){ue.resetCache(),Ye.resetCache()}}function se(r){return typeof r>"u"}function vt(r){return typeof r=="number"}function wn(r){return typeof r=="number"&&r%1===0}function na(r){return typeof r=="string"}function ra(r){return Object.prototype.toString.call(r)==="[object Date]"}function Vi(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function sa(r){return Array.isArray(r)?r:[r]}function _s(r,e,t){if(r.length!==0)return r.reduce((n,s)=>{const i=[e(s),s];return n&&t(n[0],i[0])===n[0]?n:i},null)[1]}function ia(r,e){return e.reduce((t,n)=>(t[n]=r[n],t),{})}function Vt(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function qe(r,e,t){return wn(r)&&r>=e&&r<=t}function oa(r,e){return r-e*Math.floor(r/e)}function ye(r,e=2){const t=r<0;let n;return t?n="-"+(""+-r).padStart(e,"0"):n=(""+r).padStart(e,"0"),n}function st(r){if(!(se(r)||r===null||r===""))return parseInt(r,10)}function gt(r){if(!(se(r)||r===null||r===""))return parseFloat(r)}function Er(r){if(!(se(r)||r===null||r==="")){const e=parseFloat("0."+r)*1e3;return Math.floor(e)}}function Or(r,e,t=!1){const n=10**e;return(t?Math.trunc:Math.round)(r*n)/n}function Bt(r){return r%4===0&&(r%100!==0||r%400===0)}function qt(r){return Bt(r)?366:365}function dn(r,e){const t=oa(e-1,12)+1,n=r+(e-t)/12;return t===2?Bt(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Tn(r){let e=Date.UTC(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond);return r.year<100&&r.year>=0&&(e=new Date(e),e.setUTCFullYear(r.year,r.month-1,r.day)),+e}function mn(r){const e=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7,t=r-1,n=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||n===3?53:52}function _r(r){return r>99?r:r>ge.twoDigitCutoffYear?1900+r:2e3+r}function Fi(r,e,t,n=null){const s=new Date(r),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(i.timeZone=n);const o={timeZoneName:e,...i},a=new Intl.DateTimeFormat(t,o).formatToParts(s).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function kn(r,e){let t=parseInt(r,10);Number.isNaN(t)&&(t=0);const n=parseInt(e,10)||0,s=t<0||Object.is(t,-0)?-n:n;return t*60+s}function Hi(r){const e=Number(r);if(typeof r=="boolean"||r===""||Number.isNaN(e))throw new Ne(`Invalid unit value ${r}`);return e}function pn(r,e){const t={};for(const n in r)if(Vt(r,n)){const s=r[n];if(s==null)continue;t[e(n)]=Hi(s)}return t}function jt(r,e){const t=Math.trunc(Math.abs(r/60)),n=Math.trunc(Math.abs(r%60)),s=r>=0?"+":"-";switch(e){case"short":return`${s}${ye(t,2)}:${ye(n,2)}`;case"narrow":return`${s}${t}${n>0?`:${n}`:""}`;case"techie":return`${s}${ye(t,2)}${ye(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function bn(r){return ia(r,["hour","minute","second","millisecond"])}const aa=["January","February","March","April","May","June","July","August","September","October","November","December"],Ai=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],la=["J","F","M","A","M","J","J","A","S","O","N","D"];function Pi(r){switch(r){case"narrow":return[...la];case"short":return[...Ai];case"long":return[...aa];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Ri=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ui=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ua=["M","T","W","T","F","S","S"];function Zi(r){switch(r){case"narrow":return[...ua];case"short":return[...Ui];case"long":return[...Ri];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Wi=["AM","PM"],ca=["Before Christ","Anno Domini"],fa=["BC","AD"],ha=["B","A"];function zi(r){switch(r){case"narrow":return[...ha];case"short":return[...fa];case"long":return[...ca];default:return null}}function da(r){return Wi[r.hour<12?0:1]}function ma(r,e){return Zi(e)[r.weekday-1]}function pa(r,e){return Pi(e)[r.month-1]}function ga(r,e){return zi(e)[r.year<0?0:1]}function ya(r,e,t="always",n=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(r)===-1;if(t==="auto"&&i){const g=r==="days";switch(e){case 1:return g?"tomorrow":`next ${s[r][0]}`;case-1:return g?"yesterday":`last ${s[r][0]}`;case 0:return g?"today":`this ${s[r][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,u=s[r],h=n?l?u[1]:u[2]||u[1]:l?s[r][0]:r;return o?`${a} ${h} ago`:`in ${a} ${h}`}function ws(r,e){let t="";for(const n of r)n.literal?t+=n.val:t+=e(n.val);return t}const va={D:hn,DD:gi,DDD:yi,DDDD:vi,t:_i,tt:wi,ttt:Ti,tttt:ki,T:bi,TT:Ei,TTT:Oi,TTTT:Si,f:Ii,ff:Mi,fff:Ni,ffff:xi,F:Ci,FF:Di,FFF:$i,FFFF:Li};class we{static create(e,t={}){return new we(e,t)}static parseFormat(e){let t=null,n="",s=!1;const i=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?(n.length>0&&i.push({literal:s||/^\s+$/.test(n),val:n}),t=null,n="",s=!s):s||a===t?n+=a:(n.length>0&&i.push({literal:/^\s+$/.test(n),val:n}),n=a,t=a)}return n.length>0&&i.push({literal:s||/^\s+$/.test(n),val:n}),i}static macroTokenToFormatOpts(e){return va[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return ye(e,t);const n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(p,T)=>this.loc.extract(e,p,T),o=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",a=()=>n?da(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(p,T)=>n?pa(e,p):i(T?{month:p}:{month:p,day:"numeric"},"month"),u=(p,T)=>n?ma(e,p):i(T?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),h=p=>{const T=we.macroTokenToFormatOpts(p);return T?this.formatWithSystemDefault(e,T):p},g=p=>n?ga(e,p):i({era:p},"era"),f=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return s?i({day:"numeric"},"day"):this.num(e.day);case"dd":return s?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return s?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?i({month:"numeric"},"month"):this.num(e.month);case"MM":return s?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?i({year:"numeric"},"year"):this.num(e.year);case"yy":return s?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return g("short");case"GG":return g("long");case"GGGGG":return g("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return h(p)}};return ws(we.parseFormat(t),f)}formatDurationFromString(e,t){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=l=>u=>{const h=n(u);return h?this.num(l.get(h),u.length):u},i=we.parseFormat(t),o=i.reduce((l,{literal:u,val:h})=>u?l:l.concat(h),[]),a=e.shiftTo(...o.map(n).filter(l=>l));return ws(i,s(a))}}class Ae{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const qi=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ft(...r){const e=r.reduce((t,n)=>t+n.source,"");return RegExp(`^${e}$`)}function Ht(...r){return e=>r.reduce(([t,n,s],i)=>{const[o,a,l]=i(e,s);return[{...t,...o},a||n,l]},[{},null,1]).slice(0,2)}function At(r,...e){if(r==null)return[null,null];for(const[t,n]of e){const s=t.exec(r);if(s)return n(s)}return[null,null]}function ji(...r){return(e,t)=>{const n={};let s;for(s=0;s<r.length;s++)n[r[s]]=st(e[t+s]);return[n,null,t+s]}}const Gi=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,_a=`(?:${Gi.source}?(?:\\[(${qi.source})\\])?)?`,Sr=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Yi=RegExp(`${Sr.source}${_a}`),Ir=RegExp(`(?:T${Yi.source})?`),wa=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Ta=/(\d{4})-?W(\d\d)(?:-?(\d))?/,ka=/(\d{4})-?(\d{3})/,ba=ji("weekYear","weekNumber","weekDay"),Ea=ji("year","ordinal"),Oa=/(\d{4})-(\d\d)-(\d\d)/,Bi=RegExp(`${Sr.source} ?(?:${Gi.source}|(${qi.source}))?`),Sa=RegExp(`(?: ${Bi.source})?`);function xt(r,e,t){const n=r[e];return se(n)?t:st(n)}function Ia(r,e){return[{year:xt(r,e),month:xt(r,e+1,1),day:xt(r,e+2,1)},null,e+3]}function Pt(r,e){return[{hours:xt(r,e,0),minutes:xt(r,e+1,0),seconds:xt(r,e+2,0),milliseconds:Er(r[e+3])},null,e+4]}function Jt(r,e){const t=!r[e]&&!r[e+1],n=kn(r[e+1],r[e+2]),s=t?null:ke.instance(n);return[{},s,e+3]}function Qt(r,e){const t=r[e]?Ye.create(r[e]):null;return[{},t,e+1]}const Ca=RegExp(`^T?${Sr.source}$`),Ma=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Da(r){const[e,t,n,s,i,o,a,l,u]=r,h=e[0]==="-",g=l&&l[0]==="-",f=(p,T=!1)=>p!==void 0&&(T||p&&h)?-p:p;return[{years:f(gt(t)),months:f(gt(n)),weeks:f(gt(s)),days:f(gt(i)),hours:f(gt(o)),minutes:f(gt(a)),seconds:f(gt(l),l==="-0"),milliseconds:f(Er(u),g)}]}const Na={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Cr(r,e,t,n,s,i,o){const a={year:e.length===2?_r(st(e)):st(e),month:Ai.indexOf(t)+1,day:st(n),hour:st(s),minute:st(i)};return o&&(a.second=st(o)),r&&(a.weekday=r.length>3?Ri.indexOf(r)+1:Ui.indexOf(r)+1),a}const $a=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function xa(r){const[,e,t,n,s,i,o,a,l,u,h,g]=r,f=Cr(e,s,n,t,i,o,a);let p;return l?p=Na[l]:u?p=0:p=kn(h,g),[f,new ke(p)]}function La(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Va=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Fa=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Ha=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Ts(r){const[,e,t,n,s,i,o,a]=r;return[Cr(e,s,n,t,i,o,a),ke.utcInstance]}function Aa(r){const[,e,t,n,s,i,o,a]=r;return[Cr(e,a,t,n,s,i,o),ke.utcInstance]}const Pa=Ft(wa,Ir),Ra=Ft(Ta,Ir),Ua=Ft(ka,Ir),Za=Ft(Yi),Ji=Ht(Ia,Pt,Jt,Qt),Wa=Ht(ba,Pt,Jt,Qt),za=Ht(Ea,Pt,Jt,Qt),qa=Ht(Pt,Jt,Qt);function ja(r){return At(r,[Pa,Ji],[Ra,Wa],[Ua,za],[Za,qa])}function Ga(r){return At(La(r),[$a,xa])}function Ya(r){return At(r,[Va,Ts],[Fa,Ts],[Ha,Aa])}function Ba(r){return At(r,[Ma,Da])}const Ja=Ht(Pt);function Qa(r){return At(r,[Ca,Ja])}const Ka=Ft(Oa,Sa),Xa=Ft(Bi),el=Ht(Pt,Jt,Qt);function tl(r){return At(r,[Ka,Ji],[Xa,el])}const ks="Invalid Duration",Qi={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},nl={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Qi},De=146097/400,Dt=146097/4800,rl={years:{quarters:4,months:12,weeks:De/7,days:De,hours:De*24,minutes:De*24*60,seconds:De*24*60*60,milliseconds:De*24*60*60*1e3},quarters:{months:3,weeks:De/28,days:De/4,hours:De*24/4,minutes:De*24*60/4,seconds:De*24*60*60/4,milliseconds:De*24*60*60*1e3/4},months:{weeks:Dt/7,days:Dt,hours:Dt*24,minutes:Dt*24*60,seconds:Dt*24*60*60,milliseconds:Dt*24*60*60*1e3},...Qi},zt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ki=zt.slice(0).reverse();function rt(r,e,t=!1){const n={values:t?e.values:{...r.values,...e.values||{}},loc:r.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||r.conversionAccuracy,matrix:e.matrix||r.matrix};return new ie(n)}function Xi(r,e){let t=e.milliseconds??0;for(const n of Ki.slice(1))e[n]&&(t+=e[n]*r[n].milliseconds);return t}function bs(r,e){const t=Xi(r,e)<0?-1:1;Ki.reduce((n,s)=>{if(se(e[s]))return n;if(n){const i=e[n]*t,o=r[s][n],a=Math.floor(i/o);e[s]+=a*t,e[n]-=a*o*t}return s},null)}function sl(r){const e={};for(const[t,n]of Object.entries(r))n!==0&&(e[t]=n);return e}class ie{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let n=t?rl:nl;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||ue.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return ie.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Ne(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new ie({values:pn(e,ie.normalizeUnit),loc:ue.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(vt(e))return ie.fromMillis(e);if(ie.isDuration(e))return e;if(typeof e=="object")return ie.fromObject(e);throw new Ne(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[n]=Ba(e);return n?ie.fromObject(n,t):ie.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=Qa(e);return n?ie.fromObject(n,t):ie.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Ne("need to specify a reason the Duration is invalid");const n=e instanceof Ae?e:new Ae(e,t);if(ge.throwOnInvalid)throw new Fo(n);return new ie({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new pi(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?we.create(this.loc,n).formatDurationFromString(this,e):ks}toHuman(e={}){if(!this.isValid)return ks;const t=zt.map(n=>{const s=this.values[n];return se(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Or(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},q.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?Xi(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=ie.fromDurationLike(e),n={};for(const s of zt)(Vt(t.values,s)||Vt(this.values,s))&&(n[s]=t.get(s)+this.get(s));return rt(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=ie.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=Hi(e(this.values[n],n));return rt(this,{values:t},!0)}get(e){return this[ie.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...pn(e,ie.normalizeUnit)};return rt(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:s}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:s,conversionAccuracy:n};return rt(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return bs(this.matrix,e),rt(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=sl(this.normalize().shiftToAll().toObject());return rt(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>ie.normalizeUnit(o));const t={},n={},s=this.toObject();let i;for(const o of zt)if(e.indexOf(o)>=0){i=o;let a=0;for(const u in n)a+=this.matrix[u][o]*n[u],n[u]=0;vt(s[o])&&(a+=s[o]);const l=Math.trunc(a);t[o]=l,n[o]=(a*1e3-l*1e3)/1e3}else vt(s[o])&&(n[o]=s[o]);for(const o in n)n[o]!==0&&(t[i]+=o===i?n[o]:n[o]/this.matrix[i][o]);return bs(this.matrix,t),rt(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return rt(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(const n of zt)if(!t(this.values[n],e.values[n]))return!1;return!0}}const Nt="Invalid Interval";function il(r,e){return!r||!r.isValid?pe.invalid("missing or invalid start"):!e||!e.isValid?pe.invalid("missing or invalid end"):e<r?pe.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${e.toISO()}`):null}class pe{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Ne("need to specify a reason the Interval is invalid");const n=e instanceof Ae?e:new Ae(e,t);if(ge.throwOnInvalid)throw new Vo(n);return new pe({invalid:n})}static fromDateTimes(e,t){const n=Ut(e),s=Ut(t),i=il(n,s);return i??new pe({start:n,end:s})}static after(e,t){const n=ie.fromDurationLike(t),s=Ut(e);return pe.fromDateTimes(s,s.plus(n))}static before(e,t){const n=ie.fromDurationLike(t),s=Ut(e);return pe.fromDateTimes(s.minus(n),s)}static fromISO(e,t){const[n,s]=(e||"").split("/",2);if(n&&s){let i,o;try{i=q.fromISO(n,t),o=i.isValid}catch{o=!1}let a,l;try{a=q.fromISO(s,t),l=a.isValid}catch{l=!1}if(o&&l)return pe.fromDateTimes(i,a);if(o){const u=ie.fromISO(s,t);if(u.isValid)return pe.after(i,u)}else if(l){const u=ie.fromISO(n,t);if(u.isValid)return pe.before(a,u)}}return pe.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?pe.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Ut).filter(o=>this.contains(o)).sort(),n=[];let{s}=this,i=0;for(;s<this.e;){const o=t[i]||this.e,a=+o>+this.e?this.e:o;n.push(pe.fromDateTimes(s,a)),s=a,i+=1}return n}splitBy(e){const t=ie.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:n}=this,s=1,i;const o=[];for(;n<this.e;){const a=this.start.plus(t.mapUnits(l=>l*s));i=+a>+this.e?this.e:a,o.push(pe.fromDateTimes(n,i)),n=i,s+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:pe.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return pe.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort((s,i)=>s.s-i.s).reduce(([s,i],o)=>i?i.overlaps(o)||i.abutsStart(o)?[s,i.union(o)]:[s.concat([i]),o]:[s,o],[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const s=[],i=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...i),a=o.sort((l,u)=>l.time-u.time);for(const l of a)n+=l.type==="s"?1:-1,n===1?t=l.time:(t&&+t!=+l.time&&s.push(pe.fromDateTimes(t,l.time)),t=null);return pe.merge(s)}difference(...e){return pe.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Nt}toLocaleString(e=hn,t={}){return this.isValid?we.create(this.s.loc.clone(t),e).formatInterval(this):Nt}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Nt}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Nt}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Nt}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Nt}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):ie.invalid(this.invalidReason)}mapEndpoints(e){return pe.fromDateTimes(e(this.s),e(this.e))}}class en{static hasDST(e=ge.defaultZone){const t=q.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Ye.isValidZone(e)}static normalizeZone(e){return it(e,ge.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||ue.create(t,n,i)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||ue.create(t,n,i)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null}={}){return(s||ue.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null}={}){return(s||ue.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return ue.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return ue.create(t,null,"gregory").eras(e)}static features(){return{relative:Vi()}}}function Es(r,e){const t=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=t(e)-t(r);return Math.floor(ie.fromMillis(n).as("days"))}function ol(r,e,t){const n=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const h=Es(l,u);return(h-h%7)/7}],["days",Es]],s={},i=r;let o,a;for(const[l,u]of n)t.indexOf(l)>=0&&(o=l,s[l]=u(r,e),a=i.plus(s),a>e?(s[l]--,r=i.plus(s),r>e&&(a=r,s[l]--,r=i.plus(s))):r=a);return[r,s,a,o]}function al(r,e,t,n){let[s,i,o,a]=ol(r,e,t);const l=e-s,u=t.filter(g=>["hours","minutes","seconds","milliseconds"].indexOf(g)>=0);u.length===0&&(o<e&&(o=s.plus({[a]:1})),o!==s&&(i[a]=(i[a]||0)+l/(o-s)));const h=ie.fromObject(i,n);return u.length>0?ie.fromMillis(l,n).shiftTo(...u).plus(h):h}const Mr={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Os={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ll=Mr.hanidec.replace(/[\[|\]]/g,"").split("");function ul(r){let e=parseInt(r,10);if(isNaN(e)){e="";for(let t=0;t<r.length;t++){const n=r.charCodeAt(t);if(r[t].search(Mr.hanidec)!==-1)e+=ll.indexOf(r[t]);else for(const s in Os){const[i,o]=Os[s];n>=i&&n<=o&&(e+=n-i)}}return parseInt(e,10)}else return e}function Fe({numberingSystem:r},e=""){return new RegExp(`${Mr[r||"latn"]}${e}`)}const cl="missing Intl.DateTimeFormat.formatToParts support";function oe(r,e=t=>t){return{regex:r,deser:([t])=>e(ul(t))}}const fl=String.fromCharCode(160),eo=`[ ${fl}]`,to=new RegExp(eo,"g");function hl(r){return r.replace(/\./g,"\\.?").replace(to,eo)}function Ss(r){return r.replace(/\./g,"").replace(to," ").toLowerCase()}function He(r,e){return r===null?null:{regex:RegExp(r.map(hl).join("|")),deser:([t])=>r.findIndex(n=>Ss(t)===Ss(n))+e}}function Is(r,e){return{regex:r,deser:([,t,n])=>kn(t,n),groups:e}}function tn(r){return{regex:r,deser:([e])=>e}}function dl(r){return r.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function ml(r,e){const t=Fe(e),n=Fe(e,"{2}"),s=Fe(e,"{3}"),i=Fe(e,"{4}"),o=Fe(e,"{6}"),a=Fe(e,"{1,2}"),l=Fe(e,"{1,3}"),u=Fe(e,"{1,6}"),h=Fe(e,"{1,9}"),g=Fe(e,"{2,4}"),f=Fe(e,"{4,6}"),p=k=>({regex:RegExp(dl(k.val)),deser:([b])=>b,literal:!0}),E=(k=>{if(r.literal)return p(k);switch(k.val){case"G":return He(e.eras("short"),0);case"GG":return He(e.eras("long"),0);case"y":return oe(u);case"yy":return oe(g,_r);case"yyyy":return oe(i);case"yyyyy":return oe(f);case"yyyyyy":return oe(o);case"M":return oe(a);case"MM":return oe(n);case"MMM":return He(e.months("short",!0),1);case"MMMM":return He(e.months("long",!0),1);case"L":return oe(a);case"LL":return oe(n);case"LLL":return He(e.months("short",!1),1);case"LLLL":return He(e.months("long",!1),1);case"d":return oe(a);case"dd":return oe(n);case"o":return oe(l);case"ooo":return oe(s);case"HH":return oe(n);case"H":return oe(a);case"hh":return oe(n);case"h":return oe(a);case"mm":return oe(n);case"m":return oe(a);case"q":return oe(a);case"qq":return oe(n);case"s":return oe(a);case"ss":return oe(n);case"S":return oe(l);case"SSS":return oe(s);case"u":return tn(h);case"uu":return tn(a);case"uuu":return oe(t);case"a":return He(e.meridiems(),0);case"kkkk":return oe(i);case"kk":return oe(g,_r);case"W":return oe(a);case"WW":return oe(n);case"E":case"c":return oe(t);case"EEE":return He(e.weekdays("short",!1),1);case"EEEE":return He(e.weekdays("long",!1),1);case"ccc":return He(e.weekdays("short",!0),1);case"cccc":return He(e.weekdays("long",!0),1);case"Z":case"ZZ":return Is(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return Is(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return tn(/[a-z_+-/]{1,256}?/i);case" ":return tn(/[^\S\n\r]/);default:return p(k)}})(r)||{invalidReason:cl};return E.token=r,E}const pl={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function gl(r,e,t){const{type:n,value:s}=r;if(n==="literal"){const l=/^\s+$/.test(s);return{literal:!l,val:l?" ":s}}const i=e[n];let o=n;n==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=t.hour12?"hour12":"hour24");let a=pl[o];if(typeof a=="object"&&(a=a[i]),a)return{literal:!1,val:a}}function yl(r){return[`^${r.map(t=>t.regex).reduce((t,n)=>`${t}(${n.source})`,"")}$`,r]}function vl(r,e,t){const n=r.match(e);if(n){const s={};let i=1;for(const o in t)if(Vt(t,o)){const a=t[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(s[a.token.val[0]]=a.deser(n.slice(i,i+l))),i+=l}return[n,s]}else return[n,{}]}function _l(r){const e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,n;return se(r.z)||(t=Ye.create(r.z)),se(r.Z)||(t||(t=new ke(r.Z)),n=r.Z),se(r.q)||(r.M=(r.q-1)*3+1),se(r.h)||(r.h<12&&r.a===1?r.h+=12:r.h===12&&r.a===0&&(r.h=0)),r.G===0&&r.y&&(r.y=-r.y),se(r.u)||(r.S=Er(r.u)),[Object.keys(r).reduce((i,o)=>{const a=e(o);return a&&(i[a]=r[o]),i},{}),t,n]}let ur=null;function wl(){return ur||(ur=q.fromMillis(1555555555555)),ur}function Tl(r,e){if(r.literal)return r;const t=we.macroTokenToFormatOpts(r.val),n=so(t,e);return n==null||n.includes(void 0)?r:n}function no(r,e){return Array.prototype.concat(...r.map(t=>Tl(t,e)))}function ro(r,e,t){const n=no(we.parseFormat(t),r),s=n.map(o=>ml(o,r)),i=s.find(o=>o.invalidReason);if(i)return{input:e,tokens:n,invalidReason:i.invalidReason};{const[o,a]=yl(s),l=RegExp(o,"i"),[u,h]=vl(e,l,a),[g,f,p]=h?_l(h):[null,null,void 0];if(Vt(h,"a")&&Vt(h,"H"))throw new Zt("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:l,rawMatches:u,matches:h,result:g,zone:f,specificOffset:p}}}function kl(r,e,t){const{result:n,zone:s,specificOffset:i,invalidReason:o}=ro(r,e,t);return[n,s,i,o]}function so(r,e){if(!r)return null;const n=we.create(e,r).dtFormatter(wl()),s=n.formatToParts(),i=n.resolvedOptions();return s.map(o=>gl(o,r,i))}const io=[0,31,59,90,120,151,181,212,243,273,304,334],oo=[0,31,60,91,121,152,182,213,244,274,305,335];function $e(r,e){return new Ae("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${r}, which is invalid`)}function ao(r,e,t){const n=new Date(Date.UTC(r,e-1,t));r<100&&r>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const s=n.getUTCDay();return s===0?7:s}function lo(r,e,t){return t+(Bt(r)?oo:io)[e-1]}function uo(r,e){const t=Bt(r)?oo:io,n=t.findIndex(i=>i<e),s=e-t[n];return{month:n+1,day:s}}function wr(r){const{year:e,month:t,day:n}=r,s=lo(e,t,n),i=ao(e,t,n);let o=Math.floor((s-i+10)/7),a;return o<1?(a=e-1,o=mn(a)):o>mn(e)?(a=e+1,o=1):a=e,{weekYear:a,weekNumber:o,weekday:i,...bn(r)}}function Cs(r){const{weekYear:e,weekNumber:t,weekday:n}=r,s=ao(e,1,4),i=qt(e);let o=t*7+n-s-3,a;o<1?(a=e-1,o+=qt(a)):o>i?(a=e+1,o-=qt(e)):a=e;const{month:l,day:u}=uo(a,o);return{year:a,month:l,day:u,...bn(r)}}function cr(r){const{year:e,month:t,day:n}=r,s=lo(e,t,n);return{year:e,ordinal:s,...bn(r)}}function Ms(r){const{year:e,ordinal:t}=r,{month:n,day:s}=uo(e,t);return{year:e,month:n,day:s,...bn(r)}}function bl(r){const e=wn(r.weekYear),t=qe(r.weekNumber,1,mn(r.weekYear)),n=qe(r.weekday,1,7);return e?t?n?!1:$e("weekday",r.weekday):$e("week",r.week):$e("weekYear",r.weekYear)}function El(r){const e=wn(r.year),t=qe(r.ordinal,1,qt(r.year));return e?t?!1:$e("ordinal",r.ordinal):$e("year",r.year)}function co(r){const e=wn(r.year),t=qe(r.month,1,12),n=qe(r.day,1,dn(r.year,r.month));return e?t?n?!1:$e("day",r.day):$e("month",r.month):$e("year",r.year)}function fo(r){const{hour:e,minute:t,second:n,millisecond:s}=r,i=qe(e,0,23)||e===24&&t===0&&n===0&&s===0,o=qe(t,0,59),a=qe(n,0,59),l=qe(s,0,999);return i?o?a?l?!1:$e("millisecond",s):$e("second",n):$e("minute",t):$e("hour",e)}const fr="Invalid DateTime",Ds=864e13;function nn(r){return new Ae("unsupported zone",`the zone "${r.name}" is not supported`)}function hr(r){return r.weekData===null&&(r.weekData=wr(r.c)),r.weekData}function yt(r,e){const t={ts:r.ts,zone:r.zone,c:r.c,o:r.o,loc:r.loc,invalid:r.invalid};return new q({...t,...e,old:t})}function ho(r,e,t){let n=r-e*60*1e3;const s=t.offset(n);if(e===s)return[n,e];n-=(s-e)*60*1e3;const i=t.offset(n);return s===i?[n,s]:[r-Math.min(s,i)*60*1e3,Math.max(s,i)]}function rn(r,e){r+=e*60*1e3;const t=new Date(r);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function ln(r,e,t){return ho(Tn(r),e,t)}function Ns(r,e){const t=r.o,n=r.c.year+Math.trunc(e.years),s=r.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...r.c,year:n,month:s,day:Math.min(r.c.day,dn(n,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=ie.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=Tn(i);let[l,u]=ho(a,t,r.zone);return o!==0&&(l+=o,u=r.zone.offset(l)),{ts:l,o:u}}function Rt(r,e,t,n,s,i){const{setZone:o,zone:a}=t;if(r&&Object.keys(r).length!==0||e){const l=e||a,u=q.fromObject(r,{...t,zone:l,specificOffset:i});return o?u:u.setZone(a)}else return q.invalid(new Ae("unparsable",`the input "${s}" can't be parsed as ${n}`))}function sn(r,e,t=!0){return r.isValid?we.create(ue.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(r,e):null}function dr(r,e){const t=r.c.year>9999||r.c.year<0;let n="";return t&&r.c.year>=0&&(n+="+"),n+=ye(r.c.year,t?6:4),e?(n+="-",n+=ye(r.c.month),n+="-",n+=ye(r.c.day)):(n+=ye(r.c.month),n+=ye(r.c.day)),n}function $s(r,e,t,n,s,i){let o=ye(r.c.hour);return e?(o+=":",o+=ye(r.c.minute),(r.c.millisecond!==0||r.c.second!==0||!t)&&(o+=":")):o+=ye(r.c.minute),(r.c.millisecond!==0||r.c.second!==0||!t)&&(o+=ye(r.c.second),(r.c.millisecond!==0||!n)&&(o+=".",o+=ye(r.c.millisecond,3))),s&&(r.isOffsetFixed&&r.offset===0&&!i?o+="Z":r.o<0?(o+="-",o+=ye(Math.trunc(-r.o/60)),o+=":",o+=ye(Math.trunc(-r.o%60))):(o+="+",o+=ye(Math.trunc(r.o/60)),o+=":",o+=ye(Math.trunc(r.o%60)))),i&&(o+="["+r.zone.ianaName+"]"),o}const mo={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Ol={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Sl={ordinal:1,hour:0,minute:0,second:0,millisecond:0},po=["year","month","day","hour","minute","second","millisecond"],Il=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Cl=["year","ordinal","hour","minute","second","millisecond"];function xs(r){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[r.toLowerCase()];if(!e)throw new pi(r);return e}function Ls(r,e){const t=it(e.zone,ge.defaultZone),n=ue.fromObject(e),s=ge.now();let i,o;if(se(r.year))i=s;else{for(const u of po)se(r[u])&&(r[u]=mo[u]);const a=co(r)||fo(r);if(a)return q.invalid(a);const l=t.offset(s);[i,o]=ln(r,l,t)}return new q({ts:i,zone:t,loc:n,o})}function Vs(r,e,t){const n=se(t.round)?!0:t.round,s=(o,a)=>(o=Or(o,n||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(o,a)),i=o=>t.calendary?e.hasSame(r,o)?0:e.startOf(o).diff(r.startOf(o),o).get(o):e.diff(r,o).get(o);if(t.unit)return s(i(t.unit),t.unit);for(const o of t.units){const a=i(o);if(Math.abs(a)>=1)return s(a,o)}return s(r>e?-0:0,t.units[t.units.length-1])}function Fs(r){let e={},t;return r.length>0&&typeof r[r.length-1]=="object"?(e=r[r.length-1],t=Array.from(r).slice(0,r.length-1)):t=Array.from(r),[e,t]}class q{constructor(e){const t=e.zone||ge.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new Ae("invalid input"):null)||(t.isValid?null:nn(t));this.ts=se(e.ts)?ge.now():e.ts;let s=null,i=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[s,i]=[e.old.c,e.old.o];else{const a=t.offset(this.ts);s=rn(this.ts,a),n=Number.isNaN(s.year)?new Ae("invalid input"):null,s=n?null:s,i=n?null:a}this._zone=t,this.loc=e.loc||ue.create(),this.invalid=n,this.weekData=null,this.c=s,this.o=i,this.isLuxonDateTime=!0}static now(){return new q({})}static local(){const[e,t]=Fs(arguments),[n,s,i,o,a,l,u]=t;return Ls({year:n,month:s,day:i,hour:o,minute:a,second:l,millisecond:u},e)}static utc(){const[e,t]=Fs(arguments),[n,s,i,o,a,l,u]=t;return e.zone=ke.utcInstance,Ls({year:n,month:s,day:i,hour:o,minute:a,second:l,millisecond:u},e)}static fromJSDate(e,t={}){const n=ra(e)?e.valueOf():NaN;if(Number.isNaN(n))return q.invalid("invalid input");const s=it(t.zone,ge.defaultZone);return s.isValid?new q({ts:n,zone:s,loc:ue.fromObject(t)}):q.invalid(nn(s))}static fromMillis(e,t={}){if(vt(e))return e<-Ds||e>Ds?q.invalid("Timestamp out of range"):new q({ts:e,zone:it(t.zone,ge.defaultZone),loc:ue.fromObject(t)});throw new Ne(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(vt(e))return new q({ts:e*1e3,zone:it(t.zone,ge.defaultZone),loc:ue.fromObject(t)});throw new Ne("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const n=it(t.zone,ge.defaultZone);if(!n.isValid)return q.invalid(nn(n));const s=ge.now(),i=se(t.specificOffset)?n.offset(s):t.specificOffset,o=pn(e,xs),a=!se(o.ordinal),l=!se(o.year),u=!se(o.month)||!se(o.day),h=l||u,g=o.weekYear||o.weekNumber,f=ue.fromObject(t);if((h||a)&&g)throw new Zt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new Zt("Can't mix ordinal dates with month/day");const p=g||o.weekday&&!h;let T,E,k=rn(s,i);p?(T=Il,E=Ol,k=wr(k)):a?(T=Cl,E=Sl,k=cr(k)):(T=po,E=mo);let b=!1;for(const z of T){const ae=o[z];se(ae)?b?o[z]=E[z]:o[z]=k[z]:b=!0}const N=p?bl(o):a?El(o):co(o),V=N||fo(o);if(V)return q.invalid(V);const O=p?Cs(o):a?Ms(o):o,[H,A]=ln(O,i,n),Q=new q({ts:H,zone:n,o:A,loc:f});return o.weekday&&h&&e.weekday!==Q.weekday?q.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${Q.toISO()}`):Q}static fromISO(e,t={}){const[n,s]=ja(e);return Rt(n,s,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,s]=Ga(e);return Rt(n,s,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,s]=Ya(e);return Rt(n,s,t,"HTTP",t)}static fromFormat(e,t,n={}){if(se(e)||se(t))throw new Ne("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:i=null}=n,o=ue.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0}),[a,l,u,h]=kl(o,e,t);return h?q.invalid(h):Rt(a,l,n,`format ${t}`,e,u)}static fromString(e,t,n={}){return q.fromFormat(e,t,n)}static fromSQL(e,t={}){const[n,s]=tl(e);return Rt(n,s,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Ne("need to specify a reason the DateTime is invalid");const n=e instanceof Ae?e:new Ae(e,t);if(ge.throwOnInvalid)throw new Lo(n);return new q({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const n=so(e,ue.fromObject(t));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(e,t={}){return no(we.parseFormat(e),ue.fromObject(t)).map(s=>s.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?hr(this).weekYear:NaN}get weekNumber(){return this.isValid?hr(this).weekNumber:NaN}get weekday(){return this.isValid?hr(this).weekday:NaN}get ordinal(){return this.isValid?cr(this.c).ordinal:NaN}get monthShort(){return this.isValid?en.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?en.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?en.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?en.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,n=Tn(this.c),s=this.zone.offset(n-e),i=this.zone.offset(n+e),o=this.zone.offset(n-s*t),a=this.zone.offset(n-i*t);if(o===a)return[this];const l=n-o*t,u=n-a*t,h=rn(l,o),g=rn(u,a);return h.hour===g.hour&&h.minute===g.minute&&h.second===g.second&&h.millisecond===g.millisecond?[yt(this,{ts:l}),yt(this,{ts:u})]:[this]}get isInLeapYear(){return Bt(this.year)}get daysInMonth(){return dn(this.year,this.month)}get daysInYear(){return this.isValid?qt(this.year):NaN}get weeksInWeekYear(){return this.isValid?mn(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:n,calendar:s}=we.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:s}}toUTC(e=0,t={}){return this.setZone(ke.instance(e),t)}toLocal(){return this.setZone(ge.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if(e=it(e,ge.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(t||n){const i=e.offset(this.ts),o=this.toObject();[s]=ln(o,i,e)}return yt(this,{ts:s,zone:e})}else return q.invalid(nn(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){const s=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n});return yt(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=pn(e,xs),n=!se(t.weekYear)||!se(t.weekNumber)||!se(t.weekday),s=!se(t.ordinal),i=!se(t.year),o=!se(t.month)||!se(t.day),a=i||o,l=t.weekYear||t.weekNumber;if((a||s)&&l)throw new Zt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&s)throw new Zt("Can't mix ordinal dates with month/day");let u;n?u=Cs({...wr(this.c),...t}):se(t.ordinal)?(u={...this.toObject(),...t},se(t.day)&&(u.day=Math.min(dn(u.year,u.month),u.day))):u=Ms({...cr(this.c),...t});const[h,g]=ln(u,this.o,this.zone);return yt(this,{ts:h,o:g})}plus(e){if(!this.isValid)return this;const t=ie.fromDurationLike(e);return yt(this,Ns(this,t))}minus(e){if(!this.isValid)return this;const t=ie.fromDurationLike(e).negate();return yt(this,Ns(this,t))}startOf(e){if(!this.isValid)return this;const t={},n=ie.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;break}if(n==="weeks"&&(t.weekday=1),n==="quarters"){const s=Math.ceil(this.month/3);t.month=(s-1)*3+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?we.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):fr}toLocaleString(e=hn,t={}){return this.isValid?we.create(this.loc.clone(t),e).formatDateTime(this):fr}toLocaleParts(e={}){return this.isValid?we.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=dr(this,o);return a+="T",a+=$s(this,o,t,n,s,i),a}toISODate({format:e="extended"}={}){return this.isValid?dr(this,e==="extended"):null}toISOWeekDate(){return sn(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:i=!1,format:o="extended"}={}){return this.isValid?(s?"T":"")+$s(this,o==="extended",t,e,n,i):null}toRFC2822(){return sn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return sn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?dr(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(t||e)&&(n&&(s+=" "),t?s+="z":e&&(s+="ZZ")),sn(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():fr}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return ie.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...n},i=sa(t).map(ie.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,u=al(a,l,i,s);return o?u.negate():u}diffNow(e="milliseconds",t={}){return this.diff(q.now(),e,t)}until(e){return this.isValid?pe.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;const n=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(t)<=n&&n<=s.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||q.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(s=e.unit,i=void 0),Vs(t,this.plus(n),{...e,numeric:"always",units:s,unit:i})}toRelativeCalendar(e={}){return this.isValid?Vs(e.base||q.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(q.isDateTime))throw new Ne("min requires all arguments be DateTimes");return _s(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(q.isDateTime))throw new Ne("max requires all arguments be DateTimes");return _s(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:s=null,numberingSystem:i=null}=n,o=ue.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0});return ro(o,e,t)}static fromStringExplain(e,t,n={}){return q.fromFormatExplain(e,t,n)}static get DATE_SHORT(){return hn}static get DATE_MED(){return gi}static get DATE_MED_WITH_WEEKDAY(){return Ho}static get DATE_FULL(){return yi}static get DATE_HUGE(){return vi}static get TIME_SIMPLE(){return _i}static get TIME_WITH_SECONDS(){return wi}static get TIME_WITH_SHORT_OFFSET(){return Ti}static get TIME_WITH_LONG_OFFSET(){return ki}static get TIME_24_SIMPLE(){return bi}static get TIME_24_WITH_SECONDS(){return Ei}static get TIME_24_WITH_SHORT_OFFSET(){return Oi}static get TIME_24_WITH_LONG_OFFSET(){return Si}static get DATETIME_SHORT(){return Ii}static get DATETIME_SHORT_WITH_SECONDS(){return Ci}static get DATETIME_MED(){return Mi}static get DATETIME_MED_WITH_SECONDS(){return Di}static get DATETIME_MED_WITH_WEEKDAY(){return Ao}static get DATETIME_FULL(){return Ni}static get DATETIME_FULL_WITH_SECONDS(){return $i}static get DATETIME_HUGE(){return xi}static get DATETIME_HUGE_WITH_SECONDS(){return Li}}function Ut(r){if(q.isDateTime(r))return r;if(r&&r.valueOf&&vt(r.valueOf()))return q.fromJSDate(r);if(r&&typeof r=="object")return q.fromObject(r);throw new Ne(`Unknown datetime argument: ${r}, of type ${typeof r}`)}const Ml="#28B463",go="#58D68D",yo="#F7DC6F",vo="#E59866",_o="#E74C3C",wo="#BF40BF",Hs=[go,"#96db78","#c9dd6d",yo,"#f5c469","#efad66",vo,"#e68253","#e76a45",_o],As=[go,yo,vo,_o],To=wo,ko="gold",be=function(r,e){if(r<=0)return Ml;if(r>e)return wo;const t=Hs.length,n=t/e,s=Math.min(t-1,Math.floor(r*n));return Hs[s]},Dl=function(r,e){const t=e/2,n=As.length,s=n/t,i=n-1-Math.min(n-1,Math.floor(r*s));return As[i]};function Nl(r){let e;return{c(){e=_("i"),this.h()},l(t){e=w(t,"I",{class:!0,style:!0}),D(e).forEach(y),this.h()},h(){v(e,"class","fa-solid fa-fade fa-triangle-exclamation"),re(e,"color",To)},m(t,n){M(t,e,n)},p:J,i:J,o:J,d(t){t&&y(e)}}}class Tr extends Le{constructor(e){super(),Ve(this,e,null,Nl,xe,{})}}function $l(r){let e,t,n,s,i="pence/kWh",o,a,l='<i class="fa-solid fa-arrow-rotate-right"></i>',u,h;return{c(){e=_("div"),t=_("input"),n=$(),s=_("span"),s.textContent=i,o=$(),a=_("button"),a.innerHTML=l,this.h()},l(g){e=w(g,"DIV",{class:!0});var f=D(e);t=w(f,"INPUT",{type:!0,min:!0,max:!0,class:!0}),n=x(f),s=w(f,"SPAN",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-1jk2nhp"&&(s.textContent=i),o=x(f),a=w(f,"BUTTON",{class:!0,type:!0,title:!0,"data-svelte-h":!0}),K(a)!=="svelte-kd1nxi"&&(a.innerHTML=l),f.forEach(y),this.h()},h(){v(t,"type","number"),v(t,"min",br),v(t,"max",kr),v(t,"class","form-control"),v(s,"class","input-group-text"),v(a,"class","btn btn-outline-secondary"),v(a,"type","button"),v(a,"title","Reset Price Cap"),v(e,"class","input-group mb-4")},m(g,f){M(g,e,f),m(e,t),Lt(t,r[0]),m(e,n),m(e,s),m(e,o),m(e,a),u||(h=[Ue(t,"input",r[2]),Ue(a,"click",r[3])],u=!0)},p(g,[f]){f&1&&mi(t.value)!==g[0]&&Lt(t,g[0])},i:J,o:J,d(g){g&&y(e),u=!1,vn(h)}}}const kr=99,br=1;function xl(r,e,t){let{defaultPriceCap:n}=e,{priceCap:s}=e;const i=()=>{s<br?t(0,s=br):s>kr&&t(0,s=kr)};Gt(()=>{t(0,s=n)});function o(){s=mi(this.value),t(0,s)}const a=()=>{t(0,s=n)};return r.$$set=l=>{"defaultPriceCap"in l&&t(1,n=l.defaultPriceCap),"priceCap"in l&&t(0,s=l.priceCap)},r.$$.update=()=>{r.$$.dirty&1&&s&&i()},[s,n,o,a]}class Ll extends Le{constructor(e){super(),Ve(this,e,xl,$l,xe,{defaultPriceCap:1,priceCap:0})}}function Vl(r){let e;return{c(){e=_("i"),this.h()},l(t){e=w(t,"I",{class:!0}),D(e).forEach(y),this.h()},h(){v(e,"class","fa-solid fa-bolt fa-beat text-warning-emphasis")},m(t,n){M(t,e,n)},p:J,i:J,o:J,d(t){t&&y(e)}}}class gn extends Le{constructor(e){super(),Ve(this,e,null,Vl,xe,{})}}function Fl(r){let e,t,n,s,i,o,a,l="Getting the most recent pricing from Octopus Energy",u;return n=new gn({}),i=new gn({}),{c(){e=_("div"),t=_("p"),fe(n.$$.fragment),s=Z(" Loading Pricing "),fe(i.$$.fragment),o=$(),a=_("p"),a.textContent=l,this.h()},l(h){e=w(h,"DIV",{class:!0,role:!0});var g=D(e);t=w(g,"P",{class:!0});var f=D(t);he(n.$$.fragment,f),s=W(f," Loading Pricing "),he(i.$$.fragment,f),f.forEach(y),o=x(g),a=w(g,"P",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-1hy3shr"&&(a.textContent=l),g.forEach(y),this.h()},h(){v(t,"class","fs-1 mb-2 text-warning-emphasis"),v(a,"class","mb-0"),v(e,"class","alert alert-dark text-center"),v(e,"role","alert")},m(h,g){M(h,e,g),m(e,t),de(n,t,null),m(t,s),de(i,t,null),m(e,o),m(e,a),u=!0},p:J,i(h){u||(X(n.$$.fragment,h),X(i.$$.fragment,h),u=!0)},o(h){te(n.$$.fragment,h),te(i.$$.fragment,h),u=!1},d(h){h&&y(e),me(n),me(i)}}}class Dr extends Le{constructor(e){super(),Ve(this,e,null,Fl,xe,{})}}function Te(r,e=0){const t=Math.pow(10,e);return Math.round(r*t)/t}function Hl(r){let e;return{c(){e=_("i"),this.h()},l(t){e=w(t,"I",{class:!0}),D(e).forEach(y),this.h()},h(){v(e,"class","fa-solid fa-hourglass-half")},m(t,n){M(t,e,n)},p:J,i:J,o:J,d(t){t&&y(e)}}}class Nr extends Le{constructor(e){super(),Ve(this,e,null,Hl,xe,{})}}class Al{constructor(){pt(this,"validFrom");pt(this,"validTo");pt(this,"import");pt(this,"export")}isNow(){const e=q.now();return this.validFrom<e&&this.validTo>e}readableTime(){return this.validFrom.toFormat("t")}fullReadableDate(){return this.validFrom.toFormat("DDDD")}isFuture(){const e=q.now();return this.validFrom>e}diffStr(){if(this.isNow())return"NOW";const e=q.now(),t=this.validFrom.diff(e,["hours","minutes"]).toObject();let n=t.hours||0,s=Math.round(t.minutes||0);return s===60&&(n+=1,s=0),n===0&&s===0?"<1m":n===0?`${s}m`:`${n}h ${s.toString().padStart(2,"0")}m`}importStr(){return Number.isFinite(this.import)?`${Te(this.import)}p`:"n/a"}exportStr(){return Number.isFinite(this.export)?`${Te(this.export)}p`:"n/a"}importColor(e){return be(this.import,e)}exportColor(e){return Dl(this.export,e)}importCloseToLowestImport(e,t=2){return this.import<=e+t}exportCloseToHighestExport(e,t=2){return this.export>=e-t}}function Ps(r,e,t){const n=r.slice();return n[12]=e[t],n}function Rs(r,e,t){const n=r.slice();n[15]=e[t];const s=n[2][n[8](n[15],n[12])];return n[16]=s,n}function Us(r,e,t){const n=r.slice();n[15]=e[t];const s=n[6][`${n[15]}`];return n[19]=s,n}function Zs(r,e,t){const n=r.slice();n[15]=e[t];const s=n[5][`${n[15]}`];return n[19]=s,n}function Ws(r,e,t){const n=r.slice();n[15]=e[t];const s=n[7][`${n[15]}`];return n[19]=s,n}function zs(r,e,t){const n=r.slice();return n[15]=e[t],n}function Pl(r){let e,t,n;return e=new Nr({}),{c(){fe(e.$$.fragment),t=Z(" Waiting on data...")},l(s){he(e.$$.fragment,s),t=W(s," Waiting on data...")},m(s,i){de(e,s,i),M(s,t,i),n=!0},p:J,i(s){n||(X(e.$$.fragment,s),n=!0)},o(s){te(e.$$.fragment,s),n=!1},d(s){s&&y(t),me(e,s)}}}function Rl(r){let e,t;return e=new Dr({}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p:J,i(n){t||(X(e.$$.fragment,n),t=!0)},o(n){te(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function Ul(r){let e,t,n=" ",s,i,o,a,l="<small>Low</small>",u,h,g,f,p="<small>Avg</small>",T,E,k,b,N="<small>High</small>",V,O,H,A="Half-Hourly Pricing",Q,z,ae=le(r[3].values()),R=[];for(let d=0;d<ae.length;d+=1)R[d]=qs(zs(r,ae,d));let ce=le(r[3].values()),S=[];for(let d=0;d<ce.length;d+=1)S[d]=js(Ws(r,ce,d));let j=le(r[3].values()),I=[];for(let d=0;d<j.length;d+=1)I[d]=Gs(Zs(r,j,d));let ne=le(r[3].values()),P=[];for(let d=0;d<ne.length;d+=1)P[d]=Ys(Us(r,ne,d));let L=le(r[4].values()),U=[];for(let d=0;d<L.length;d+=1)U[d]=Js(Ps(r,L,d));return{c(){e=_("div"),t=_("div"),t.textContent=n,s=$();for(let d=0;d<R.length;d+=1)R[d].c();i=$(),o=_("div"),a=_("div"),a.innerHTML=l,u=$();for(let d=0;d<S.length;d+=1)S[d].c();h=$(),g=_("div"),f=_("div"),f.innerHTML=p,T=$();for(let d=0;d<I.length;d+=1)I[d].c();E=$(),k=_("div"),b=_("div"),b.innerHTML=N,V=$();for(let d=0;d<P.length;d+=1)P[d].c();O=$(),H=_("h3"),H.textContent=A,Q=$();for(let d=0;d<U.length;d+=1)U[d].c();z=Se(),this.h()},l(d){e=w(d,"DIV",{class:!0});var F=D(e);t=w(F,"DIV",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1uln4ml"&&(t.textContent=n),s=x(F);for(let Y=0;Y<R.length;Y+=1)R[Y].l(F);F.forEach(y),i=x(d),o=w(d,"DIV",{class:!0});var c=D(o);a=w(c,"DIV",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-1erojqh"&&(a.innerHTML=l),u=x(c);for(let Y=0;Y<S.length;Y+=1)S[Y].l(c);c.forEach(y),h=x(d),g=w(d,"DIV",{class:!0});var ee=D(g);f=w(ee,"DIV",{class:!0,"data-svelte-h":!0}),K(f)!=="svelte-r4dfpf"&&(f.innerHTML=p),T=x(ee);for(let Y=0;Y<I.length;Y+=1)I[Y].l(ee);ee.forEach(y),E=x(d),k=w(d,"DIV",{class:!0});var Ie=D(k);b=w(Ie,"DIV",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-e7vzyp"&&(b.innerHTML=N),V=x(Ie);for(let Y=0;Y<P.length;Y+=1)P[Y].l(Ie);Ie.forEach(y),O=x(d),H=w(d,"H3",{class:!0,"data-svelte-h":!0}),K(H)!=="svelte-1vzbbzv"&&(H.textContent=A),Q=x(d);for(let Y=0;Y<U.length;Y+=1)U[Y].l(d);z=Se(),this.h()},h(){v(t,"class","col p-0 pe-1"),v(e,"class","row justify-content-center font-monospace text-end"),v(a,"class","col p-0 pe-1 text-center"),v(o,"class","row justify-content-center font-monospace text-end"),v(f,"class","col p-0 pe-1 text-center"),v(g,"class","row justify-content-center font-monospace text-end"),v(b,"class","col p-0 pe-1 text-center"),v(k,"class","row justify-content-center font-monospace text-end mb-2"),v(H,"class","h6 text-center")},m(d,F){M(d,e,F),m(e,t),m(e,s);for(let c=0;c<R.length;c+=1)R[c]&&R[c].m(e,null);M(d,i,F),M(d,o,F),m(o,a),m(o,u);for(let c=0;c<S.length;c+=1)S[c]&&S[c].m(o,null);M(d,h,F),M(d,g,F),m(g,f),m(g,T);for(let c=0;c<I.length;c+=1)I[c]&&I[c].m(g,null);M(d,E,F),M(d,k,F),m(k,b),m(k,V);for(let c=0;c<P.length;c+=1)P[c]&&P[c].m(k,null);M(d,O,F),M(d,H,F),M(d,Q,F);for(let c=0;c<U.length;c+=1)U[c]&&U[c].m(d,F);M(d,z,F)},p(d,F){if(F&8){ae=le(d[3].values());let c;for(c=0;c<ae.length;c+=1){const ee=zs(d,ae,c);R[c]?R[c].p(ee,F):(R[c]=qs(ee),R[c].c(),R[c].m(e,null))}for(;c<R.length;c+=1)R[c].d(1);R.length=ae.length}if(F&137){ce=le(d[3].values());let c;for(c=0;c<ce.length;c+=1){const ee=Ws(d,ce,c);S[c]?S[c].p(ee,F):(S[c]=js(ee),S[c].c(),S[c].m(o,null))}for(;c<S.length;c+=1)S[c].d(1);S.length=ce.length}if(F&41){j=le(d[3].values());let c;for(c=0;c<j.length;c+=1){const ee=Zs(d,j,c);I[c]?I[c].p(ee,F):(I[c]=Gs(ee),I[c].c(),I[c].m(g,null))}for(;c<I.length;c+=1)I[c].d(1);I.length=j.length}if(F&73){ne=le(d[3].values());let c;for(c=0;c<ne.length;c+=1){const ee=Us(d,ne,c);P[c]?P[c].p(ee,F):(P[c]=Ys(ee),P[c].c(),P[c].m(k,null))}for(;c<P.length;c+=1)P[c].d(1);P.length=ne.length}if(F&285){L=le(d[4].values());let c;for(c=0;c<L.length;c+=1){const ee=Ps(d,L,c);U[c]?U[c].p(ee,F):(U[c]=Js(ee),U[c].c(),U[c].m(z.parentNode,z))}for(;c<U.length;c+=1)U[c].d(1);U.length=L.length}},i:J,o:J,d(d){d&&(y(e),y(i),y(o),y(h),y(g),y(E),y(k),y(O),y(H),y(Q),y(z)),Oe(R,d),Oe(S,d),Oe(I,d),Oe(P,d),Oe(U,d)}}}function qs(r){let e,t=r[15]+"",n;return{c(){e=_("div"),n=Z(t),this.h()},l(s){e=w(s,"DIV",{class:!0});var i=D(e);n=W(i,t),i.forEach(y),this.h()},h(){v(e,"class","col p-0 pe-1")},m(s,i){M(s,e,i),m(e,n)},p(s,i){i&8&&t!==(t=s[15]+"")&&_e(n,t)},d(s){s&&y(e)}}}function js(r){let e,t=Te(r[19])+"",n,s;return{c(){e=_("div"),n=Z(t),s=Z(`p
            `),this.h()},l(i){e=w(i,"DIV",{class:!0,style:!0});var o=D(e);n=W(o,t),s=W(o,`p
            `),o.forEach(y),this.h()},h(){v(e,"class","col p-0 pe-1 "),re(e,"background-color",be(r[19],r[0])),re(e,"color","Black")},m(i,o){M(i,e,o),m(e,n),m(e,s)},p(i,o){o&136&&t!==(t=Te(i[19])+"")&&_e(n,t),o&137&&re(e,"background-color",be(i[19],i[0]))},d(i){i&&y(e)}}}function Gs(r){let e,t=Te(r[19])+"",n,s;return{c(){e=_("div"),n=Z(t),s=Z(`p
            `),this.h()},l(i){e=w(i,"DIV",{class:!0,style:!0});var o=D(e);n=W(o,t),s=W(o,`p
            `),o.forEach(y),this.h()},h(){v(e,"class","col p-0 pe-1 "),re(e,"background-color",be(r[19],r[0])),re(e,"color","Black")},m(i,o){M(i,e,o),m(e,n),m(e,s)},p(i,o){o&40&&t!==(t=Te(i[19])+"")&&_e(n,t),o&41&&re(e,"background-color",be(i[19],i[0]))},d(i){i&&y(e)}}}function Ys(r){let e,t=Te(r[19])+"",n,s;return{c(){e=_("div"),n=Z(t),s=Z(`p
            `),this.h()},l(i){e=w(i,"DIV",{class:!0,style:!0});var o=D(e);n=W(o,t),s=W(o,`p
            `),o.forEach(y),this.h()},h(){v(e,"class","col p-0 pe-1 "),re(e,"background-color",be(r[19],r[0])),re(e,"color","Black")},m(i,o){M(i,e,o),m(e,n),m(e,s)},p(i,o){o&72&&t!==(t=Te(i[19])+"")&&_e(n,t),o&73&&re(e,"background-color",be(i[19],i[0]))},d(i){i&&y(e)}}}function Zl(r){let e,t=" ";return{c(){e=_("div"),e.textContent=t,this.h()},l(n){e=w(n,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1uln4ml"&&(e.textContent=t),this.h()},h(){v(e,"class","col p-0 pe-1")},m(n,s){M(n,e,s)},p:J,d(n){n&&y(e)}}}function Wl(r){let e,t=r[16].importStr()+"",n;return{c(){e=_("div"),n=Z(t),this.h()},l(s){e=w(s,"DIV",{class:!0,style:!0});var i=D(e);n=W(i,t),i.forEach(y),this.h()},h(){v(e,"class","col p-0 pe-1"),re(e,"background-color",r[16].importColor(r[0])),re(e,"color","Black")},m(s,i){M(s,e,i),m(e,n)},p(s,i){i&28&&t!==(t=s[16].importStr()+"")&&_e(n,t),i&29&&re(e,"background-color",s[16].importColor(s[0]))},d(s){s&&y(e)}}}function Bs(r){let e;function t(i,o){return i[16]?Wl:Zl}let n=t(r),s=n(r);return{c(){s.c(),e=Se()},l(i){s.l(i),e=Se()},m(i,o){s.m(i,o),M(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&y(e),s.d(i)}}}function Js(r){let e,t,n,s=r[12]+"",i,o,a,l=le(r[3].values()),u=[];for(let h=0;h<l.length;h+=1)u[h]=Bs(Rs(r,l,h));return{c(){e=_("div"),t=_("div"),n=_("small"),i=Z(s),o=$();for(let h=0;h<u.length;h+=1)u[h].c();a=$(),this.h()},l(h){e=w(h,"DIV",{class:!0});var g=D(e);t=w(g,"DIV",{class:!0});var f=D(t);n=w(f,"SMALL",{});var p=D(n);i=W(p,s),p.forEach(y),f.forEach(y),o=x(g);for(let T=0;T<u.length;T+=1)u[T].l(g);a=x(g),g.forEach(y),this.h()},h(){v(t,"class","col p-0 pe-1 text-center"),v(e,"class","row justify-content-center font-monospace text-end")},m(h,g){M(h,e,g),m(e,t),m(t,n),m(n,i),m(e,o);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(e,null);m(e,a)},p(h,g){if(g&16&&s!==(s=h[12]+"")&&_e(i,s),g&285){l=le(h[3].values());let f;for(f=0;f<l.length;f+=1){const p=Rs(h,l,f);u[f]?u[f].p(p,g):(u[f]=Bs(p),u[f].c(),u[f].m(e,a))}for(;f<u.length;f+=1)u[f].d(1);u.length=l.length}},d(h){h&&y(e),Oe(u,h)}}}function zl(r){let e,t,n,s;const i=[Ul,Rl,Pl],o=[];function a(l,u){return l[2]&&l[4].length&&l[3].length?0:l[1]?1:2}return e=a(r),t=o[e]=i[e](r),{c(){t.c(),n=Se()},l(l){t.l(l),n=Se()},m(l,u){o[e].m(l,u),M(l,n,u),s=!0},p(l,[u]){let h=e;e=a(l),e===h?o[e].p(l,u):(je(),te(o[h],1,1,()=>{o[h]=null}),Ge(),t=o[e],t?t.p(l,u):(t=o[e]=i[e](l),t.c()),X(t,1),t.m(n.parentNode,n))},i(l){s||(X(t),s=!0)},o(l){te(t),s=!1},d(l){l&&y(n),o[e].d(l)}}}function ql(r,e,t){let{pricing:n=[]}=e,{priceCap:s}=e,{updating:i=!1}=e,o={},a,l,u={},h={},g={},f={};const p=(E,k)=>`${E}-${k}`,T=function(){const E=q.now();let k=E.minus({days:7}).startOf("day"),b=E.minus({days:1}).endOf("day"),N=new Set,V=new Set;for(const O of n){const H=O.validFrom.toUnixInteger();if(H>=k.toUnixInteger()&&H<=b.toUnixInteger()){const A=O.validFrom.toFormat("ccc"),Q=O.validFrom.toFormat("HH:mm");N.add(A),V.add(Q),t(2,o[p(A,Q)]=O,o)}}for(const O of N.values()){h[`${O}`]=0,t(6,g[`${O}`]=-1/0,g),t(7,f[`${O}`]=1/0,f);for(const H of V.values()){const A=o[p(O,H)];A&&(h[`${O}`]+=A.import,t(6,g[`${O}`]=g[`${O}`]<A.import?A.import:g[`${O}`],g),t(7,f[`${O}`]=f[`${O}`]>A.import?A.import:f[`${O}`],f))}t(5,u[`${O}`]=h[`${O}`]/V.size,u)}t(2,o),t(3,a=Array.from(N).map(O=>`${O}`)),t(4,l=Array.from(V).map(O=>`${O}`))};return Gt(()=>{T()}),r.$$set=E=>{"pricing"in E&&t(9,n=E.pricing),"priceCap"in E&&t(0,s=E.priceCap),"updating"in E&&t(1,i=E.updating)},r.$$.update=()=>{r.$$.dirty&512&&T()},[s,i,o,a,l,u,g,f,p,n]}class jl extends Le{constructor(e){super(),Ve(this,e,ql,zl,xe,{pricing:9,priceCap:0,updating:1})}}const un=28.62;class Ee{constructor(e,t){pt(this,"code");pt(this,"name");this.code=e,this.name=t}get slug(){return`${this.name.toLocaleLowerCase().replace(/[^\w]/gi,"-")}-${this.code}`}get longName(){return`${this.name} (${this.code})`}}const bo=[new Ee("A","Eastern England"),new Ee("B","East Midlands"),new Ee("C","London"),new Ee("D","Merseyside and Northern Wales"),new Ee("E","West Midlands"),new Ee("F","North Eastern England"),new Ee("G","North Western England"),new Ee("H","Southern England"),new Ee("J","South Eastern England"),new Ee("K","Southern Wales"),new Ee("L","South Western England"),new Ee("M","Yorkshire"),new Ee("N","Southern Scotland"),new Ee("P","Northern Scotland")],Gl="B",Eo=function(r){for(const e of bo)if(e.code===r)return e;return null},Yl=function(r){return Eo(r)!==null};class $t{static setItem(e,t){localStorage&&localStorage.setItem(e,t)}static getItem(e){return localStorage?localStorage.getItem(e):null}}const Qs="https://api.octopus.energy/v1/products";class mr{static async fetch(e,t,n){const s=`${Qs}/AGILE-FLEX-22-11-25/electricity-tariffs/E-1R-AGILE-FLEX-22-11-25-${e}/standard-unit-rates/?page_size=1500&period_from=${t.toUTC().toISO()}&period_to=${n.toUTC().toISO()}`,i=`${Qs}/AGILE-OUTGOING-19-05-13/electricity-tariffs/E-1R-AGILE-OUTGOING-19-05-13-${e}/standard-unit-rates/?page_size=1500&period_from=${t.toUTC().toISO()}&period_to=${n.toUTC().toISO()}`,o=await fetch(s),a=await fetch(i);return{importJson:await o.json(),exportJson:await a.json()}}static jsonToPriceArray(e,t){const n={};for(const i of e.results){const o=new Al;o.validFrom=q.fromISO(i.valid_from),o.validTo=q.fromISO(i.valid_to),o.import=Math.round(i.value_inc_vat*10)/10,n[i.valid_from]=o}for(const i of t.results){const o=n[i.valid_from];o&&(o.export=Math.round(i.value_inc_vat*10)/10)}const s=Object.keys(n).map(i=>n[i]);return s.sort((i,o)=>i.validFrom.toUnixInteger()-o.validFrom.toUnixInteger()),s}}function Bl(r){let e,t;return{c(){e=_("i"),this.h()},l(n){e=w(n,"I",{class:!0,style:!0}),D(e).forEach(y),this.h()},h(){v(e,"class","fa-solid fa-arrow-down"),v(e,"style",t=r[0]?`color: ${r[0]}`:"")},m(n,s){M(n,e,s)},p(n,[s]){s&1&&t!==(t=n[0]?`color: ${n[0]}`:"")&&v(e,"style",t)},i:J,o:J,d(n){n&&y(e)}}}function Jl(r,e,t){let{color:n=""}=e;return r.$$set=s=>{"color"in s&&t(0,n=s.color)},[n]}class Ql extends Le{constructor(e){super(),Ve(this,e,Jl,Bl,xe,{color:0})}}function Kl(r){let e;return{c(){e=_("i"),this.h()},l(t){e=w(t,"I",{class:!0,style:!0}),D(e).forEach(y),this.h()},h(){v(e,"class","fa-solid fa-coins fa-beat"),re(e,"color",ko)},m(t,n){M(t,e,n)},p:J,i:J,o:J,d(t){t&&y(e)}}}class Oo extends Le{constructor(e){super(),Ve(this,e,null,Kl,xe,{})}}function Ks(r,e,t){const n=r.slice();return n[8]=e[t],n}function Xl(r){let e,t,n;return e=new Nr({}),{c(){fe(e.$$.fragment),t=Z(" Waiting on data...")},l(s){he(e.$$.fragment,s),t=W(s," Waiting on data...")},m(s,i){de(e,s,i),M(s,t,i),n=!0},p:J,i(s){n||(X(e.$$.fragment,s),n=!0)},o(s){te(e.$$.fragment,s),n=!1},d(s){s&&y(t),me(e,s)}}}function eu(r){let e,t;return e=new Dr({}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p:J,i(n){t||(X(e.$$.fragment,n),t=!0)},o(n){te(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function tu(r){let e,t,n,s,i,o=le(r[2]),a=[];for(let f=0;f<o.length;f+=1)a[f]=ei(Ks(r,o,f));const l=f=>te(a[f],1,1,()=>{a[f]=null}),u=[ou,iu],h=[];function g(f,p){return f[1]?0:1}return n=g(r),s=h[n]=u[n](r),{c(){for(let f=0;f<a.length;f+=1)a[f].c();e=$(),t=_("p"),s.c(),this.h()},l(f){for(let T=0;T<a.length;T+=1)a[T].l(f);e=x(f),t=w(f,"P",{class:!0});var p=D(t);s.l(p),p.forEach(y),this.h()},h(){v(t,"class","text-center")},m(f,p){for(let T=0;T<a.length;T+=1)a[T]&&a[T].m(f,p);M(f,e,p),M(f,t,p),h[n].m(t,null),i=!0},p(f,p){if(p&13){o=le(f[2]);let E;for(E=0;E<o.length;E+=1){const k=Ks(f,o,E);a[E]?(a[E].p(k,p),X(a[E],1)):(a[E]=ei(k),a[E].c(),X(a[E],1),a[E].m(e.parentNode,e))}for(je(),E=o.length;E<a.length;E+=1)l(E);Ge()}let T=n;n=g(f),n!==T&&(je(),te(h[T],1,1,()=>{h[T]=null}),Ge(),s=h[n],s||(s=h[n]=u[n](f),s.c()),X(s,1),s.m(t,null))},i(f){if(!i){for(let p=0;p<o.length;p+=1)X(a[p]);X(s),i=!0}},o(f){a=a.filter(Boolean);for(let p=0;p<a.length;p+=1)te(a[p]);te(s),i=!1},d(f){f&&(y(e),y(t)),Oe(a,f),h[n].d()}}}function Xs(r){let e,t,n=r[8].price.fullReadableDate()+"",s,i,o,a='<div class="col-2 px-0">Time</div> <div class="col-3 px-0 text-end">When</div> <div class="col-2 px-0"> </div> <div class="col-2 px-0">Import</div> <div class="col-2 px-0">Export</div>';return{c(){e=_("div"),t=_("div"),s=Z(n),i=$(),o=_("div"),o.innerHTML=a,this.h()},l(l){e=w(l,"DIV",{class:!0});var u=D(e);t=w(u,"DIV",{class:!0});var h=D(t);s=W(h,n),h.forEach(y),u.forEach(y),i=x(l),o=w(l,"DIV",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-1m3m2io"&&(o.innerHTML=a),this.h()},h(){v(t,"class","col-12 text-center text-bg-dark p-2 fw-bold"),v(e,"class","row justify-content-center"),v(o,"class","row justify-content-center text-center")},m(l,u){M(l,e,u),m(e,t),m(t,s),M(l,i,u),M(l,o,u)},p(l,u){u&4&&n!==(n=l[8].price.fullReadableDate()+"")&&_e(s,n)},d(l){l&&(y(e),y(i),y(o))}}}function nu(r){let e,t;return e=new Tr({}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p:J,i(n){t||(X(e.$$.fragment,n),t=!0)},o(n){te(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function ru(r){let e,t;return e=new Ql({props:{color:r[8].price.importColor(r[0])}}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p(n,s){const i={};s&5&&(i.color=n[8].price.importColor(n[0])),e.$set(i)},i(n){t||(X(e.$$.fragment,n),t=!0)},o(n){te(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function su(r){let e,t;return e=new Oo({}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p:J,i(n){t||(X(e.$$.fragment,n),t=!0)},o(n){te(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function ei(r){let e,t,n,s=r[8].price.readableTime()+"",i,o,a,l=r[8].price.diffStr()+"",u,h,g,f,p,T,E,k,b=r[8].price.importStr()+"",N,V,O,H=r[8].price.exportStr()+"",A,Q,z=r[8].heading&&Xs(r);const ae=[su,ru,nu],R=[];function ce(S,j){return j&12&&(f=null),S[8].price.import<0?0:(f==null&&(f=!!S[8].price.importCloseToLowestImport(S[3][S[8].price.fullReadableDate()])),f?1:S[8].price.import>S[0]?2:-1)}return~(p=ce(r,-1))&&(T=R[p]=ae[p](r)),{c(){z&&z.c(),e=$(),t=_("div"),n=_("div"),i=Z(s),o=$(),a=_("div"),u=Z(l),h=$(),g=_("div"),T&&T.c(),E=$(),k=_("div"),N=Z(b),V=$(),O=_("div"),A=Z(H),this.h()},l(S){z&&z.l(S),e=x(S),t=w(S,"DIV",{class:!0});var j=D(t);n=w(j,"DIV",{class:!0});var I=D(n);i=W(I,s),I.forEach(y),o=x(j),a=w(j,"DIV",{class:!0});var ne=D(a);u=W(ne,l),ne.forEach(y),h=x(j),g=w(j,"DIV",{class:!0});var P=D(g);T&&T.l(P),P.forEach(y),E=x(j),k=w(j,"DIV",{class:!0,style:!0});var L=D(k);N=W(L,b),L.forEach(y),V=x(j),O=w(j,"DIV",{class:!0,style:!0});var U=D(O);A=W(U,H),U.forEach(y),j.forEach(y),this.h()},h(){v(n,"class","col-2 px-0 text-center"),v(a,"class","col-3 px-0 text-end"),v(g,"class","col-2 px-0 text-center"),v(k,"class","col-2 px-1 text-end"),re(k,"background-color",r[8].price.importColor(r[0])),re(k,"color","Black"),v(O,"class","col-2 px-1 text-end"),re(O,"background-color",r[8].price.exportColor(r[0])),re(O,"color","Black"),v(t,"class","row justify-content-center font-monospace")},m(S,j){z&&z.m(S,j),M(S,e,j),M(S,t,j),m(t,n),m(n,i),m(t,o),m(t,a),m(a,u),m(t,h),m(t,g),~p&&R[p].m(g,null),m(t,E),m(t,k),m(k,N),m(t,V),m(t,O),m(O,A),Q=!0},p(S,j){S[8].heading?z?z.p(S,j):(z=Xs(S),z.c(),z.m(e.parentNode,e)):z&&(z.d(1),z=null),(!Q||j&4)&&s!==(s=S[8].price.readableTime()+"")&&_e(i,s),(!Q||j&4)&&l!==(l=S[8].price.diffStr()+"")&&_e(u,l);let I=p;p=ce(S,j),p===I?~p&&R[p].p(S,j):(T&&(je(),te(R[I],1,1,()=>{R[I]=null}),Ge()),~p?(T=R[p],T?T.p(S,j):(T=R[p]=ae[p](S),T.c()),X(T,1),T.m(g,null)):T=null),(!Q||j&4)&&b!==(b=S[8].price.importStr()+"")&&_e(N,b),(!Q||j&5)&&re(k,"background-color",S[8].price.importColor(S[0])),(!Q||j&4)&&H!==(H=S[8].price.exportStr()+"")&&_e(A,H),(!Q||j&5)&&re(O,"background-color",S[8].price.exportColor(S[0]))},i(S){Q||(X(T),Q=!0)},o(S){te(T),Q=!1},d(S){S&&(y(e),y(t)),z&&z.d(S),~p&&R[p].d()}}}function iu(r){let e,t="Prices become available between 4-8pm";return{c(){e=_("small"),e.textContent=t},l(n){e=w(n,"SMALL",{"data-svelte-h":!0}),K(e)!=="svelte-1duq4a8"&&(e.textContent=t)},m(n,s){M(n,e,s)},i:J,o:J,d(n){n&&y(e)}}}function ou(r){let e,t,n;return e=new gn({}),{c(){fe(e.$$.fragment),t=Z(" Checking for new prices...")},l(s){he(e.$$.fragment,s),t=W(s," Checking for new prices...")},m(s,i){de(e,s,i),M(s,t,i),n=!0},i(s){n||(X(e.$$.fragment,s),n=!0)},o(s){te(e.$$.fragment,s),n=!1},d(s){s&&y(t),me(e,s)}}}function au(r){let e,t,n,s;const i=[tu,eu,Xl],o=[];function a(l,u){return l[2].length?0:l[1]?1:2}return e=a(r),t=o[e]=i[e](r),{c(){t.c(),n=Se()},l(l){t.l(l),n=Se()},m(l,u){o[e].m(l,u),M(l,n,u),s=!0},p(l,[u]){let h=e;e=a(l),e===h?o[e].p(l,u):(je(),te(o[h],1,1,()=>{o[h]=null}),Ge(),t=o[e],t?t.p(l,u):(t=o[e]=i[e](l),t.c()),X(t,1),t.m(n.parentNode,n))},i(l){s||(X(t),s=!0)},o(l){te(t),s=!1},d(l){l&&y(n),o[e].d(l)}}}function lu(r,e,t){let{pricing:n=[]}=e,{priceCap:s}=e,{updating:i=!0}=e,o,a=[],l={},u={};const h=function(){let g=[],f="";if(Array.isArray(n))for(const E of n){const k=E.fullReadableDate();(!l.hasOwnProperty(k)||E.import<l[k])&&t(3,l[k]=E.import,l),(!u.hasOwnProperty(k)||E.export>u[k])&&(u[k]=E.export),(E.isNow()||E.isFuture())&&(g.push({price:E,heading:f!==k}),f=k)}t(2,a=g),t(3,l);const T=60-(q.now().toObject().second||0)+1;clearTimeout(o),o=setTimeout(function(){h()},T*1e3)};return Gt(()=>{h()}),r.$$set=g=>{"pricing"in g&&t(4,n=g.pricing),"priceCap"in g&&t(0,s=g.priceCap),"updating"in g&&t(1,i=g.updating)},r.$$.update=()=>{r.$$.dirty&16&&h()},[s,i,a,l,n]}class uu extends Le{constructor(e){super(),Ve(this,e,lu,au,xe,{pricing:4,priceCap:0,updating:1})}}function cu(r,e,t){const n=r.slice();return n[14]=e[t],n}function fu(r){let e,t=r[14].longName+"",n;return{c(){e=_("option"),n=Z(t),this.h()},l(s){e=w(s,"OPTION",{});var i=D(e);n=W(i,t),i.forEach(y),this.h()},h(){e.__value=r[14].code,Lt(e,e.__value)},m(s,i){M(s,e,i),m(e,n)},p:J,d(s){s&&y(e)}}}function ti(r){let e,t,n,s='<i class="fa-solid fa-xmark"></i>',i,o,a="Lookup Your Region",l,u,h="Enter your postcode to find your region.",g,f,p,T,E,k,b,N="Postcode",V,O,H,A,Q='<i class="fa-solid fa-magnifying-glass"></i>',z,ae,R;const ce=[pu,mu,du,hu],S=[];function j(I,ne){return I[2]?0:I[6]&&I[7]===I[5]?1:I[4]?2:I[3]?3:-1}return~(f=j(r))&&(p=S[f]=ce[f](r)),{c(){e=_("div"),t=_("div"),n=_("button"),n.innerHTML=s,i=$(),o=_("p"),o.textContent=a,l=$(),u=_("p"),u.textContent=h,g=$(),p&&p.c(),T=$(),E=_("form"),k=_("div"),b=_("label"),b.textContent=N,V=$(),O=_("input"),H=$(),A=_("button"),A.innerHTML=Q,this.h()},l(I){e=w(I,"DIV",{class:!0});var ne=D(e);t=w(ne,"DIV",{class:!0});var P=D(t);n=w(P,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),K(n)!=="svelte-jcrv21"&&(n.innerHTML=s),i=x(P),o=w(P,"P",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-gy0eyy"&&(o.textContent=a),l=x(P),u=w(P,"P",{"data-svelte-h":!0}),K(u)!=="svelte-10q8pqj"&&(u.textContent=h),g=x(P),p&&p.l(P),T=x(P),E=w(P,"FORM",{});var L=D(E);k=w(L,"DIV",{class:!0});var U=D(k);b=w(U,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),K(b)!=="svelte-sopay9"&&(b.textContent=N),V=x(U),O=w(U,"INPUT",{type:!0,class:!0,maxlength:!0}),H=x(U),A=w(U,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),K(A)!=="svelte-19l0c6j"&&(A.innerHTML=Q),U.forEach(y),L.forEach(y),P.forEach(y),ne.forEach(y),this.h()},h(){v(n,"type","button"),v(n,"class","btn btn-outline-secondary btn-sm float-end"),v(o,"class","card-title fw-bold"),v(b,"class","input-group-text"),v(b,"for","region-select"),v(O,"type","text"),v(O,"class","form-control"),v(O,"maxlength","10"),v(A,"class","btn btn-outline-secondary"),v(A,"type","submit"),v(k,"class","input-group"),v(t,"class","card-body"),v(e,"class","card mt-2")},m(I,ne){M(I,e,ne),m(e,t),m(t,n),m(t,i),m(t,o),m(t,l),m(t,u),m(t,g),~f&&S[f].m(t,null),m(t,T),m(t,E),m(E,k),m(k,b),m(k,V),m(k,O),Lt(O,r[5]),m(k,H),m(k,A),z=!0,ae||(R=[Ue(n,"click",r[11]),Ue(O,"input",r[12]),Ue(E,"submit",No(r[8]))],ae=!0)},p(I,ne){let P=f;f=j(I),f===P?~f&&S[f].p(I,ne):(p&&(je(),te(S[P],1,1,()=>{S[P]=null}),Ge()),~f?(p=S[f],p?p.p(I,ne):(p=S[f]=ce[f](I),p.c()),X(p,1),p.m(t,T)):p=null),ne&32&&O.value!==I[5]&&Lt(O,I[5])},i(I){z||(X(p),z=!0)},o(I){te(p),z=!1},d(I){I&&y(e),~f&&S[f].d(),ae=!1,vn(R)}}}function hu(r){let e,t='<i class="fa-regular fa-circle-question"></i> Could not find region for postcode. Please';return{c(){e=_("div"),e.innerHTML=t,this.h()},l(n){e=w(n,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),K(e)!=="svelte-15o6a0z"&&(e.innerHTML=t),this.h()},h(){v(e,"class","alert alert-warning"),v(e,"role","alert")},m(n,s){M(n,e,s)},p:J,i:J,o:J,d(n){n&&y(e)}}}function du(r){let e,t='<i class="fa-solid fa-bug"></i> Something went wrong. Try again later.';return{c(){e=_("div"),e.innerHTML=t,this.h()},l(n){e=w(n,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),K(e)!=="svelte-1p3n0lq"&&(e.innerHTML=t),this.h()},h(){v(e,"class","alert alert-warning"),v(e,"role","alert")},m(n,s){M(n,e,s)},p:J,i:J,o:J,d(n){n&&y(e)}}}function mu(r){let e,t,n,s,i=r[5].toUpperCase()+"",o,a,l,u=r[6].longName+"",h,g;return{c(){e=_("div"),t=_("i"),n=Z(" The region for "),s=_("strong"),o=Z(i),a=Z(" is "),l=_("strong"),h=Z(u),g=Z("."),this.h()},l(f){e=w(f,"DIV",{class:!0,role:!0});var p=D(e);t=w(p,"I",{class:!0}),D(t).forEach(y),n=W(p," The region for "),s=w(p,"STRONG",{});var T=D(s);o=W(T,i),T.forEach(y),a=W(p," is "),l=w(p,"STRONG",{});var E=D(l);h=W(E,u),E.forEach(y),g=W(p,"."),p.forEach(y),this.h()},h(){v(t,"class","fa-solid fa-location-dot"),v(e,"class","alert alert-secondary"),v(e,"role","alert")},m(f,p){M(f,e,p),m(e,t),m(e,n),m(e,s),m(s,o),m(e,a),m(e,l),m(l,h),m(e,g)},p(f,p){p&32&&i!==(i=f[5].toUpperCase()+"")&&_e(o,i),p&64&&u!==(u=f[6].longName+"")&&_e(h,u)},i:J,o:J,d(f){f&&y(e)}}}function pu(r){let e,t,n,s;return t=new gn({}),{c(){e=_("div"),fe(t.$$.fragment),n=Z(" Loading..."),this.h()},l(i){e=w(i,"DIV",{class:!0,role:!0});var o=D(e);he(t.$$.fragment,o),n=W(o," Loading..."),o.forEach(y),this.h()},h(){v(e,"class","alert alert-secondary"),v(e,"role","alert")},m(i,o){M(i,e,o),de(t,e,null),m(e,n),s=!0},p:J,i(i){s||(X(t.$$.fragment,i),s=!0)},o(i){te(t.$$.fragment,i),s=!1},d(i){i&&y(e),me(t)}}}function gu(r){let e,t,n,s="Region",i,o,a,l="Select your region...",u,h,g='<i class="fa-solid fa-circle-question"></i>',f,p,T,E,k=le(bo),b=[];for(let V=0;V<k.length;V+=1)b[V]=fu(cu(r,k,V));let N=r[1]&&ti(r);return{c(){e=_("div"),t=_("div"),n=_("label"),n.textContent=s,i=$(),o=_("select"),a=_("option"),a.textContent=l;for(let V=0;V<b.length;V+=1)b[V].c();u=$(),h=_("button"),h.innerHTML=g,f=$(),N&&N.c(),this.h()},l(V){e=w(V,"DIV",{id:!0});var O=D(e);t=w(O,"DIV",{class:!0});var H=D(t);n=w(H,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),K(n)!=="svelte-1ob7mpe"&&(n.textContent=s),i=x(H),o=w(H,"SELECT",{class:!0,id:!0});var A=D(o);a=w(A,"OPTION",{"data-svelte-h":!0}),K(a)!=="svelte-5iblph"&&(a.textContent=l);for(let Q=0;Q<b.length;Q+=1)b[Q].l(A);A.forEach(y),u=x(H),h=w(H,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),K(h)!=="svelte-1a1obn0"&&(h.innerHTML=g),H.forEach(y),f=x(O),N&&N.l(O),O.forEach(y),this.h()},h(){v(n,"class","input-group-text"),v(n,"for","region-select"),a.__value="",Lt(a,a.__value),v(o,"class","form-select"),v(o,"id","region-select"),r[0]===void 0&&Do(()=>r[9].call(o)),v(h,"class","btn btn-outline-secondary"),v(h,"type","button"),v(t,"class","input-group"),v(e,"id","region")},m(V,O){M(V,e,O),m(e,t),m(t,n),m(t,i),m(t,o),m(o,a);for(let H=0;H<b.length;H+=1)b[H]&&b[H].m(o,null);ls(o,r[0],!0),m(t,u),m(t,h),m(e,f),N&&N.m(e,null),p=!0,T||(E=[Ue(o,"change",r[9]),Ue(h,"click",r[10])],T=!0)},p(V,[O]){O&1&&ls(o,V[0]),V[1]?N?(N.p(V,O),O&2&&X(N,1)):(N=ti(V),N.c(),X(N,1),N.m(e,null)):N&&(je(),te(N,1,1,()=>{N=null}),Ge())},i(V){p||(X(N),p=!0)},o(V){te(N),p=!1},d(V){V&&y(e),Oe(b,V),N&&N.d(),T=!1,vn(E)}}}function yu(r,e,t){let{region:n}=e,s=!1,i=!1,o=!1,a=!1,l="",u,h="";const g=function(){t(4,a=!1),t(3,o=!1)},f=async function(){if(!(l&&l.length<3&&l.length>20)){g();try{t(2,i=!0),t(7,h=l);const N=await(await fetch(`https://api.octopus.energy/v1/industry/grid-supply-points/?postcode=${h}`)).json();let V="";if(N&&N.results.length===1){V=N.results[0].group_id.replace(/[^a-z0-9]/gi,"");const O=Eo(V);O&&(t(6,u=O),t(0,n=u.code))}V===""&&t(3,o=!0)}catch{t(4,a=!0)}t(2,i=!1)}};function p(){n=$o(this),t(0,n)}const T=()=>{t(1,s=!s)},E=()=>{t(1,s=!1)};function k(){l=this.value,t(5,l)}return r.$$set=b=>{"region"in b&&t(0,n=b.region)},r.$$.update=()=>{r.$$.dirty&2&&g()},[n,s,i,o,a,l,u,h,f,p,T,E,k]}class vu extends Le{constructor(e){super(),Ve(this,e,yu,gu,xe,{region:0})}}function ni(r,e,t){const n=r.slice();return n[14]=e[t],n}function ri(r,e,t){const n=r.slice();n[17]=e[t];const s=n[6][n[8](n[17],n[14])];return n[18]=s,n}function si(r,e,t){const n=r.slice();n[17]=e[t];const s=n[4][`${n[17]}`];return n[18]=s,n}function ii(r,e,t){const n=r.slice();n[17]=e[t];const s=n[3][`${n[17]}`];return n[18]=s,n}function oi(r,e,t){const n=r.slice();n[17]=e[t];const s=n[5][`${n[17]}`];return n[18]=s,n}function ai(r,e,t){const n=r.slice();return n[17]=e[t],n}function _u(r){let e,t,n;return e=new Nr({}),{c(){fe(e.$$.fragment),t=Z(" Waiting on data...")},l(s){he(e.$$.fragment,s),t=W(s," Waiting on data...")},m(s,i){de(e,s,i),M(s,t,i),n=!0},p:J,i(s){n||(X(e.$$.fragment,s),n=!0)},o(s){te(e.$$.fragment,s),n=!1},d(s){s&&y(t),me(e,s)}}}function wu(r){let e,t;return e=new Dr({}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p:J,i(n){t||(X(e.$$.fragment,n),t=!0)},o(n){te(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function Tu(r){let e,t,n=" ",s,i,o,a,l="<small>Low</small>",u,h,g,f,p="<small>Avg</small>",T,E,k,b,N="<small>High</small>",V,O,H,A="Average Half-Hourly Pricing",Q,z,ae=le(r[7]),R=[];for(let d=0;d<ae.length;d+=1)R[d]=li(ai(r,ae,d));let ce=le(r[7]),S=[];for(let d=0;d<ce.length;d+=1)S[d]=ui(oi(r,ce,d));let j=le(r[7]),I=[];for(let d=0;d<j.length;d+=1)I[d]=ci(ii(r,j,d));let ne=le(r[7]),P=[];for(let d=0;d<ne.length;d+=1)P[d]=fi(si(r,ne,d));let L=le(r[2]),U=[];for(let d=0;d<L.length;d+=1)U[d]=di(ni(r,L,d));return{c(){e=_("div"),t=_("div"),t.textContent=n,s=$();for(let d=0;d<R.length;d+=1)R[d].c();i=$(),o=_("div"),a=_("div"),a.innerHTML=l,u=$();for(let d=0;d<S.length;d+=1)S[d].c();h=$(),g=_("div"),f=_("div"),f.innerHTML=p,T=$();for(let d=0;d<I.length;d+=1)I[d].c();E=$(),k=_("div"),b=_("div"),b.innerHTML=N,V=$();for(let d=0;d<P.length;d+=1)P[d].c();O=$(),H=_("h3"),H.textContent=A,Q=$();for(let d=0;d<U.length;d+=1)U[d].c();z=Se(),this.h()},l(d){e=w(d,"DIV",{class:!0});var F=D(e);t=w(F,"DIV",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1uln4ml"&&(t.textContent=n),s=x(F);for(let Y=0;Y<R.length;Y+=1)R[Y].l(F);F.forEach(y),i=x(d),o=w(d,"DIV",{class:!0});var c=D(o);a=w(c,"DIV",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-1erojqh"&&(a.innerHTML=l),u=x(c);for(let Y=0;Y<S.length;Y+=1)S[Y].l(c);c.forEach(y),h=x(d),g=w(d,"DIV",{class:!0});var ee=D(g);f=w(ee,"DIV",{class:!0,"data-svelte-h":!0}),K(f)!=="svelte-r4dfpf"&&(f.innerHTML=p),T=x(ee);for(let Y=0;Y<I.length;Y+=1)I[Y].l(ee);ee.forEach(y),E=x(d),k=w(d,"DIV",{class:!0});var Ie=D(k);b=w(Ie,"DIV",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-e7vzyp"&&(b.innerHTML=N),V=x(Ie);for(let Y=0;Y<P.length;Y+=1)P[Y].l(Ie);Ie.forEach(y),O=x(d),H=w(d,"H3",{class:!0,"data-svelte-h":!0}),K(H)!=="svelte-149efrg"&&(H.textContent=A),Q=x(d);for(let Y=0;Y<U.length;Y+=1)U[Y].l(d);z=Se(),this.h()},h(){v(t,"class","col p-0 pe-1"),v(e,"class","row justify-content-center font-monospace text-end"),v(a,"class","col p-0 pe-1 text-center"),v(o,"class","row justify-content-center font-monospace text-end"),v(f,"class","col p-0 pe-1 text-center"),v(g,"class","row justify-content-center font-monospace text-end"),v(b,"class","col p-0 pe-1 text-center"),v(k,"class","row justify-content-center font-monospace text-end mb-2"),v(H,"class","h6 text-center")},m(d,F){M(d,e,F),m(e,t),m(e,s);for(let c=0;c<R.length;c+=1)R[c]&&R[c].m(e,null);M(d,i,F),M(d,o,F),m(o,a),m(o,u);for(let c=0;c<S.length;c+=1)S[c]&&S[c].m(o,null);M(d,h,F),M(d,g,F),m(g,f),m(g,T);for(let c=0;c<I.length;c+=1)I[c]&&I[c].m(g,null);M(d,E,F),M(d,k,F),m(k,b),m(k,V);for(let c=0;c<P.length;c+=1)P[c]&&P[c].m(k,null);M(d,O,F),M(d,H,F),M(d,Q,F);for(let c=0;c<U.length;c+=1)U[c]&&U[c].m(d,F);M(d,z,F)},p(d,F){if(F&128){ae=le(d[7]);let c;for(c=0;c<ae.length;c+=1){const ee=ai(d,ae,c);R[c]?R[c].p(ee,F):(R[c]=li(ee),R[c].c(),R[c].m(e,null))}for(;c<R.length;c+=1)R[c].d(1);R.length=ae.length}if(F&161){ce=le(d[7]);let c;for(c=0;c<ce.length;c+=1){const ee=oi(d,ce,c);S[c]?S[c].p(ee,F):(S[c]=ui(ee),S[c].c(),S[c].m(o,null))}for(;c<S.length;c+=1)S[c].d(1);S.length=ce.length}if(F&137){j=le(d[7]);let c;for(c=0;c<j.length;c+=1){const ee=ii(d,j,c);I[c]?I[c].p(ee,F):(I[c]=ci(ee),I[c].c(),I[c].m(g,null))}for(;c<I.length;c+=1)I[c].d(1);I.length=j.length}if(F&145){ne=le(d[7]);let c;for(c=0;c<ne.length;c+=1){const ee=si(d,ne,c);P[c]?P[c].p(ee,F):(P[c]=fi(ee),P[c].c(),P[c].m(k,null))}for(;c<P.length;c+=1)P[c].d(1);P.length=ne.length}if(F&453){L=le(d[2]);let c;for(c=0;c<L.length;c+=1){const ee=ni(d,L,c);U[c]?U[c].p(ee,F):(U[c]=di(ee),U[c].c(),U[c].m(z.parentNode,z))}for(;c<U.length;c+=1)U[c].d(1);U.length=L.length}},i:J,o:J,d(d){d&&(y(e),y(i),y(o),y(h),y(g),y(E),y(k),y(O),y(H),y(Q),y(z)),Oe(R,d),Oe(S,d),Oe(I,d),Oe(P,d),Oe(U,d)}}}function li(r){let e,t=r[17]+"",n;return{c(){e=_("div"),n=Z(t),this.h()},l(s){e=w(s,"DIV",{class:!0});var i=D(e);n=W(i,t),i.forEach(y),this.h()},h(){v(e,"class","col p-0 pe-1")},m(s,i){M(s,e,i),m(e,n)},p:J,d(s){s&&y(e)}}}function ui(r){let e,t=Te(r[18])+"",n,s;return{c(){e=_("div"),n=Z(t),s=Z(`p
            `),this.h()},l(i){e=w(i,"DIV",{class:!0,style:!0});var o=D(e);n=W(o,t),s=W(o,`p
            `),o.forEach(y),this.h()},h(){v(e,"class","col p-0 pe-1"),re(e,"background-color",be(r[18],r[0])),re(e,"color","Black")},m(i,o){M(i,e,o),m(e,n),m(e,s)},p(i,o){o&32&&t!==(t=Te(i[18])+"")&&_e(n,t),o&33&&re(e,"background-color",be(i[18],i[0]))},d(i){i&&y(e)}}}function ci(r){let e,t=Te(r[18])+"",n,s;return{c(){e=_("div"),n=Z(t),s=Z(`p
            `),this.h()},l(i){e=w(i,"DIV",{class:!0,style:!0});var o=D(e);n=W(o,t),s=W(o,`p
            `),o.forEach(y),this.h()},h(){v(e,"class","col p-0 pe-1"),re(e,"background-color",be(r[18],r[0])),re(e,"color","Black")},m(i,o){M(i,e,o),m(e,n),m(e,s)},p(i,o){o&8&&t!==(t=Te(i[18])+"")&&_e(n,t),o&9&&re(e,"background-color",be(i[18],i[0]))},d(i){i&&y(e)}}}function fi(r){let e,t=Te(r[18])+"",n,s;return{c(){e=_("div"),n=Z(t),s=Z(`p
            `),this.h()},l(i){e=w(i,"DIV",{class:!0,style:!0});var o=D(e);n=W(o,t),s=W(o,`p
            `),o.forEach(y),this.h()},h(){v(e,"class","col p-0 pe-1"),re(e,"background-color",be(r[18],r[0])),re(e,"color","Black")},m(i,o){M(i,e,o),m(e,n),m(e,s)},p(i,o){o&16&&t!==(t=Te(i[18])+"")&&_e(n,t),o&17&&re(e,"background-color",be(i[18],i[0]))},d(i){i&&y(e)}}}function ku(r){let e,t=" ";return{c(){e=_("div"),e.textContent=t,this.h()},l(n){e=w(n,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1uln4ml"&&(e.textContent=t),this.h()},h(){v(e,"class","col p-0 pe-1")},m(n,s){M(n,e,s)},p:J,d(n){n&&y(e)}}}function bu(r){let e,t=Te(r[18])+"",n,s;return{c(){e=_("div"),n=Z(t),s=Z("p"),this.h()},l(i){e=w(i,"DIV",{class:!0,style:!0});var o=D(e);n=W(o,t),s=W(o,"p"),o.forEach(y),this.h()},h(){v(e,"class","col p-0 pe-1"),re(e,"background-color",be(r[18],r[0])),re(e,"color","Black")},m(i,o){M(i,e,o),m(e,n),m(e,s)},p(i,o){o&68&&t!==(t=Te(i[18])+"")&&_e(n,t),o&69&&re(e,"background-color",be(i[18],i[0]))},d(i){i&&y(e)}}}function hi(r){let e;function t(i,o){return i[18]?bu:ku}let n=t(r),s=n(r);return{c(){s.c(),e=Se()},l(i){s.l(i),e=Se()},m(i,o){s.m(i,o),M(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&y(e),s.d(i)}}}function di(r){let e,t,n,s=r[14]+"",i,o,a,l=le(r[7]),u=[];for(let h=0;h<l.length;h+=1)u[h]=hi(ri(r,l,h));return{c(){e=_("div"),t=_("div"),n=_("small"),i=Z(s),o=$();for(let h=0;h<u.length;h+=1)u[h].c();a=$(),this.h()},l(h){e=w(h,"DIV",{class:!0});var g=D(e);t=w(g,"DIV",{class:!0});var f=D(t);n=w(f,"SMALL",{});var p=D(n);i=W(p,s),p.forEach(y),f.forEach(y),o=x(g);for(let T=0;T<u.length;T+=1)u[T].l(g);a=x(g),g.forEach(y),this.h()},h(){v(t,"class","col p-0 pe-1 text-center"),v(e,"class","row justify-content-center font-monospace text-end")},m(h,g){M(h,e,g),m(e,t),m(t,n),m(n,i),m(e,o);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(e,null);m(e,a)},p(h,g){if(g&4&&s!==(s=h[14]+"")&&_e(i,s),g&453){l=le(h[7]);let f;for(f=0;f<l.length;f+=1){const p=ri(h,l,f);u[f]?u[f].p(p,g):(u[f]=hi(p),u[f].c(),u[f].m(e,a))}for(;f<u.length;f+=1)u[f].d(1);u.length=l.length}},d(h){h&&y(e),Oe(u,h)}}}function Eu(r){let e,t,n,s,i;const o=[Tu,wu,_u],a=[];function l(u,h){return h&68&&(e=null),e==null&&(e=!!(Object.keys(u[6]).length&&u[2].length&&u[7].length)),e?0:u[1]?1:2}return t=l(r,-1),n=a[t]=o[t](r),{c(){n.c(),s=Se()},l(u){n.l(u),s=Se()},m(u,h){a[t].m(u,h),M(u,s,h),i=!0},p(u,[h]){let g=t;t=l(u,h),t===g?a[t].p(u,h):(je(),te(a[g],1,1,()=>{a[g]=null}),Ge(),n=a[t],n?n.p(u,h):(n=a[t]=o[t](u),n.c()),X(n,1),n.m(s.parentNode,s))},i(u){i||(X(n),i=!0)},o(u){te(n),i=!1},d(u){u&&y(s),a[t].d(u)}}}function Ou(r,e,t){let{pricing:n=[]}=e,{priceCap:s}=e,{updating:i=!1}=e,o=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],a=[];for(const b of[...Array(24).keys()]){const N=`${b.toString().padStart(2,"0")}`;a.push(`${N}:00`),a.push(`${N}:30`)}a=a;let l={},u={},h={},g={},f={},p={},T={};const E=(b,N)=>`${b}-${N}`,k=function(){for(const b of n){const N=E(b.validFrom.toFormat("ccc"),b.validFrom.toFormat("HH:mm"));Array.isArray(l[N])||(l[N]=[]),l[N].push(b)}for(const b of o){h[`${b}`]=0,g[`${b}`]=0,t(4,f[`${b}`]=-1/0,f),t(5,p[`${b}`]=1/0,p);let N={},V={},O={};for(const H of a){const A=E(b,H);N[A]=0,V[A]=-1/0,O[A]=1/0;const Q=l[A];for(const z of Q)N[A]+=z.import,V[A]=V[A]<z.import?z.import:V[A],O[A]=O[A]>z.import?z.import:O[A];t(6,T[A]=N[A]/Q.length,T),h[`${b}`]+=N[A],g[`${b}`]+=Q.length,t(4,f[`${b}`]=f[`${b}`]<V[A]?V[A]:f[`${b}`],f),t(5,p[`${b}`]=p[`${b}`]>O[A]?O[A]:p[`${b}`],p)}t(3,u[`${b}`]=h[`${b}`]/g[`${b}`],u)}t(6,T)};return Gt(()=>{k()}),r.$$set=b=>{"pricing"in b&&t(9,n=b.pricing),"priceCap"in b&&t(0,s=b.priceCap),"updating"in b&&t(1,i=b.updating)},r.$$.update=()=>{r.$$.dirty&512&&k()},[s,i,a,u,f,p,T,o,E,n]}class Su extends Le{constructor(e){super(),Ve(this,e,Ou,Eu,xe,{pricing:9,priceCap:0,updating:1})}}function Iu(r){let e,t;return e=new uu({props:{pricing:r[2][r[0]],priceCap:r[1],updating:r[3]}}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p(n,s){const i={};s&5&&(i.pricing=n[2][n[0]]),s&2&&(i.priceCap=n[1]),s&8&&(i.updating=n[3]),e.$set(i)},i(n){t||(X(e.$$.fragment,n),t=!0)},o(n){te(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function Cu(r){let e,t;return e=new Su({props:{pricing:r[2][r[0]],priceCap:r[1],updating:r[3]}}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p(n,s){const i={};s&5&&(i.pricing=n[2][n[0]]),s&2&&(i.priceCap=n[1]),s&8&&(i.updating=n[3]),e.$set(i)},i(n){t||(X(e.$$.fragment,n),t=!0)},o(n){te(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function Mu(r){let e,t;return e=new jl({props:{pricing:r[2][r[0]],priceCap:r[1],updating:r[3]}}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p(n,s){const i={};s&5&&(i.pricing=n[2][n[0]]),s&2&&(i.priceCap=n[1]),s&8&&(i.updating=n[3]),e.$set(i)},i(n){t||(X(e.$$.fragment,n),t=!0)},o(n){te(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function Du(r){let e,t,n,s,i='Quickly see the live, upcoming and average electricity prices for Octopus Energy&#39;s <a href="#about">Agile Octopus</a> tariff.',o,a,l='<a href="#about" class="btn btn-outline-light btn-sm">Learn more</a>',u,h,g,f,p,T,E,k,b,N,V,O,H,A,Q,z,ae,R,ce,S,j,I,ne,P,L,U,d,F,c,ee=`With <a href="${or}" target="_blank">Agile Octopus</a>, you get access to half-hourly energy prices, tied to wholesale prices and updated daily. So when wholesale electricity prices drop, so do your bills - and if you can shift your daily electricity use outside of peak times, you can save even more.`,Ie,Y,$r=`<a href="${or}" target="_blank">Agile Octopus</a> includes Plunge Pricing that lets you take advantage of these negative price events, and get paid for the electricity you use!`,En,ot,On,Sn,wt,xr=`Switch to <a href="${or}" target="_blank">Octopus Energy</a> and get £50 free credit!`,In,Tt,Lr='After the switch has completed, visit <a href="https://octopus.energy/smart/agile/" target="_blank">Agile Octopus</a> to sign up.',Cn,at,Mn,kt,Dn,Nn,lt,Vr='<i class="fa-regular fa-clock"></i> Weekends are cheaper than weekdays, usually.',$n,bt,Fr="On a day-to-day basis, around <u>12am to 5am</u> is usually cheapest with early afternoon around <u>12pm to 3pm</u> often having a price drop too.",xn,Be,Hr='<i class="fa-solid fa-wind"></i> Wind power is the UK&#39;s largest source of renewable energy!',Ln,Et,Ar="If it&#39;s going to be windy prices <em>should</em> drop.",Vn,Je,Pr='<i class="fa-regular fa-sun"></i> When the sunshines, prices fall!',Fn,Ot,Rr="The UK has less solar than wind but on sunny days, between 11am and 3pm, it can make a big difference.",Hn,Qe,ut,An,Pn,St,Ur=`Given the right time and conditions we get <em>plunge pricing</em>.
        That means you get paid to use electricity!
        So put the washing on, tumble dry your clothes, turn the dishwasher on, turn on an electric heater, ... and get paid!`,Rn,Ke,ct,Un,Zn,It,Zr=`Prices tend to peak between <u>4pm and 7pm</u> every day, with a morning spike between <u>6:30am and 9am</u>.
        However, electricity prices can fluctuate for many reasons.
        Anything from changes in global natural gas prices, power plant maintenance, weather conditions, and many more... so keep an eye on prices.`,Wn,ft,zn,Ct,qn,jn,Ce,Gn,Mt,Yn,Bn,Jn,Xe,Wr="Ofgem",Qn,ht,zr="Agile prices can go above the price cap!",Kn,dt,Xn,er,Ze,tr,mt,nr,qr;function So(G){r[5](G)}let jr={};r[0]!==void 0&&(jr.region=r[0]),h=new vu({props:jr}),os.push(()=>us(h,"region",So));const Gr=[Mu,Cu,Iu],et=[];function Yr(G,ve){return G[4]===cn?0:G[4]===fn?1:2}I=Yr(r),ne=et[I]=Gr[I](r),at=new cs({}),ut=new Oo({}),ct=new Tr({}),ft=new cs({}),dt=new Tr({});function Io(G){r[9](G)}let Br={defaultPriceCap:un};return r[1]!==void 0&&(Br.priceCap=r[1]),Ze=new Ll({props:Br}),os.push(()=>us(Ze,"priceCap",Io)),{c(){e=_("meta"),t=$(),n=_("div"),s=_("p"),s.innerHTML=i,o=$(),a=_("p"),a.innerHTML=l,u=$(),fe(h.$$.fragment),f=$(),p=_("div"),T=_("ul"),E=_("li"),k=_("a"),b=Z("Live Pricing"),V=$(),O=_("li"),H=_("a"),A=Z("Last 7 Days"),z=$(),ae=_("li"),R=_("a"),ce=Z("4 Weeks"),j=$(),ne.c(),P=$(),L=_("div"),U=_("h2"),d=Z("What Is Agile Octopus?"),F=$(),c=_("p"),c.innerHTML=ee,Ie=$(),Y=_("p"),Y.innerHTML=$r,En=$(),ot=_("h2"),On=Z("How To Get Agile Octopus?"),Sn=$(),wt=_("p"),wt.innerHTML=xr,In=$(),Tt=_("p"),Tt.innerHTML=Lr,Cn=$(),fe(at.$$.fragment),Mn=$(),kt=_("h2"),Dn=Z("Cheapest Electricity and Plunge Pricing!"),Nn=$(),lt=_("h3"),lt.innerHTML=Vr,$n=$(),bt=_("p"),bt.innerHTML=Fr,xn=$(),Be=_("h3"),Be.innerHTML=Hr,Ln=$(),Et=_("p"),Et.innerHTML=Ar,Vn=$(),Je=_("h3"),Je.innerHTML=Pr,Fn=$(),Ot=_("p"),Ot.textContent=Rr,Hn=$(),Qe=_("h3"),fe(ut.$$.fragment),An=Z(" Plunge Pricing!"),Pn=$(),St=_("p"),St.innerHTML=Ur,Rn=$(),Ke=_("h3"),fe(ct.$$.fragment),Un=Z(" Beware of Higher Prices!"),Zn=$(),It=_("p"),It.innerHTML=Zr,Wn=$(),fe(ft.$$.fragment),zn=$(),Ct=_("h2"),qn=Z("The Energy Price Cap"),jn=$(),Ce=_("p"),Gn=Z("The "),Mt=_("u"),Yn=Z(un),Bn=Z("p"),Jn=Z(" electricity price cap is set by "),Xe=_("a"),Xe.textContent=Wr,Qn=Z(`.
        `),ht=_("span"),ht.textContent=zr,Kn=Z(`
        When this happens, you'll see an `),fe(dt.$$.fragment),Xn=Z(` exclamation icon.
        You can modify the cap below.`),er=$(),fe(Ze.$$.fragment),this.h()},l(G){const ve=xo("svelte-ydjpiz",document.head);e=w(ve,"META",{name:!0,content:!0}),ve.forEach(y),t=x(G),n=w(G,"DIV",{class:!0});var We=D(n);s=w(We,"P",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-o1vy56"&&(s.innerHTML=i),o=x(We),a=w(We,"P",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-pg3gfe"&&(a.innerHTML=l),u=x(We),he(h.$$.fragment,We),We.forEach(y),f=x(G),p=w(G,"DIV",{id:!0,class:!0});var tt=D(p);T=w(tt,"UL",{class:!0});var ze=D(T);E=w(ze,"LI",{class:!0});var Jr=D(E);k=w(Jr,"A",{href:!0,class:!0});var Qr=D(k);b=W(Qr,"Live Pricing"),Qr.forEach(y),Jr.forEach(y),V=x(ze),O=w(ze,"LI",{class:!0});var Kr=D(O);H=w(Kr,"A",{href:!0,class:!0});var Xr=D(H);A=W(Xr,"Last 7 Days"),Xr.forEach(y),Kr.forEach(y),z=x(ze),ae=w(ze,"LI",{class:!0});var es=D(ae);R=w(es,"A",{href:!0,class:!0});var ts=D(R);ce=W(ts,"4 Weeks"),ts.forEach(y),es.forEach(y),ze.forEach(y),j=x(tt),ne.l(tt),tt.forEach(y),P=x(G),L=w(G,"DIV",{class:!0});var B=D(L);U=w(B,"H2",{id:!0,class:!0});var ns=D(U);d=W(ns,"What Is Agile Octopus?"),ns.forEach(y),F=x(B),c=w(B,"P",{"data-svelte-h":!0}),K(c)!=="svelte-rlup0s"&&(c.innerHTML=ee),Ie=x(B),Y=w(B,"P",{"data-svelte-h":!0}),K(Y)!=="svelte-9qyioz"&&(Y.innerHTML=$r),En=x(B),ot=w(B,"H2",{id:!0,class:!0});var rs=D(ot);On=W(rs,"How To Get Agile Octopus?"),rs.forEach(y),Sn=x(B),wt=w(B,"P",{"data-svelte-h":!0}),K(wt)!=="svelte-v0qnxn"&&(wt.innerHTML=xr),In=x(B),Tt=w(B,"P",{"data-svelte-h":!0}),K(Tt)!=="svelte-10bcyg5"&&(Tt.innerHTML=Lr),Cn=x(B),he(at.$$.fragment,B),Mn=x(B),kt=w(B,"H2",{class:!0});var ss=D(kt);Dn=W(ss,"Cheapest Electricity and Plunge Pricing!"),ss.forEach(y),Nn=x(B),lt=w(B,"H3",{class:!0,"data-svelte-h":!0}),K(lt)!=="svelte-rfquwg"&&(lt.innerHTML=Vr),$n=x(B),bt=w(B,"P",{"data-svelte-h":!0}),K(bt)!=="svelte-1x17ws8"&&(bt.innerHTML=Fr),xn=x(B),Be=w(B,"H3",{class:!0,style:!0,"data-svelte-h":!0}),K(Be)!=="svelte-1v6zh1y"&&(Be.innerHTML=Hr),Ln=x(B),Et=w(B,"P",{"data-svelte-h":!0}),K(Et)!=="svelte-gzua6s"&&(Et.innerHTML=Ar),Vn=x(B),Je=w(B,"H3",{class:!0,style:!0,"data-svelte-h":!0}),K(Je)!=="svelte-1suwylv"&&(Je.innerHTML=Pr),Fn=x(B),Ot=w(B,"P",{"data-svelte-h":!0}),K(Ot)!=="svelte-lr2upy"&&(Ot.textContent=Rr),Hn=x(B),Qe=w(B,"H3",{class:!0,style:!0});var rr=D(Qe);he(ut.$$.fragment,rr),An=W(rr," Plunge Pricing!"),rr.forEach(y),Pn=x(B),St=w(B,"P",{"data-svelte-h":!0}),K(St)!=="svelte-1knce9j"&&(St.innerHTML=Ur),Rn=x(B),Ke=w(B,"H3",{class:!0,style:!0});var sr=D(Ke);he(ct.$$.fragment,sr),Un=W(sr," Beware of Higher Prices!"),sr.forEach(y),Zn=x(B),It=w(B,"P",{"data-svelte-h":!0}),K(It)!=="svelte-11et2fm"&&(It.innerHTML=Zr),Wn=x(B),he(ft.$$.fragment,B),zn=x(B),Ct=w(B,"H2",{class:!0});var is=D(Ct);qn=W(is,"The Energy Price Cap"),is.forEach(y),jn=x(B),Ce=w(B,"P",{});var Re=D(Ce);Gn=W(Re,"The "),Mt=w(Re,"U",{});var ir=D(Mt);Yn=W(ir,un),Bn=W(ir,"p"),ir.forEach(y),Jn=W(Re," electricity price cap is set by "),Xe=w(Re,"A",{href:!0,target:!0,"data-svelte-h":!0}),K(Xe)!=="svelte-15hsjjj"&&(Xe.textContent=Wr),Qn=W(Re,`.
        `),ht=w(Re,"SPAN",{class:!0,"data-svelte-h":!0}),K(ht)!=="svelte-1pnhinn"&&(ht.textContent=zr),Kn=W(Re,`
        When this happens, you'll see an `),he(dt.$$.fragment,Re),Xn=W(Re,` exclamation icon.
        You can modify the cap below.`),Re.forEach(y),er=x(B),he(Ze.$$.fragment,B),B.forEach(y),this.h()},h(){document.title="Agile Octopus Price Tracker",v(e,"name","description"),v(e,"content","Quickly see the upcoming electricity prices for Octopus Energy's Agile Octopus tariff."),v(s,"class","text-body-emphasis text-center"),v(a,"class","text-center"),v(n,"class","container mb-4 mx-auto"),v(k,"href","#pricing-table"),v(k,"class",N="nav-link p-1 "+(r[4]===yn?"active":"text-body-emphasis")),v(E,"class","nav-item p-0"),v(H,"href","#pricing-table"),v(H,"class",Q="nav-link p-1 "+(r[4]===cn?"active":"text-body-emphasis")),v(O,"class","nav-item p-0"),v(R,"href","#pricing-table"),v(R,"class",S="nav-link p-1 "+(r[4]===fn?"active":"text-body-emphasis")),v(ae,"class","nav-item p-0"),v(T,"class","nav nav-underline nav-fill mb-2"),v(p,"id","pricing-table"),v(p,"class","container mb-4 mx-auto"),v(U,"id","about"),v(U,"class",on),v(ot,"id","how-to-get-agile"),v(ot,"class",on),v(kt,"class",on),v(lt,"class","h6 text-light"),v(Be,"class","h6"),re(Be,"color","aqua"),v(Je,"class","h6"),re(Je,"color","orange"),v(Qe,"class","h6"),re(Qe,"color",ko),v(Ke,"class","h6"),re(Ke,"color",To),v(Ct,"class",on),v(Xe,"href","https://www.ofgem.gov.uk/information-consumers/energy-advice-households/energy-price-cap"),v(Xe,"target","_blank"),v(ht,"class","text-danger-emphasis"),v(L,"class","container mb-4 mx-auto")},m(G,ve){m(document.head,e),M(G,t,ve),M(G,n,ve),m(n,s),m(n,o),m(n,a),m(n,u),de(h,n,null),M(G,f,ve),M(G,p,ve),m(p,T),m(T,E),m(E,k),m(k,b),m(T,V),m(T,O),m(O,H),m(H,A),m(T,z),m(T,ae),m(ae,R),m(R,ce),m(p,j),et[I].m(p,null),M(G,P,ve),M(G,L,ve),m(L,U),m(U,d),m(L,F),m(L,c),m(L,Ie),m(L,Y),m(L,En),m(L,ot),m(ot,On),m(L,Sn),m(L,wt),m(L,In),m(L,Tt),m(L,Cn),de(at,L,null),m(L,Mn),m(L,kt),m(kt,Dn),m(L,Nn),m(L,lt),m(L,$n),m(L,bt),m(L,xn),m(L,Be),m(L,Ln),m(L,Et),m(L,Vn),m(L,Je),m(L,Fn),m(L,Ot),m(L,Hn),m(L,Qe),de(ut,Qe,null),m(Qe,An),m(L,Pn),m(L,St),m(L,Rn),m(L,Ke),de(ct,Ke,null),m(Ke,Un),m(L,Zn),m(L,It),m(L,Wn),de(ft,L,null),m(L,zn),m(L,Ct),m(Ct,qn),m(L,jn),m(L,Ce),m(Ce,Gn),m(Ce,Mt),m(Mt,Yn),m(Mt,Bn),m(Ce,Jn),m(Ce,Xe),m(Ce,Qn),m(Ce,ht),m(Ce,Kn),de(dt,Ce,null),m(Ce,Xn),m(L,er),de(Ze,L,null),mt=!0,nr||(qr=[Ue(k,"click",r[6]),Ue(H,"click",r[7]),Ue(R,"click",r[8])],nr=!0)},p(G,[ve]){const We={};!g&&ve&1&&(g=!0,We.region=G[0],as(()=>g=!1)),h.$set(We),(!mt||ve&16&&N!==(N="nav-link p-1 "+(G[4]===yn?"active":"text-body-emphasis")))&&v(k,"class",N),(!mt||ve&16&&Q!==(Q="nav-link p-1 "+(G[4]===cn?"active":"text-body-emphasis")))&&v(H,"class",Q),(!mt||ve&16&&S!==(S="nav-link p-1 "+(G[4]===fn?"active":"text-body-emphasis")))&&v(R,"class",S);let tt=I;I=Yr(G),I===tt?et[I].p(G,ve):(je(),te(et[tt],1,1,()=>{et[tt]=null}),Ge(),ne=et[I],ne?ne.p(G,ve):(ne=et[I]=Gr[I](G),ne.c()),X(ne,1),ne.m(p,null));const ze={};!tr&&ve&2&&(tr=!0,ze.priceCap=G[1],as(()=>tr=!1)),Ze.$set(ze)},i(G){mt||(X(h.$$.fragment,G),X(ne),X(at.$$.fragment,G),X(ut.$$.fragment,G),X(ct.$$.fragment,G),X(ft.$$.fragment,G),X(dt.$$.fragment,G),X(Ze.$$.fragment,G),mt=!0)},o(G){te(h.$$.fragment,G),te(ne),te(at.$$.fragment,G),te(ut.$$.fragment,G),te(ct.$$.fragment,G),te(ft.$$.fragment,G),te(dt.$$.fragment,G),te(Ze.$$.fragment,G),mt=!1},d(G){G&&(y(t),y(n),y(f),y(p),y(P),y(L)),y(e),me(h),et[I].d(),me(at),me(ut),me(ct),me(ft),me(dt),me(Ze),nr=!1,vn(qr)}}}const yn="upcoming",cn="7-days",fn="average",on="display-1 fs-3 my-3 text-light";function Nu(r,e,t){let n,s=un,i={},o=!0,a,l=yn;const u=async function(){if(!Yl(n))return;t(3,o=!0),$t.setItem("region",n),i.hasOwnProperty(n)||(t(2,i[n]=[],i),t(2,i));let k=$t.getItem(`importJson-${n}`),b=$t.getItem(`exportJson-${n}`);k&&b&&(t(2,i[n]=mr.jsonToPriceArray(JSON.parse(k),JSON.parse(b)),i),t(2,i));try{const N=q.now();let{importJson:V,exportJson:O}=await mr.fetch(n,N.minus({day:7*4}).startOf("day"),N.plus({day:1}).endOf("day"));$t.setItem(`importJson-${n}`,JSON.stringify(V)),$t.setItem(`exportJson-${n}`,JSON.stringify(O)),t(2,i[n]=mr.jsonToPriceArray(V,O),i),t(2,i),a=N}catch{}t(3,o=!1)},h=function(){if(!a)return;const k=q.now(),{minutes:b}=a.diff(k,"hours").toObject();if(b&&b<10)return;const N=i[n].at(-1);if(N){const{hours:V}=N.validFrom.diff(k,"hours").toObject();V&&V<8&&u()}else u()};Gt(()=>{t(0,n=$t.getItem("region")||Gl),setInterval(()=>{h()},10*1e3)});function g(k){n=k,t(0,n)}const f=()=>{t(4,l=yn)},p=()=>{t(4,l=cn)},T=()=>{t(4,l=fn)};function E(k){s=k,t(1,s)}return r.$$.update=()=>{r.$$.dirty&1&&u()},[n,s,i,o,l,g,f,p,T,E]}class Fu extends Le{constructor(e){super(),Ve(this,e,Nu,Du,xe,{})}}export{Fu as component};
