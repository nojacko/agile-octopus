var jl=Object.defineProperty;var Yl=(r,e,t)=>e in r?jl(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ve=(r,e,t)=>(Yl(r,typeof e!="symbol"?e+"":e,t),t);import{s as De,n as G,r as Wt,o as nn,f as Hr,b as vn,h as _n}from"../chunks/scheduler.682ccc96.js";import{S as Ne,i as $e,g as k,h as E,j as C,f as g,k as _,l as se,a as M,s as D,x as z,c as N,y as h,z as kt,A as we,B as Li,r as fe,m as U,u as he,n as R,v as de,d as Y,t as Q,w as me,e as Te,p as je,b as Ye,C as Ee,o as be,D as Rt,E as Jl,F as Pr,G as Tn,H as Ql}from"../chunks/index.f49446f1.js";import{O as ws,a as _r}from"../chunks/OctopusAd.b5ea5fcd.js";function ue(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}class Et extends Error{}class Kl extends Et{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Xl extends Et{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class eo extends Et{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Jt extends Et{}class Vi extends Et{constructor(e){super(`Invalid unit ${e}`)}}class He extends Et{}class lt extends Et{constructor(){super("Zone is an abstract class")}}const L="numeric",qe="short",Le="long",Sn={year:L,month:L,day:L},Fi={year:L,month:qe,day:L},to={year:L,month:qe,day:L,weekday:qe},Ai={year:L,month:Le,day:L},Hi={year:L,month:Le,day:L,weekday:Le},Pi={hour:L,minute:L},Ui={hour:L,minute:L,second:L},Ri={hour:L,minute:L,second:L,timeZoneName:qe},Zi={hour:L,minute:L,second:L,timeZoneName:Le},Wi={hour:L,minute:L,hourCycle:"h23"},zi={hour:L,minute:L,second:L,hourCycle:"h23"},qi={hour:L,minute:L,second:L,hourCycle:"h23",timeZoneName:qe},Gi={hour:L,minute:L,second:L,hourCycle:"h23",timeZoneName:Le},Bi={year:L,month:L,day:L,hour:L,minute:L},ji={year:L,month:L,day:L,hour:L,minute:L,second:L},Yi={year:L,month:qe,day:L,hour:L,minute:L},Ji={year:L,month:qe,day:L,hour:L,minute:L,second:L},no={year:L,month:qe,day:L,weekday:qe,hour:L,minute:L},Qi={year:L,month:Le,day:L,hour:L,minute:L,timeZoneName:qe},Ki={year:L,month:Le,day:L,hour:L,minute:L,second:L,timeZoneName:qe},Xi={year:L,month:Le,day:L,weekday:Le,hour:L,minute:L,timeZoneName:Le},el={year:L,month:Le,day:L,weekday:Le,hour:L,minute:L,second:L,timeZoneName:Le};class rn{get type(){throw new lt}get name(){throw new lt}get ianaName(){return this.name}get isUniversal(){throw new lt}offsetName(e,t){throw new lt}formatOffset(e,t){throw new lt}offset(e){throw new lt}equals(e){throw new lt}get isValid(){throw new lt}}let Tr=null;class $n extends rn{static get instance(){return Tr===null&&(Tr=new $n),Tr}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return nl(e,t,n)}formatOffset(e,t){return en(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let wn={};function ro(r){return wn[r]||(wn[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),wn[r]}const so={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function io(r,e){const t=r.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,s,i,l,o,a,u,c]=n;return[l,s,i,o,a,u,c]}function lo(r,e){const t=r.formatToParts(e),n=[];for(let s=0;s<t.length;s++){const{type:i,value:l}=t[s],o=so[i];i==="era"?n[o]=l:le(o)||(n[o]=parseInt(l,10))}return n}let cn={};class Ke extends rn{static create(e){return cn[e]||(cn[e]=new Ke(e)),cn[e]}static resetCache(){cn={},wn={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ke.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return nl(e,t,n,this.name)}formatOffset(e,t){return en(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const n=ro(this.name);let[s,i,l,o,a,u,c]=n.formatToParts?lo(n,t):io(n,t);o==="BC"&&(s=-Math.abs(s)+1);const d=Ln({year:s,month:i,day:l,hour:a===24?0:a,minute:u,second:c,millisecond:0});let y=+t;const w=y%1e3;return y-=w>=0?w:1e3+w,(d-y)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let bs={};function oo(r,e={}){const t=JSON.stringify([r,e]);let n=bs[t];return n||(n=new Intl.ListFormat(r,e),bs[t]=n),n}let Cr={};function Mr(r,e={}){const t=JSON.stringify([r,e]);let n=Cr[t];return n||(n=new Intl.DateTimeFormat(r,e),Cr[t]=n),n}let Dr={};function ao(r,e={}){const t=JSON.stringify([r,e]);let n=Dr[t];return n||(n=new Intl.NumberFormat(r,e),Dr[t]=n),n}let Nr={};function uo(r,e={}){const{base:t,...n}=e,s=JSON.stringify([r,n]);let i=Nr[s];return i||(i=new Intl.RelativeTimeFormat(r,e),Nr[s]=i),i}let Qt=null;function co(){return Qt||(Qt=new Intl.DateTimeFormat().resolvedOptions().locale,Qt)}function fo(r){const e=r.indexOf("-x-");e!==-1&&(r=r.substring(0,e));const t=r.indexOf("-u-");if(t===-1)return[r];{let n,s;try{n=Mr(r).resolvedOptions(),s=r}catch{const a=r.substring(0,t);n=Mr(a).resolvedOptions(),s=a}const{numberingSystem:i,calendar:l}=n;return[s,i,l]}}function ho(r,e,t){return(t||e)&&(r.includes("-u-")||(r+="-u"),t&&(r+=`-ca-${t}`),e&&(r+=`-nu-${e}`)),r}function mo(r){const e=[];for(let t=1;t<=12;t++){const n=q.utc(2009,t,1);e.push(r(n))}return e}function po(r){const e=[];for(let t=1;t<=7;t++){const n=q.utc(2016,11,13+t);e.push(r(n))}return e}function fn(r,e,t,n){const s=r.listingMode();return s==="error"?null:s==="en"?t(e):n(e)}function go(r){return r.numberingSystem&&r.numberingSystem!=="latn"?!1:r.numberingSystem==="latn"||!r.locale||r.locale.startsWith("en")||new Intl.DateTimeFormat(r.intl).resolvedOptions().numberingSystem==="latn"}class yo{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:s,floor:i,...l}=n;if(!t||Object.keys(l).length>0){const o={useGrouping:!1,...n};n.padTo>0&&(o.minimumIntegerDigits=n.padTo),this.inf=ao(e,o)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):Rr(e,3);return _e(t,this.padTo)}}}class vo{constructor(e,t,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const l=-1*(e.offset/60),o=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&Ke.create(o).valid?(s=o,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||s,this.dtf=Mr(t,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:n}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class _o{constructor(e,t,n){this.opts={style:"long",...n},!t&&tl()&&(this.rtf=uo(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):Fo(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class ce{static fromOpts(e){return ce.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,n,s=!1){const i=e||ve.defaultLocale,l=i||(s?"en-US":co()),o=t||ve.defaultNumberingSystem,a=n||ve.defaultOutputCalendar;return new ce(l,o,a,i)}static resetCache(){Qt=null,Cr={},Dr={},Nr={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:n}={}){return ce.create(e,t,n)}constructor(e,t,n,s){const[i,l,o]=fo(e);this.locale=i,this.numberingSystem=t||l||null,this.outputCalendar=n||o||null,this.intl=ho(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=go(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:ce.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return fn(this,e,il,()=>{const n=t?{month:e,day:"numeric"}:{month:e},s=t?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=mo(i=>this.extract(i,n,"month"))),this.monthsCache[s][e]})}weekdays(e,t=!1){return fn(this,e,al,()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=t?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=po(i=>this.extract(i,n,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return fn(this,void 0,()=>ul,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[q.utc(2016,11,13,9),q.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return fn(this,e,cl,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[q.utc(-40,1,1),q.utc(2017,1,1)].map(n=>this.extract(n,t,"era"))),this.eraCache[e]})}extract(e,t,n){const s=this.dtFormatter(e,t),i=s.formatToParts(),l=i.find(o=>o.type.toLowerCase()===n);return l?l.value:null}numberFormatter(e={}){return new yo(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new vo(e,this.intl,t)}relFormatter(e={}){return new _o(this.intl,this.isEnglish(),e)}listFormatter(e={}){return oo(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let wr=null;class Ie extends rn{static get utcInstance(){return wr===null&&(wr=new Ie(0)),wr}static instance(e){return e===0?Ie.utcInstance:new Ie(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Ie(Vn(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${en(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${en(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return en(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class To extends rn{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ut(r,e){if(le(r)||r===null)return e;if(r instanceof rn)return r;if(wo(r)){const t=r.toLowerCase();return t==="default"?e:t==="local"||t==="system"?$n.instance:t==="utc"||t==="gmt"?Ie.utcInstance:Ie.parseSpecifier(t)||Ke.create(r)}else return bt(r)?Ie.instance(r):typeof r=="object"&&"offset"in r&&typeof r.offset=="function"?r:new To(r)}let ks=()=>Date.now(),Es="system",Os=null,Ss=null,Is=null,Cs=60,Ms;class ve{static get now(){return ks}static set now(e){ks=e}static set defaultZone(e){Es=e}static get defaultZone(){return ut(Es,$n.instance)}static get defaultLocale(){return Os}static set defaultLocale(e){Os=e}static get defaultNumberingSystem(){return Ss}static set defaultNumberingSystem(e){Ss=e}static get defaultOutputCalendar(){return Is}static set defaultOutputCalendar(e){Is=e}static get twoDigitCutoffYear(){return Cs}static set twoDigitCutoffYear(e){Cs=e%100}static get throwOnInvalid(){return Ms}static set throwOnInvalid(e){Ms=e}static resetCaches(){ce.resetCache(),Ke.resetCache()}}function le(r){return typeof r>"u"}function bt(r){return typeof r=="number"}function xn(r){return typeof r=="number"&&r%1===0}function wo(r){return typeof r=="string"}function bo(r){return Object.prototype.toString.call(r)==="[object Date]"}function tl(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function ko(r){return Array.isArray(r)?r:[r]}function Ds(r,e,t){if(r.length!==0)return r.reduce((n,s)=>{const i=[e(s),s];return n&&t(n[0],i[0])===n[0]?n:i},null)[1]}function Eo(r,e){return e.reduce((t,n)=>(t[n]=r[n],t),{})}function Zt(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function Qe(r,e,t){return xn(r)&&r>=e&&r<=t}function Oo(r,e){return r-e*Math.floor(r/e)}function _e(r,e=2){const t=r<0;let n;return t?n="-"+(""+-r).padStart(e,"0"):n=(""+r).padStart(e,"0"),n}function at(r){if(!(le(r)||r===null||r===""))return parseInt(r,10)}function Tt(r){if(!(le(r)||r===null||r===""))return parseFloat(r)}function Ur(r){if(!(le(r)||r===null||r==="")){const e=parseFloat("0."+r)*1e3;return Math.floor(e)}}function Rr(r,e,t=!1){const n=10**e;return(t?Math.trunc:Math.round)(r*n)/n}function sn(r){return r%4===0&&(r%100!==0||r%400===0)}function Xt(r){return sn(r)?366:365}function In(r,e){const t=Oo(e-1,12)+1,n=r+(e-t)/12;return t===2?sn(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Ln(r){let e=Date.UTC(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond);return r.year<100&&r.year>=0&&(e=new Date(e),e.setUTCFullYear(r.year,r.month-1,r.day)),+e}function Cn(r){const e=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7,t=r-1,n=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||n===3?53:52}function $r(r){return r>99?r:r>ve.twoDigitCutoffYear?1900+r:2e3+r}function nl(r,e,t,n=null){const s=new Date(r),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(i.timeZone=n);const l={timeZoneName:e,...i},o=new Intl.DateTimeFormat(t,l).formatToParts(s).find(a=>a.type.toLowerCase()==="timezonename");return o?o.value:null}function Vn(r,e){let t=parseInt(r,10);Number.isNaN(t)&&(t=0);const n=parseInt(e,10)||0,s=t<0||Object.is(t,-0)?-n:n;return t*60+s}function rl(r){const e=Number(r);if(typeof r=="boolean"||r===""||Number.isNaN(e))throw new He(`Invalid unit value ${r}`);return e}function Mn(r,e){const t={};for(const n in r)if(Zt(r,n)){const s=r[n];if(s==null)continue;t[e(n)]=rl(s)}return t}function en(r,e){const t=Math.trunc(Math.abs(r/60)),n=Math.trunc(Math.abs(r%60)),s=r>=0?"+":"-";switch(e){case"short":return`${s}${_e(t,2)}:${_e(n,2)}`;case"narrow":return`${s}${t}${n>0?`:${n}`:""}`;case"techie":return`${s}${_e(t,2)}${_e(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Fn(r){return Eo(r,["hour","minute","second","millisecond"])}const So=["January","February","March","April","May","June","July","August","September","October","November","December"],sl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Io=["J","F","M","A","M","J","J","A","S","O","N","D"];function il(r){switch(r){case"narrow":return[...Io];case"short":return[...sl];case"long":return[...So];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const ll=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ol=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Co=["M","T","W","T","F","S","S"];function al(r){switch(r){case"narrow":return[...Co];case"short":return[...ol];case"long":return[...ll];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const ul=["AM","PM"],Mo=["Before Christ","Anno Domini"],Do=["BC","AD"],No=["B","A"];function cl(r){switch(r){case"narrow":return[...No];case"short":return[...Do];case"long":return[...Mo];default:return null}}function $o(r){return ul[r.hour<12?0:1]}function xo(r,e){return al(e)[r.weekday-1]}function Lo(r,e){return il(e)[r.month-1]}function Vo(r,e){return cl(e)[r.year<0?0:1]}function Fo(r,e,t="always",n=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(r)===-1;if(t==="auto"&&i){const p=r==="days";switch(e){case 1:return p?"tomorrow":`next ${s[r][0]}`;case-1:return p?"yesterday":`last ${s[r][0]}`;case 0:return p?"today":`this ${s[r][0]}`}}const l=Object.is(e,-0)||e<0,o=Math.abs(e),a=o===1,u=s[r],c=n?a?u[1]:u[2]||u[1]:a?s[r][0]:r;return l?`${o} ${c} ago`:`in ${o} ${c}`}function Ns(r,e){let t="";for(const n of r)n.literal?t+=n.val:t+=e(n.val);return t}const Ao={D:Sn,DD:Fi,DDD:Ai,DDDD:Hi,t:Pi,tt:Ui,ttt:Ri,tttt:Zi,T:Wi,TT:zi,TTT:qi,TTTT:Gi,f:Bi,ff:Yi,fff:Qi,ffff:Xi,F:ji,FF:Ji,FFF:Ki,FFFF:el};class Oe{static create(e,t={}){return new Oe(e,t)}static parseFormat(e){let t=null,n="",s=!1;const i=[];for(let l=0;l<e.length;l++){const o=e.charAt(l);o==="'"?(n.length>0&&i.push({literal:s||/^\s+$/.test(n),val:n}),t=null,n="",s=!s):s||o===t?n+=o:(n.length>0&&i.push({literal:/^\s+$/.test(n),val:n}),n=o,t=o)}return n.length>0&&i.push({literal:s||/^\s+$/.test(n),val:n}),i}static macroTokenToFormatOpts(e){return Ao[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return _e(e,t);const n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(y,w)=>this.loc.extract(e,y,w),l=y=>e.isOffsetFixed&&e.offset===0&&y.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,y.format):"",o=()=>n?$o(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(y,w)=>n?Lo(e,y):i(w?{month:y}:{month:y,day:"numeric"},"month"),u=(y,w)=>n?xo(e,y):i(w?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),c=y=>{const w=Oe.macroTokenToFormatOpts(y);return w?this.formatWithSystemDefault(e,w):y},p=y=>n?Vo(e,y):i({era:y},"era"),d=y=>{switch(y){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return s?i({day:"numeric"},"day"):this.num(e.day);case"dd":return s?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return s?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return s?i({month:"numeric"},"month"):this.num(e.month);case"MM":return s?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return s?i({year:"numeric"},"year"):this.num(e.year);case"yy":return s?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return p("short");case"GG":return p("long");case"GGGGG":return p("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(y)}};return Ns(Oe.parseFormat(t),d)}formatDurationFromString(e,t){const n=a=>{switch(a[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=a=>u=>{const c=n(u);return c?this.num(a.get(c),u.length):u},i=Oe.parseFormat(t),l=i.reduce((a,{literal:u,val:c})=>u?a:a.concat(c),[]),o=e.shiftTo(...l.map(n).filter(a=>a));return Ns(i,s(o))}}class ze{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const fl=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function zt(...r){const e=r.reduce((t,n)=>t+n.source,"");return RegExp(`^${e}$`)}function qt(...r){return e=>r.reduce(([t,n,s],i)=>{const[l,o,a]=i(e,s);return[{...t,...l},o||n,a]},[{},null,1]).slice(0,2)}function Gt(r,...e){if(r==null)return[null,null];for(const[t,n]of e){const s=t.exec(r);if(s)return n(s)}return[null,null]}function hl(...r){return(e,t)=>{const n={};let s;for(s=0;s<r.length;s++)n[r[s]]=at(e[t+s]);return[n,null,t+s]}}const dl=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ho=`(?:${dl.source}?(?:\\[(${fl.source})\\])?)?`,Zr=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ml=RegExp(`${Zr.source}${Ho}`),Wr=RegExp(`(?:T${ml.source})?`),Po=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Uo=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Ro=/(\d{4})-?(\d{3})/,Zo=hl("weekYear","weekNumber","weekDay"),Wo=hl("year","ordinal"),zo=/(\d{4})-(\d\d)-(\d\d)/,pl=RegExp(`${Zr.source} ?(?:${dl.source}|(${fl.source}))?`),qo=RegExp(`(?: ${pl.source})?`);function Ut(r,e,t){const n=r[e];return le(n)?t:at(n)}function Go(r,e){return[{year:Ut(r,e),month:Ut(r,e+1,1),day:Ut(r,e+2,1)},null,e+3]}function Bt(r,e){return[{hours:Ut(r,e,0),minutes:Ut(r,e+1,0),seconds:Ut(r,e+2,0),milliseconds:Ur(r[e+3])},null,e+4]}function ln(r,e){const t=!r[e]&&!r[e+1],n=Vn(r[e+1],r[e+2]),s=t?null:Ie.instance(n);return[{},s,e+3]}function on(r,e){const t=r[e]?Ke.create(r[e]):null;return[{},t,e+1]}const Bo=RegExp(`^T?${Zr.source}$`),jo=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Yo(r){const[e,t,n,s,i,l,o,a,u]=r,c=e[0]==="-",p=a&&a[0]==="-",d=(y,w=!1)=>y!==void 0&&(w||y&&c)?-y:y;return[{years:d(Tt(t)),months:d(Tt(n)),weeks:d(Tt(s)),days:d(Tt(i)),hours:d(Tt(l)),minutes:d(Tt(o)),seconds:d(Tt(a),a==="-0"),milliseconds:d(Ur(u),p)}]}const Jo={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function zr(r,e,t,n,s,i,l){const o={year:e.length===2?$r(at(e)):at(e),month:sl.indexOf(t)+1,day:at(n),hour:at(s),minute:at(i)};return l&&(o.second=at(l)),r&&(o.weekday=r.length>3?ll.indexOf(r)+1:ol.indexOf(r)+1),o}const Qo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Ko(r){const[,e,t,n,s,i,l,o,a,u,c,p]=r,d=zr(e,s,n,t,i,l,o);let y;return a?y=Jo[a]:u?y=0:y=Vn(c,p),[d,new Ie(y)]}function Xo(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const ea=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ta=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,na=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function $s(r){const[,e,t,n,s,i,l,o]=r;return[zr(e,s,n,t,i,l,o),Ie.utcInstance]}function ra(r){const[,e,t,n,s,i,l,o]=r;return[zr(e,o,t,n,s,i,l),Ie.utcInstance]}const sa=zt(Po,Wr),ia=zt(Uo,Wr),la=zt(Ro,Wr),oa=zt(ml),gl=qt(Go,Bt,ln,on),aa=qt(Zo,Bt,ln,on),ua=qt(Wo,Bt,ln,on),ca=qt(Bt,ln,on);function fa(r){return Gt(r,[sa,gl],[ia,aa],[la,ua],[oa,ca])}function ha(r){return Gt(Xo(r),[Qo,Ko])}function da(r){return Gt(r,[ea,$s],[ta,$s],[na,ra])}function ma(r){return Gt(r,[jo,Yo])}const pa=qt(Bt);function ga(r){return Gt(r,[Bo,pa])}const ya=zt(zo,qo),va=zt(pl),_a=qt(Bt,ln,on);function Ta(r){return Gt(r,[ya,gl],[va,_a])}const xs="Invalid Duration",yl={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},wa={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...yl},Fe=146097/400,Ht=146097/4800,ba={years:{quarters:4,months:12,weeks:Fe/7,days:Fe,hours:Fe*24,minutes:Fe*24*60,seconds:Fe*24*60*60,milliseconds:Fe*24*60*60*1e3},quarters:{months:3,weeks:Fe/28,days:Fe/4,hours:Fe*24/4,minutes:Fe*24*60/4,seconds:Fe*24*60*60/4,milliseconds:Fe*24*60*60*1e3/4},months:{weeks:Ht/7,days:Ht,hours:Ht*24,minutes:Ht*24*60,seconds:Ht*24*60*60,milliseconds:Ht*24*60*60*1e3},...yl},Kt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],vl=Kt.slice(0).reverse();function ot(r,e,t=!1){const n={values:t?e.values:{...r.values,...e.values||{}},loc:r.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||r.conversionAccuracy,matrix:e.matrix||r.matrix};return new oe(n)}function _l(r,e){let t=e.milliseconds??0;for(const n of vl.slice(1))e[n]&&(t+=e[n]*r[n].milliseconds);return t}function Ls(r,e){const t=_l(r,e)<0?-1:1;vl.reduce((n,s)=>{if(le(e[s]))return n;if(n){const i=e[n]*t,l=r[s][n],o=Math.floor(i/l);e[s]+=o*t,e[n]-=o*l*t}return s},null)}function ka(r){const e={};for(const[t,n]of Object.entries(r))n!==0&&(e[t]=n);return e}class oe{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let n=t?ba:wa;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||ce.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return oe.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new He(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new oe({values:Mn(e,oe.normalizeUnit),loc:ce.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(bt(e))return oe.fromMillis(e);if(oe.isDuration(e))return e;if(typeof e=="object")return oe.fromObject(e);throw new He(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[n]=ma(e);return n?oe.fromObject(n,t):oe.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=ga(e);return n?oe.fromObject(n,t):oe.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new He("need to specify a reason the Duration is invalid");const n=e instanceof ze?e:new ze(e,t);if(ve.throwOnInvalid)throw new eo(n);return new oe({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new Vi(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?Oe.create(this.loc,n).formatDurationFromString(this,e):xs}toHuman(e={}){if(!this.isValid)return xs;const t=Kt.map(n=>{const s=this.values[n];return le(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Rr(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},q.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?_l(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=oe.fromDurationLike(e),n={};for(const s of Kt)(Zt(t.values,s)||Zt(this.values,s))&&(n[s]=t.get(s)+this.get(s));return ot(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=oe.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=rl(e(this.values[n],n));return ot(this,{values:t},!0)}get(e){return this[oe.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...Mn(e,oe.normalizeUnit)};return ot(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:s}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:s,conversionAccuracy:n};return ot(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Ls(this.matrix,e),ot(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=ka(this.normalize().shiftToAll().toObject());return ot(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>oe.normalizeUnit(l));const t={},n={},s=this.toObject();let i;for(const l of Kt)if(e.indexOf(l)>=0){i=l;let o=0;for(const u in n)o+=this.matrix[u][l]*n[u],n[u]=0;bt(s[l])&&(o+=s[l]);const a=Math.trunc(o);t[l]=a,n[l]=(o*1e3-a*1e3)/1e3}else bt(s[l])&&(n[l]=s[l]);for(const l in n)n[l]!==0&&(t[i]+=l===i?n[l]:n[l]/this.matrix[i][l]);return Ls(this.matrix,t),ot(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return ot(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(const n of Kt)if(!t(this.values[n],e.values[n]))return!1;return!0}}const Pt="Invalid Interval";function Ea(r,e){return!r||!r.isValid?ge.invalid("missing or invalid start"):!e||!e.isValid?ge.invalid("missing or invalid end"):e<r?ge.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${e.toISO()}`):null}class ge{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new He("need to specify a reason the Interval is invalid");const n=e instanceof ze?e:new ze(e,t);if(ve.throwOnInvalid)throw new Xl(n);return new ge({invalid:n})}static fromDateTimes(e,t){const n=Yt(e),s=Yt(t),i=Ea(n,s);return i??new ge({start:n,end:s})}static after(e,t){const n=oe.fromDurationLike(t),s=Yt(e);return ge.fromDateTimes(s,s.plus(n))}static before(e,t){const n=oe.fromDurationLike(t),s=Yt(e);return ge.fromDateTimes(s.minus(n),s)}static fromISO(e,t){const[n,s]=(e||"").split("/",2);if(n&&s){let i,l;try{i=q.fromISO(n,t),l=i.isValid}catch{l=!1}let o,a;try{o=q.fromISO(s,t),a=o.isValid}catch{a=!1}if(l&&a)return ge.fromDateTimes(i,o);if(l){const u=oe.fromISO(s,t);if(u.isValid)return ge.after(i,u)}else if(a){const u=oe.fromISO(n,t);if(u.isValid)return ge.before(o,u)}}return ge.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?ge.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Yt).filter(l=>this.contains(l)).sort(),n=[];let{s}=this,i=0;for(;s<this.e;){const l=t[i]||this.e,o=+l>+this.e?this.e:l;n.push(ge.fromDateTimes(s,o)),s=o,i+=1}return n}splitBy(e){const t=oe.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:n}=this,s=1,i;const l=[];for(;n<this.e;){const o=this.start.plus(t.mapUnits(a=>a*s));i=+o>+this.e?this.e:o,l.push(ge.fromDateTimes(n,i)),n=i,s+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:ge.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return ge.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort((s,i)=>s.s-i.s).reduce(([s,i],l)=>i?i.overlaps(l)||i.abutsStart(l)?[s,i.union(l)]:[s.concat([i]),l]:[s,l],[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const s=[],i=e.map(a=>[{time:a.s,type:"s"},{time:a.e,type:"e"}]),l=Array.prototype.concat(...i),o=l.sort((a,u)=>a.time-u.time);for(const a of o)n+=a.type==="s"?1:-1,n===1?t=a.time:(t&&+t!=+a.time&&s.push(ge.fromDateTimes(t,a.time)),t=null);return ge.merge(s)}difference(...e){return ge.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Pt}toLocaleString(e=Sn,t={}){return this.isValid?Oe.create(this.s.loc.clone(t),e).formatInterval(this):Pt}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Pt}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Pt}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Pt}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Pt}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):oe.invalid(this.invalidReason)}mapEndpoints(e){return ge.fromDateTimes(e(this.s),e(this.e))}}class hn{static hasDST(e=ve.defaultZone){const t=q.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Ke.isValidZone(e)}static normalizeZone(e){return ut(e,ve.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||ce.create(t,n,i)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||ce.create(t,n,i)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null}={}){return(s||ce.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null}={}){return(s||ce.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return ce.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return ce.create(t,null,"gregory").eras(e)}static features(){return{relative:tl()}}}function Vs(r,e){const t=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=t(e)-t(r);return Math.floor(oe.fromMillis(n).as("days"))}function Oa(r,e,t){const n=[["years",(a,u)=>u.year-a.year],["quarters",(a,u)=>u.quarter-a.quarter+(u.year-a.year)*4],["months",(a,u)=>u.month-a.month+(u.year-a.year)*12],["weeks",(a,u)=>{const c=Vs(a,u);return(c-c%7)/7}],["days",Vs]],s={},i=r;let l,o;for(const[a,u]of n)t.indexOf(a)>=0&&(l=a,s[a]=u(r,e),o=i.plus(s),o>e?(s[a]--,r=i.plus(s),r>e&&(o=r,s[a]--,r=i.plus(s))):r=o);return[r,s,o,l]}function Sa(r,e,t,n){let[s,i,l,o]=Oa(r,e,t);const a=e-s,u=t.filter(p=>["hours","minutes","seconds","milliseconds"].indexOf(p)>=0);u.length===0&&(l<e&&(l=s.plus({[o]:1})),l!==s&&(i[o]=(i[o]||0)+a/(l-s)));const c=oe.fromObject(i,n);return u.length>0?oe.fromMillis(a,n).shiftTo(...u).plus(c):c}const qr={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Fs={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ia=qr.hanidec.replace(/[\[|\]]/g,"").split("");function Ca(r){let e=parseInt(r,10);if(isNaN(e)){e="";for(let t=0;t<r.length;t++){const n=r.charCodeAt(t);if(r[t].search(qr.hanidec)!==-1)e+=Ia.indexOf(r[t]);else for(const s in Fs){const[i,l]=Fs[s];n>=i&&n<=l&&(e+=n-i)}}return parseInt(e,10)}else return e}function Re({numberingSystem:r},e=""){return new RegExp(`${qr[r||"latn"]}${e}`)}const Ma="missing Intl.DateTimeFormat.formatToParts support";function ae(r,e=t=>t){return{regex:r,deser:([t])=>e(Ca(t))}}const Da=String.fromCharCode(160),Tl=`[ ${Da}]`,wl=new RegExp(Tl,"g");function Na(r){return r.replace(/\./g,"\\.?").replace(wl,Tl)}function As(r){return r.replace(/\./g,"").replace(wl," ").toLowerCase()}function Ze(r,e){return r===null?null:{regex:RegExp(r.map(Na).join("|")),deser:([t])=>r.findIndex(n=>As(t)===As(n))+e}}function Hs(r,e){return{regex:r,deser:([,t,n])=>Vn(t,n),groups:e}}function dn(r){return{regex:r,deser:([e])=>e}}function $a(r){return r.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function xa(r,e){const t=Re(e),n=Re(e,"{2}"),s=Re(e,"{3}"),i=Re(e,"{4}"),l=Re(e,"{6}"),o=Re(e,"{1,2}"),a=Re(e,"{1,3}"),u=Re(e,"{1,6}"),c=Re(e,"{1,9}"),p=Re(e,"{2,4}"),d=Re(e,"{4,6}"),y=v=>({regex:RegExp($a(v.val)),deser:([b])=>b,literal:!0}),T=(v=>{if(r.literal)return y(v);switch(v.val){case"G":return Ze(e.eras("short"),0);case"GG":return Ze(e.eras("long"),0);case"y":return ae(u);case"yy":return ae(p,$r);case"yyyy":return ae(i);case"yyyyy":return ae(d);case"yyyyyy":return ae(l);case"M":return ae(o);case"MM":return ae(n);case"MMM":return Ze(e.months("short",!0),1);case"MMMM":return Ze(e.months("long",!0),1);case"L":return ae(o);case"LL":return ae(n);case"LLL":return Ze(e.months("short",!1),1);case"LLLL":return Ze(e.months("long",!1),1);case"d":return ae(o);case"dd":return ae(n);case"o":return ae(a);case"ooo":return ae(s);case"HH":return ae(n);case"H":return ae(o);case"hh":return ae(n);case"h":return ae(o);case"mm":return ae(n);case"m":return ae(o);case"q":return ae(o);case"qq":return ae(n);case"s":return ae(o);case"ss":return ae(n);case"S":return ae(a);case"SSS":return ae(s);case"u":return dn(c);case"uu":return dn(o);case"uuu":return ae(t);case"a":return Ze(e.meridiems(),0);case"kkkk":return ae(i);case"kk":return ae(p,$r);case"W":return ae(o);case"WW":return ae(n);case"E":case"c":return ae(t);case"EEE":return Ze(e.weekdays("short",!1),1);case"EEEE":return Ze(e.weekdays("long",!1),1);case"ccc":return Ze(e.weekdays("short",!0),1);case"cccc":return Ze(e.weekdays("long",!0),1);case"Z":case"ZZ":return Hs(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return Hs(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return dn(/[a-z_+-/]{1,256}?/i);case" ":return dn(/[^\S\n\r]/);default:return y(v)}})(r)||{invalidReason:Ma};return T.token=r,T}const La={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Va(r,e,t){const{type:n,value:s}=r;if(n==="literal"){const a=/^\s+$/.test(s);return{literal:!a,val:a?" ":s}}const i=e[n];let l=n;n==="hour"&&(e.hour12!=null?l=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?l="hour12":l="hour24":l=t.hour12?"hour12":"hour24");let o=La[l];if(typeof o=="object"&&(o=o[i]),o)return{literal:!1,val:o}}function Fa(r){return[`^${r.map(t=>t.regex).reduce((t,n)=>`${t}(${n.source})`,"")}$`,r]}function Aa(r,e,t){const n=r.match(e);if(n){const s={};let i=1;for(const l in t)if(Zt(t,l)){const o=t[l],a=o.groups?o.groups+1:1;!o.literal&&o.token&&(s[o.token.val[0]]=o.deser(n.slice(i,i+a))),i+=a}return[n,s]}else return[n,{}]}function Ha(r){const e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,n;return le(r.z)||(t=Ke.create(r.z)),le(r.Z)||(t||(t=new Ie(r.Z)),n=r.Z),le(r.q)||(r.M=(r.q-1)*3+1),le(r.h)||(r.h<12&&r.a===1?r.h+=12:r.h===12&&r.a===0&&(r.h=0)),r.G===0&&r.y&&(r.y=-r.y),le(r.u)||(r.S=Ur(r.u)),[Object.keys(r).reduce((i,l)=>{const o=e(l);return o&&(i[o]=r[l]),i},{}),t,n]}let br=null;function Pa(){return br||(br=q.fromMillis(1555555555555)),br}function Ua(r,e){if(r.literal)return r;const t=Oe.macroTokenToFormatOpts(r.val),n=El(t,e);return n==null||n.includes(void 0)?r:n}function bl(r,e){return Array.prototype.concat(...r.map(t=>Ua(t,e)))}function kl(r,e,t){const n=bl(Oe.parseFormat(t),r),s=n.map(l=>xa(l,r)),i=s.find(l=>l.invalidReason);if(i)return{input:e,tokens:n,invalidReason:i.invalidReason};{const[l,o]=Fa(s),a=RegExp(l,"i"),[u,c]=Aa(e,a,o),[p,d,y]=c?Ha(c):[null,null,void 0];if(Zt(c,"a")&&Zt(c,"H"))throw new Jt("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:a,rawMatches:u,matches:c,result:p,zone:d,specificOffset:y}}}function Ra(r,e,t){const{result:n,zone:s,specificOffset:i,invalidReason:l}=kl(r,e,t);return[n,s,i,l]}function El(r,e){if(!r)return null;const n=Oe.create(e,r).dtFormatter(Pa()),s=n.formatToParts(),i=n.resolvedOptions();return s.map(l=>Va(l,r,i))}const Ol=[0,31,59,90,120,151,181,212,243,273,304,334],Sl=[0,31,60,91,121,152,182,213,244,274,305,335];function Pe(r,e){return new ze("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${r}, which is invalid`)}function Il(r,e,t){const n=new Date(Date.UTC(r,e-1,t));r<100&&r>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const s=n.getUTCDay();return s===0?7:s}function Cl(r,e,t){return t+(sn(r)?Sl:Ol)[e-1]}function Ml(r,e){const t=sn(r)?Sl:Ol,n=t.findIndex(i=>i<e),s=e-t[n];return{month:n+1,day:s}}function xr(r){const{year:e,month:t,day:n}=r,s=Cl(e,t,n),i=Il(e,t,n);let l=Math.floor((s-i+10)/7),o;return l<1?(o=e-1,l=Cn(o)):l>Cn(e)?(o=e+1,l=1):o=e,{weekYear:o,weekNumber:l,weekday:i,...Fn(r)}}function Ps(r){const{weekYear:e,weekNumber:t,weekday:n}=r,s=Il(e,1,4),i=Xt(e);let l=t*7+n-s-3,o;l<1?(o=e-1,l+=Xt(o)):l>i?(o=e+1,l-=Xt(e)):o=e;const{month:a,day:u}=Ml(o,l);return{year:o,month:a,day:u,...Fn(r)}}function kr(r){const{year:e,month:t,day:n}=r,s=Cl(e,t,n);return{year:e,ordinal:s,...Fn(r)}}function Us(r){const{year:e,ordinal:t}=r,{month:n,day:s}=Ml(e,t);return{year:e,month:n,day:s,...Fn(r)}}function Za(r){const e=xn(r.weekYear),t=Qe(r.weekNumber,1,Cn(r.weekYear)),n=Qe(r.weekday,1,7);return e?t?n?!1:Pe("weekday",r.weekday):Pe("week",r.week):Pe("weekYear",r.weekYear)}function Wa(r){const e=xn(r.year),t=Qe(r.ordinal,1,Xt(r.year));return e?t?!1:Pe("ordinal",r.ordinal):Pe("year",r.year)}function Dl(r){const e=xn(r.year),t=Qe(r.month,1,12),n=Qe(r.day,1,In(r.year,r.month));return e?t?n?!1:Pe("day",r.day):Pe("month",r.month):Pe("year",r.year)}function Nl(r){const{hour:e,minute:t,second:n,millisecond:s}=r,i=Qe(e,0,23)||e===24&&t===0&&n===0&&s===0,l=Qe(t,0,59),o=Qe(n,0,59),a=Qe(s,0,999);return i?l?o?a?!1:Pe("millisecond",s):Pe("second",n):Pe("minute",t):Pe("hour",e)}const Er="Invalid DateTime",Rs=864e13;function mn(r){return new ze("unsupported zone",`the zone "${r.name}" is not supported`)}function Or(r){return r.weekData===null&&(r.weekData=xr(r.c)),r.weekData}function wt(r,e){const t={ts:r.ts,zone:r.zone,c:r.c,o:r.o,loc:r.loc,invalid:r.invalid};return new q({...t,...e,old:t})}function $l(r,e,t){let n=r-e*60*1e3;const s=t.offset(n);if(e===s)return[n,e];n-=(s-e)*60*1e3;const i=t.offset(n);return s===i?[n,s]:[r-Math.min(s,i)*60*1e3,Math.max(s,i)]}function pn(r,e){r+=e*60*1e3;const t=new Date(r);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function bn(r,e,t){return $l(Ln(r),e,t)}function Zs(r,e){const t=r.o,n=r.c.year+Math.trunc(e.years),s=r.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...r.c,year:n,month:s,day:Math.min(r.c.day,In(n,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=oe.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=Ln(i);let[a,u]=$l(o,t,r.zone);return l!==0&&(a+=l,u=r.zone.offset(a)),{ts:a,o:u}}function jt(r,e,t,n,s,i){const{setZone:l,zone:o}=t;if(r&&Object.keys(r).length!==0||e){const a=e||o,u=q.fromObject(r,{...t,zone:a,specificOffset:i});return l?u:u.setZone(o)}else return q.invalid(new ze("unparsable",`the input "${s}" can't be parsed as ${n}`))}function gn(r,e,t=!0){return r.isValid?Oe.create(ce.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(r,e):null}function Sr(r,e){const t=r.c.year>9999||r.c.year<0;let n="";return t&&r.c.year>=0&&(n+="+"),n+=_e(r.c.year,t?6:4),e?(n+="-",n+=_e(r.c.month),n+="-",n+=_e(r.c.day)):(n+=_e(r.c.month),n+=_e(r.c.day)),n}function Ws(r,e,t,n,s,i){let l=_e(r.c.hour);return e?(l+=":",l+=_e(r.c.minute),(r.c.millisecond!==0||r.c.second!==0||!t)&&(l+=":")):l+=_e(r.c.minute),(r.c.millisecond!==0||r.c.second!==0||!t)&&(l+=_e(r.c.second),(r.c.millisecond!==0||!n)&&(l+=".",l+=_e(r.c.millisecond,3))),s&&(r.isOffsetFixed&&r.offset===0&&!i?l+="Z":r.o<0?(l+="-",l+=_e(Math.trunc(-r.o/60)),l+=":",l+=_e(Math.trunc(-r.o%60))):(l+="+",l+=_e(Math.trunc(r.o/60)),l+=":",l+=_e(Math.trunc(r.o%60)))),i&&(l+="["+r.zone.ianaName+"]"),l}const xl={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},za={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},qa={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Ll=["year","month","day","hour","minute","second","millisecond"],Ga=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Ba=["year","ordinal","hour","minute","second","millisecond"];function zs(r){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[r.toLowerCase()];if(!e)throw new Vi(r);return e}function qs(r,e){const t=ut(e.zone,ve.defaultZone),n=ce.fromObject(e),s=ve.now();let i,l;if(le(r.year))i=s;else{for(const u of Ll)le(r[u])&&(r[u]=xl[u]);const o=Dl(r)||Nl(r);if(o)return q.invalid(o);const a=t.offset(s);[i,l]=bn(r,a,t)}return new q({ts:i,zone:t,loc:n,o:l})}function Gs(r,e,t){const n=le(t.round)?!0:t.round,s=(l,o)=>(l=Rr(l,n||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(l,o)),i=l=>t.calendary?e.hasSame(r,l)?0:e.startOf(l).diff(r.startOf(l),l).get(l):e.diff(r,l).get(l);if(t.unit)return s(i(t.unit),t.unit);for(const l of t.units){const o=i(l);if(Math.abs(o)>=1)return s(o,l)}return s(r>e?-0:0,t.units[t.units.length-1])}function Bs(r){let e={},t;return r.length>0&&typeof r[r.length-1]=="object"?(e=r[r.length-1],t=Array.from(r).slice(0,r.length-1)):t=Array.from(r),[e,t]}class q{constructor(e){const t=e.zone||ve.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new ze("invalid input"):null)||(t.isValid?null:mn(t));this.ts=le(e.ts)?ve.now():e.ts;let s=null,i=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[s,i]=[e.old.c,e.old.o];else{const o=t.offset(this.ts);s=pn(this.ts,o),n=Number.isNaN(s.year)?new ze("invalid input"):null,s=n?null:s,i=n?null:o}this._zone=t,this.loc=e.loc||ce.create(),this.invalid=n,this.weekData=null,this.c=s,this.o=i,this.isLuxonDateTime=!0}static now(){return new q({})}static local(){const[e,t]=Bs(arguments),[n,s,i,l,o,a,u]=t;return qs({year:n,month:s,day:i,hour:l,minute:o,second:a,millisecond:u},e)}static utc(){const[e,t]=Bs(arguments),[n,s,i,l,o,a,u]=t;return e.zone=Ie.utcInstance,qs({year:n,month:s,day:i,hour:l,minute:o,second:a,millisecond:u},e)}static fromJSDate(e,t={}){const n=bo(e)?e.valueOf():NaN;if(Number.isNaN(n))return q.invalid("invalid input");const s=ut(t.zone,ve.defaultZone);return s.isValid?new q({ts:n,zone:s,loc:ce.fromObject(t)}):q.invalid(mn(s))}static fromMillis(e,t={}){if(bt(e))return e<-Rs||e>Rs?q.invalid("Timestamp out of range"):new q({ts:e,zone:ut(t.zone,ve.defaultZone),loc:ce.fromObject(t)});throw new He(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(bt(e))return new q({ts:e*1e3,zone:ut(t.zone,ve.defaultZone),loc:ce.fromObject(t)});throw new He("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const n=ut(t.zone,ve.defaultZone);if(!n.isValid)return q.invalid(mn(n));const s=ve.now(),i=le(t.specificOffset)?n.offset(s):t.specificOffset,l=Mn(e,zs),o=!le(l.ordinal),a=!le(l.year),u=!le(l.month)||!le(l.day),c=a||u,p=l.weekYear||l.weekNumber,d=ce.fromObject(t);if((c||o)&&p)throw new Jt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&o)throw new Jt("Can't mix ordinal dates with month/day");const y=p||l.weekday&&!c;let w,T,v=pn(s,i);y?(w=Ga,T=za,v=xr(v)):o?(w=Ba,T=qa,v=kr(v)):(w=Ll,T=xl);let b=!1;for(const F of w){const re=l[F];le(re)?b?l[F]=T[F]:l[F]=v[F]:b=!0}const O=y?Za(l):o?Wa(l):Dl(l),V=O||Nl(l);if(V)return q.invalid(V);const x=y?Ps(l):o?Us(l):l,[J,H]=bn(x,i,n),j=new q({ts:J,zone:n,o:H,loc:d});return l.weekday&&c&&e.weekday!==j.weekday?q.invalid("mismatched weekday",`you can't specify both a weekday of ${l.weekday} and a date of ${j.toISO()}`):j}static fromISO(e,t={}){const[n,s]=fa(e);return jt(n,s,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,s]=ha(e);return jt(n,s,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,s]=da(e);return jt(n,s,t,"HTTP",t)}static fromFormat(e,t,n={}){if(le(e)||le(t))throw new He("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:i=null}=n,l=ce.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0}),[o,a,u,c]=Ra(l,e,t);return c?q.invalid(c):jt(o,a,n,`format ${t}`,e,u)}static fromString(e,t,n={}){return q.fromFormat(e,t,n)}static fromSQL(e,t={}){const[n,s]=Ta(e);return jt(n,s,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new He("need to specify a reason the DateTime is invalid");const n=e instanceof ze?e:new ze(e,t);if(ve.throwOnInvalid)throw new Kl(n);return new q({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const n=El(e,ce.fromObject(t));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(e,t={}){return bl(Oe.parseFormat(e),ce.fromObject(t)).map(s=>s.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Or(this).weekYear:NaN}get weekNumber(){return this.isValid?Or(this).weekNumber:NaN}get weekday(){return this.isValid?Or(this).weekday:NaN}get ordinal(){return this.isValid?kr(this.c).ordinal:NaN}get monthShort(){return this.isValid?hn.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?hn.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?hn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?hn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,n=Ln(this.c),s=this.zone.offset(n-e),i=this.zone.offset(n+e),l=this.zone.offset(n-s*t),o=this.zone.offset(n-i*t);if(l===o)return[this];const a=n-l*t,u=n-o*t,c=pn(a,l),p=pn(u,o);return c.hour===p.hour&&c.minute===p.minute&&c.second===p.second&&c.millisecond===p.millisecond?[wt(this,{ts:a}),wt(this,{ts:u})]:[this]}get isInLeapYear(){return sn(this.year)}get daysInMonth(){return In(this.year,this.month)}get daysInYear(){return this.isValid?Xt(this.year):NaN}get weeksInWeekYear(){return this.isValid?Cn(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:n,calendar:s}=Oe.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:s}}toUTC(e=0,t={}){return this.setZone(Ie.instance(e),t)}toLocal(){return this.setZone(ve.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if(e=ut(e,ve.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(t||n){const i=e.offset(this.ts),l=this.toObject();[s]=bn(l,i,e)}return wt(this,{ts:s,zone:e})}else return q.invalid(mn(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){const s=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n});return wt(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Mn(e,zs),n=!le(t.weekYear)||!le(t.weekNumber)||!le(t.weekday),s=!le(t.ordinal),i=!le(t.year),l=!le(t.month)||!le(t.day),o=i||l,a=t.weekYear||t.weekNumber;if((o||s)&&a)throw new Jt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&s)throw new Jt("Can't mix ordinal dates with month/day");let u;n?u=Ps({...xr(this.c),...t}):le(t.ordinal)?(u={...this.toObject(),...t},le(t.day)&&(u.day=Math.min(In(u.year,u.month),u.day))):u=Us({...kr(this.c),...t});const[c,p]=bn(u,this.o,this.zone);return wt(this,{ts:c,o:p})}plus(e){if(!this.isValid)return this;const t=oe.fromDurationLike(e);return wt(this,Zs(this,t))}minus(e){if(!this.isValid)return this;const t=oe.fromDurationLike(e).negate();return wt(this,Zs(this,t))}startOf(e){if(!this.isValid)return this;const t={},n=oe.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;break}if(n==="weeks"&&(t.weekday=1),n==="quarters"){const s=Math.ceil(this.month/3);t.month=(s-1)*3+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?Oe.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Er}toLocaleString(e=Sn,t={}){return this.isValid?Oe.create(this.loc.clone(t),e).formatDateTime(this):Er}toLocaleParts(e={}){return this.isValid?Oe.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const l=e==="extended";let o=Sr(this,l);return o+="T",o+=Ws(this,l,t,n,s,i),o}toISODate({format:e="extended"}={}){return this.isValid?Sr(this,e==="extended"):null}toISOWeekDate(){return gn(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:i=!1,format:l="extended"}={}){return this.isValid?(s?"T":"")+Ws(this,l==="extended",t,e,n,i):null}toRFC2822(){return gn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return gn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Sr(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(t||e)&&(n&&(s+=" "),t?s+="z":e&&(s+="ZZ")),gn(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Er}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return oe.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...n},i=ko(t).map(oe.normalizeUnit),l=e.valueOf()>this.valueOf(),o=l?this:e,a=l?e:this,u=Sa(o,a,i,s);return l?u.negate():u}diffNow(e="milliseconds",t={}){return this.diff(q.now(),e,t)}until(e){return this.isValid?ge.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;const n=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(t)<=n&&n<=s.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||q.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(s=e.unit,i=void 0),Gs(t,this.plus(n),{...e,numeric:"always",units:s,unit:i})}toRelativeCalendar(e={}){return this.isValid?Gs(e.base||q.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(q.isDateTime))throw new He("min requires all arguments be DateTimes");return Ds(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(q.isDateTime))throw new He("max requires all arguments be DateTimes");return Ds(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:s=null,numberingSystem:i=null}=n,l=ce.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0});return kl(l,e,t)}static fromStringExplain(e,t,n={}){return q.fromFormatExplain(e,t,n)}static get DATE_SHORT(){return Sn}static get DATE_MED(){return Fi}static get DATE_MED_WITH_WEEKDAY(){return to}static get DATE_FULL(){return Ai}static get DATE_HUGE(){return Hi}static get TIME_SIMPLE(){return Pi}static get TIME_WITH_SECONDS(){return Ui}static get TIME_WITH_SHORT_OFFSET(){return Ri}static get TIME_WITH_LONG_OFFSET(){return Zi}static get TIME_24_SIMPLE(){return Wi}static get TIME_24_WITH_SECONDS(){return zi}static get TIME_24_WITH_SHORT_OFFSET(){return qi}static get TIME_24_WITH_LONG_OFFSET(){return Gi}static get DATETIME_SHORT(){return Bi}static get DATETIME_SHORT_WITH_SECONDS(){return ji}static get DATETIME_MED(){return Yi}static get DATETIME_MED_WITH_SECONDS(){return Ji}static get DATETIME_MED_WITH_WEEKDAY(){return no}static get DATETIME_FULL(){return Qi}static get DATETIME_FULL_WITH_SECONDS(){return Ki}static get DATETIME_HUGE(){return Xi}static get DATETIME_HUGE_WITH_SECONDS(){return el}}function Yt(r){if(q.isDateTime(r))return r;if(r&&r.valueOf&&bt(r.valueOf()))return q.fromJSDate(r);if(r&&typeof r=="object")return q.fromObject(r);throw new He(`Unknown datetime argument: ${r}, of type ${typeof r}`)}const ja="#28B463",Vl="#58D68D",Fl="#F7DC6F",Al="#E59866",Hl="#E74C3C",Pl="#BF40BF",js=[Vl,"#96db78","#c9dd6d",Fl,"#f5c469","#efad66",Al,"#e68253","#e76a45",Hl],Ys=[Vl,Fl,Al,Hl],Ul=Pl,Rl="gold",Ce=function(r,e){if(r<=0)return ja;if(r>e)return Pl;const t=js.length,n=t/e,s=Math.min(t-1,Math.floor(r*n));return js[s]},Ya=function(r,e){const t=e/2,n=Ys.length,s=n/t,i=n-1-Math.min(n-1,Math.floor(r*s));return Ys[i]};function Ja(r){let e;return{c(){e=k("i"),this.h()},l(t){e=E(t,"I",{class:!0,style:!0}),C(e).forEach(g),this.h()},h(){_(e,"class","fa-solid fa-fade fa-triangle-exclamation"),se(e,"color",Ul)},m(t,n){M(t,e,n)},p:G,i:G,o:G,d(t){t&&g(e)}}}class Lr extends Ne{constructor(e){super(),$e(this,e,null,Ja,De,{})}}function Qa(r){let e,t,n="Price cap",s,i,l,o,a="pence/kWh",u,c,p='<i class="fa-solid fa-arrow-rotate-right"></i> Reset',d,y;return{c(){e=k("div"),t=k("span"),t.textContent=n,s=D(),i=k("input"),l=D(),o=k("span"),o.textContent=a,u=D(),c=k("button"),c.innerHTML=p,this.h()},l(w){e=E(w,"DIV",{class:!0});var T=C(e);t=E(T,"SPAN",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-1rnrxda"&&(t.textContent=n),s=N(T),i=E(T,"INPUT",{type:!0,min:!0,max:!0,class:!0}),l=N(T),o=E(T,"SPAN",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-1jk2nhp"&&(o.textContent=a),u=N(T),c=E(T,"BUTTON",{class:!0,type:!0,title:!0,"data-svelte-h":!0}),z(c)!=="svelte-1gp2igr"&&(c.innerHTML=p),T.forEach(g),this.h()},h(){_(t,"class","input-group-text"),_(i,"type","number"),_(i,"min",Fr),_(i,"max",Vr),_(i,"class","form-control"),_(o,"class","input-group-text"),_(c,"class","btn btn-outline-secondary"),_(c,"type","button"),_(c,"title","Reset Price Cap"),_(e,"class","input-group")},m(w,T){M(w,e,T),h(e,t),h(e,s),h(e,i),kt(i,r[0]),h(e,l),h(e,o),h(e,u),h(e,c),d||(y=[we(i,"input",r[2]),we(c,"click",r[3])],d=!0)},p(w,[T]){T&1&&Li(i.value)!==w[0]&&kt(i,w[0])},i:G,o:G,d(w){w&&g(e),d=!1,Wt(y)}}}const Vr=99,Fr=1;function Ka(r,e,t){let{defaultPriceCap:n}=e,{priceCap:s}=e;const i=()=>{s<Fr?t(0,s=Fr):s>Vr&&t(0,s=Vr)};nn(()=>{t(0,s=n)});function l(){s=Li(this.value),t(0,s)}const o=()=>{t(0,s=n)};return r.$$set=a=>{"defaultPriceCap"in a&&t(1,n=a.defaultPriceCap),"priceCap"in a&&t(0,s=a.priceCap)},r.$$.update=()=>{r.$$.dirty&1&&s&&i()},[s,n,l,o]}class Xa extends Ne{constructor(e){super(),$e(this,e,Ka,Qa,De,{defaultPriceCap:1,priceCap:0})}}function eu(r){let e;return{c(){e=k("i"),this.h()},l(t){e=E(t,"I",{class:!0}),C(e).forEach(g),this.h()},h(){_(e,"class","fa-solid fa-bolt fa-beat text-warning-emphasis")},m(t,n){M(t,e,n)},p:G,i:G,o:G,d(t){t&&g(e)}}}class Dn extends Ne{constructor(e){super(),$e(this,e,null,eu,De,{})}}function tu(r){let e,t,n,s,i,l,o,a="Getting the most recent pricing from Octopus Energy",u;return n=new Dn({}),i=new Dn({}),{c(){e=k("div"),t=k("p"),fe(n.$$.fragment),s=U(" Loading Pricing "),fe(i.$$.fragment),l=D(),o=k("p"),o.textContent=a,this.h()},l(c){e=E(c,"DIV",{class:!0,role:!0});var p=C(e);t=E(p,"P",{class:!0});var d=C(t);he(n.$$.fragment,d),s=R(d," Loading Pricing "),he(i.$$.fragment,d),d.forEach(g),l=N(p),o=E(p,"P",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-1hy3shr"&&(o.textContent=a),p.forEach(g),this.h()},h(){_(t,"class","fs-1 mb-2 text-warning-emphasis"),_(o,"class","mb-0"),_(e,"class","alert alert-dark text-center"),_(e,"role","alert")},m(c,p){M(c,e,p),h(e,t),de(n,t,null),h(t,s),de(i,t,null),h(e,l),h(e,o),u=!0},p:G,i(c){u||(Y(n.$$.fragment,c),Y(i.$$.fragment,c),u=!0)},o(c){Q(n.$$.fragment,c),Q(i.$$.fragment,c),u=!1},d(c){c&&g(e),me(n),me(i)}}}class Gr extends Ne{constructor(e){super(),$e(this,e,null,tu,De,{})}}function Se(r,e=0){const t=Math.pow(10,e);return Math.round(r*t)/t}function nu(r){let e;return{c(){e=k("i"),this.h()},l(t){e=E(t,"I",{class:!0}),C(e).forEach(g),this.h()},h(){_(e,"class","fa-solid fa-hourglass-half")},m(t,n){M(t,e,n)},p:G,i:G,o:G,d(t){t&&g(e)}}}class Br extends Ne{constructor(e){super(),$e(this,e,null,nu,De,{})}}class ru{constructor(){Ve(this,"validFrom");Ve(this,"validTo");Ve(this,"import");Ve(this,"export")}isNow(){const e=q.now();return this.validFrom<e&&this.validTo>e}readableTime(){return this.validFrom.toFormat("t")}fullReadableDate(){return this.validFrom.toFormat("DDDD")}isFuture(){const e=q.now();return this.validFrom>e}diffStr(){if(this.isNow())return"NOW";const e=q.now(),t=this.validFrom.diff(e,["hours","minutes"]).toObject();let n=t.hours||0,s=Math.round(t.minutes||0);return s===60&&(n+=1,s=0),n===0&&s===0?"<1m":n===0?`${s}m`:`${n}h ${s.toString().padStart(2,"0")}m`}importStr(){return Number.isFinite(this.import)?`${Se(this.import)}p`:"n/a"}exportStr(){return Number.isFinite(this.export)?`${Se(this.export)}p`:"n/a"}importColor(e){return Ce(this.import,e)}exportColor(e){return Ya(this.export,e)}importCloseToLowestImport(e,t=2){return this.import<=e+t}exportCloseToHighestExport(e,t=2){return this.export>=e-t}}function Js(r,e,t){const n=r.slice();return n[12]=e[t],n}function Qs(r,e,t){const n=r.slice();n[15]=e[t];const s=n[2][n[8](n[15],n[12])];return n[16]=s,n}function Ks(r,e,t){const n=r.slice();n[15]=e[t];const s=n[6][`${n[15]}`];return n[19]=s,n}function Xs(r,e,t){const n=r.slice();n[15]=e[t];const s=n[5][`${n[15]}`];return n[19]=s,n}function ei(r,e,t){const n=r.slice();n[15]=e[t];const s=n[7][`${n[15]}`];return n[19]=s,n}function ti(r,e,t){const n=r.slice();return n[15]=e[t],n}function su(r){let e,t,n;return e=new Br({}),{c(){fe(e.$$.fragment),t=U(" Waiting on data...")},l(s){he(e.$$.fragment,s),t=R(s," Waiting on data...")},m(s,i){de(e,s,i),M(s,t,i),n=!0},p:G,i(s){n||(Y(e.$$.fragment,s),n=!0)},o(s){Q(e.$$.fragment,s),n=!1},d(s){s&&g(t),me(e,s)}}}function iu(r){let e,t;return e=new Gr({}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p:G,i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function lu(r){let e,t,n=" ",s,i,l,o,a="<small>Low</small>",u,c,p,d,y="<small>Avg</small>",w,T,v,b,O="<small>High</small>",V,x,J,H="Half-Hourly Pricing",j,F,re=ue(r[3].values()),P=[];for(let f=0;f<re.length;f+=1)P[f]=ni(ti(r,re,f));let ie=ue(r[3].values()),S=[];for(let f=0;f<ie.length;f+=1)S[f]=ri(ei(r,ie,f));let B=ue(r[3].values()),I=[];for(let f=0;f<B.length;f+=1)I[f]=si(Xs(r,B,f));let ee=ue(r[3].values()),$=[];for(let f=0;f<ee.length;f+=1)$[f]=ii(Ks(r,ee,f));let te=ue(r[4].values()),Z=[];for(let f=0;f<te.length;f+=1)Z[f]=oi(Js(r,te,f));return{c(){e=k("div"),t=k("div"),t.textContent=n,s=D();for(let f=0;f<P.length;f+=1)P[f].c();i=D(),l=k("div"),o=k("div"),o.innerHTML=a,u=D();for(let f=0;f<S.length;f+=1)S[f].c();c=D(),p=k("div"),d=k("div"),d.innerHTML=y,w=D();for(let f=0;f<I.length;f+=1)I[f].c();T=D(),v=k("div"),b=k("div"),b.innerHTML=O,V=D();for(let f=0;f<$.length;f+=1)$[f].c();x=D(),J=k("h3"),J.textContent=H,j=D();for(let f=0;f<Z.length;f+=1)Z[f].c();F=Te(),this.h()},l(f){e=E(f,"DIV",{class:!0});var A=C(e);t=E(A,"DIV",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-1uln4ml"&&(t.textContent=n),s=N(A);for(let X=0;X<P.length;X+=1)P[X].l(A);A.forEach(g),i=N(f),l=E(f,"DIV",{class:!0});var m=C(l);o=E(m,"DIV",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-1erojqh"&&(o.innerHTML=a),u=N(m);for(let X=0;X<S.length;X+=1)S[X].l(m);m.forEach(g),c=N(f),p=E(f,"DIV",{class:!0});var K=C(p);d=E(K,"DIV",{class:!0,"data-svelte-h":!0}),z(d)!=="svelte-r4dfpf"&&(d.innerHTML=y),w=N(K);for(let X=0;X<I.length;X+=1)I[X].l(K);K.forEach(g),T=N(f),v=E(f,"DIV",{class:!0});var ke=C(v);b=E(ke,"DIV",{class:!0,"data-svelte-h":!0}),z(b)!=="svelte-e7vzyp"&&(b.innerHTML=O),V=N(ke);for(let X=0;X<$.length;X+=1)$[X].l(ke);ke.forEach(g),x=N(f),J=E(f,"H3",{class:!0,"data-svelte-h":!0}),z(J)!=="svelte-1vzbbzv"&&(J.textContent=H),j=N(f);for(let X=0;X<Z.length;X+=1)Z[X].l(f);F=Te(),this.h()},h(){_(t,"class","col p-0 pe-1"),_(e,"class","row justify-content-center font-monospace text-end"),_(o,"class","col p-0 pe-1 text-center"),_(l,"class","row justify-content-center font-monospace text-end"),_(d,"class","col p-0 pe-1 text-center"),_(p,"class","row justify-content-center font-monospace text-end"),_(b,"class","col p-0 pe-1 text-center"),_(v,"class","row justify-content-center font-monospace text-end mb-2"),_(J,"class","h6 text-center")},m(f,A){M(f,e,A),h(e,t),h(e,s);for(let m=0;m<P.length;m+=1)P[m]&&P[m].m(e,null);M(f,i,A),M(f,l,A),h(l,o),h(l,u);for(let m=0;m<S.length;m+=1)S[m]&&S[m].m(l,null);M(f,c,A),M(f,p,A),h(p,d),h(p,w);for(let m=0;m<I.length;m+=1)I[m]&&I[m].m(p,null);M(f,T,A),M(f,v,A),h(v,b),h(v,V);for(let m=0;m<$.length;m+=1)$[m]&&$[m].m(v,null);M(f,x,A),M(f,J,A),M(f,j,A);for(let m=0;m<Z.length;m+=1)Z[m]&&Z[m].m(f,A);M(f,F,A)},p(f,A){if(A&8){re=ue(f[3].values());let m;for(m=0;m<re.length;m+=1){const K=ti(f,re,m);P[m]?P[m].p(K,A):(P[m]=ni(K),P[m].c(),P[m].m(e,null))}for(;m<P.length;m+=1)P[m].d(1);P.length=re.length}if(A&137){ie=ue(f[3].values());let m;for(m=0;m<ie.length;m+=1){const K=ei(f,ie,m);S[m]?S[m].p(K,A):(S[m]=ri(K),S[m].c(),S[m].m(l,null))}for(;m<S.length;m+=1)S[m].d(1);S.length=ie.length}if(A&41){B=ue(f[3].values());let m;for(m=0;m<B.length;m+=1){const K=Xs(f,B,m);I[m]?I[m].p(K,A):(I[m]=si(K),I[m].c(),I[m].m(p,null))}for(;m<I.length;m+=1)I[m].d(1);I.length=B.length}if(A&73){ee=ue(f[3].values());let m;for(m=0;m<ee.length;m+=1){const K=Ks(f,ee,m);$[m]?$[m].p(K,A):($[m]=ii(K),$[m].c(),$[m].m(v,null))}for(;m<$.length;m+=1)$[m].d(1);$.length=ee.length}if(A&285){te=ue(f[4].values());let m;for(m=0;m<te.length;m+=1){const K=Js(f,te,m);Z[m]?Z[m].p(K,A):(Z[m]=oi(K),Z[m].c(),Z[m].m(F.parentNode,F))}for(;m<Z.length;m+=1)Z[m].d(1);Z.length=te.length}},i:G,o:G,d(f){f&&(g(e),g(i),g(l),g(c),g(p),g(T),g(v),g(x),g(J),g(j),g(F)),Ee(P,f),Ee(S,f),Ee(I,f),Ee($,f),Ee(Z,f)}}}function ni(r){let e,t=r[15]+"",n;return{c(){e=k("div"),n=U(t),this.h()},l(s){e=E(s,"DIV",{class:!0});var i=C(e);n=R(i,t),i.forEach(g),this.h()},h(){_(e,"class","col p-0 pe-1")},m(s,i){M(s,e,i),h(e,n)},p(s,i){i&8&&t!==(t=s[15]+"")&&be(n,t)},d(s){s&&g(e)}}}function ri(r){let e,t=Se(r[19])+"",n,s;return{c(){e=k("div"),n=U(t),s=U(`p
            `),this.h()},l(i){e=E(i,"DIV",{class:!0,style:!0});var l=C(e);n=R(l,t),s=R(l,`p
            `),l.forEach(g),this.h()},h(){_(e,"class","col p-0 pe-1 "),se(e,"background-color",Ce(r[19],r[0])),se(e,"color","Black")},m(i,l){M(i,e,l),h(e,n),h(e,s)},p(i,l){l&136&&t!==(t=Se(i[19])+"")&&be(n,t),l&137&&se(e,"background-color",Ce(i[19],i[0]))},d(i){i&&g(e)}}}function si(r){let e,t=Se(r[19])+"",n,s;return{c(){e=k("div"),n=U(t),s=U(`p
            `),this.h()},l(i){e=E(i,"DIV",{class:!0,style:!0});var l=C(e);n=R(l,t),s=R(l,`p
            `),l.forEach(g),this.h()},h(){_(e,"class","col p-0 pe-1 "),se(e,"background-color",Ce(r[19],r[0])),se(e,"color","Black")},m(i,l){M(i,e,l),h(e,n),h(e,s)},p(i,l){l&40&&t!==(t=Se(i[19])+"")&&be(n,t),l&41&&se(e,"background-color",Ce(i[19],i[0]))},d(i){i&&g(e)}}}function ii(r){let e,t=Se(r[19])+"",n,s;return{c(){e=k("div"),n=U(t),s=U(`p
            `),this.h()},l(i){e=E(i,"DIV",{class:!0,style:!0});var l=C(e);n=R(l,t),s=R(l,`p
            `),l.forEach(g),this.h()},h(){_(e,"class","col p-0 pe-1 "),se(e,"background-color",Ce(r[19],r[0])),se(e,"color","Black")},m(i,l){M(i,e,l),h(e,n),h(e,s)},p(i,l){l&72&&t!==(t=Se(i[19])+"")&&be(n,t),l&73&&se(e,"background-color",Ce(i[19],i[0]))},d(i){i&&g(e)}}}function ou(r){let e,t=" ";return{c(){e=k("div"),e.textContent=t,this.h()},l(n){e=E(n,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1uln4ml"&&(e.textContent=t),this.h()},h(){_(e,"class","col p-0 pe-1")},m(n,s){M(n,e,s)},p:G,d(n){n&&g(e)}}}function au(r){let e,t=r[16].importStr()+"",n;return{c(){e=k("div"),n=U(t),this.h()},l(s){e=E(s,"DIV",{class:!0,style:!0});var i=C(e);n=R(i,t),i.forEach(g),this.h()},h(){_(e,"class","col p-0 pe-1"),se(e,"background-color",r[16].importColor(r[0])),se(e,"color","Black")},m(s,i){M(s,e,i),h(e,n)},p(s,i){i&28&&t!==(t=s[16].importStr()+"")&&be(n,t),i&29&&se(e,"background-color",s[16].importColor(s[0]))},d(s){s&&g(e)}}}function li(r){let e;function t(i,l){return i[16]?au:ou}let n=t(r),s=n(r);return{c(){s.c(),e=Te()},l(i){s.l(i),e=Te()},m(i,l){s.m(i,l),M(i,e,l)},p(i,l){n===(n=t(i))&&s?s.p(i,l):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&g(e),s.d(i)}}}function oi(r){let e,t,n,s=r[12]+"",i,l,o,a=ue(r[3].values()),u=[];for(let c=0;c<a.length;c+=1)u[c]=li(Qs(r,a,c));return{c(){e=k("div"),t=k("div"),n=k("small"),i=U(s),l=D();for(let c=0;c<u.length;c+=1)u[c].c();o=D(),this.h()},l(c){e=E(c,"DIV",{class:!0});var p=C(e);t=E(p,"DIV",{class:!0});var d=C(t);n=E(d,"SMALL",{});var y=C(n);i=R(y,s),y.forEach(g),d.forEach(g),l=N(p);for(let w=0;w<u.length;w+=1)u[w].l(p);o=N(p),p.forEach(g),this.h()},h(){_(t,"class","col p-0 pe-1 text-center"),_(e,"class","row justify-content-center font-monospace text-end")},m(c,p){M(c,e,p),h(e,t),h(t,n),h(n,i),h(e,l);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(e,null);h(e,o)},p(c,p){if(p&16&&s!==(s=c[12]+"")&&be(i,s),p&285){a=ue(c[3].values());let d;for(d=0;d<a.length;d+=1){const y=Qs(c,a,d);u[d]?u[d].p(y,p):(u[d]=li(y),u[d].c(),u[d].m(e,o))}for(;d<u.length;d+=1)u[d].d(1);u.length=a.length}},d(c){c&&g(e),Ee(u,c)}}}function uu(r){let e,t,n,s;const i=[lu,iu,su],l=[];function o(a,u){return a[2]&&a[4].length&&a[3].length?0:a[1]?1:2}return e=o(r),t=l[e]=i[e](r),{c(){t.c(),n=Te()},l(a){t.l(a),n=Te()},m(a,u){l[e].m(a,u),M(a,n,u),s=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(je(),Q(l[c],1,1,()=>{l[c]=null}),Ye(),t=l[e],t?t.p(a,u):(t=l[e]=i[e](a),t.c()),Y(t,1),t.m(n.parentNode,n))},i(a){s||(Y(t),s=!0)},o(a){Q(t),s=!1},d(a){a&&g(n),l[e].d(a)}}}function cu(r,e,t){let{pricing:n=[]}=e,{priceCap:s}=e,{updating:i=!1}=e,l={},o,a,u={},c={},p={},d={};const y=(T,v)=>`${T}-${v}`,w=function(){const T=q.now();let v=T.minus({days:7}).startOf("day"),b=T.minus({days:1}).endOf("day"),O=new Set,V=new Set;for(const x of n){const J=x.validFrom.toUnixInteger();if(J>=v.toUnixInteger()&&J<=b.toUnixInteger()){const H=x.validFrom.toFormat("ccc"),j=x.validFrom.toFormat("HH:mm");O.add(H),V.add(j),t(2,l[y(H,j)]=x,l)}}for(const x of O.values()){c[`${x}`]=0,t(6,p[`${x}`]=-1/0,p),t(7,d[`${x}`]=1/0,d);for(const J of V.values()){const H=l[y(x,J)];H&&(c[`${x}`]+=H.import,t(6,p[`${x}`]=p[`${x}`]<H.import?H.import:p[`${x}`],p),t(7,d[`${x}`]=d[`${x}`]>H.import?H.import:d[`${x}`],d))}t(5,u[`${x}`]=c[`${x}`]/V.size,u)}t(2,l),t(3,o=Array.from(O).map(x=>`${x}`)),t(4,a=Array.from(V).map(x=>`${x}`))};return nn(()=>{w()}),r.$$set=T=>{"pricing"in T&&t(9,n=T.pricing),"priceCap"in T&&t(0,s=T.priceCap),"updating"in T&&t(1,i=T.updating)},r.$$.update=()=>{r.$$.dirty&512&&w()},[s,i,l,o,a,u,p,d,y,n]}class fu extends Ne{constructor(e){super(),$e(this,e,cu,uu,De,{pricing:9,priceCap:0,updating:1})}}let Zl=22.36;q.now()>q.fromISO("2024-10-01T12:00:00Z").startOf("day")&&(Zl=24.5);const kn=Zl,hu="B";class Me{constructor(e,t){Ve(this,"code");Ve(this,"name");this.code=e,this.name=t}get slug(){return`${this.name.toLocaleLowerCase().replace(/[^\w]/gi,"-")}-${this.code}`}get longName(){return`${this.name} (${this.code})`}}const Wl=[new Me("A","Eastern England"),new Me("B","East Midlands"),new Me("C","London"),new Me("D","Merseyside and Northern Wales"),new Me("E","West Midlands"),new Me("F","North Eastern England"),new Me("G","North Western England"),new Me("H","Southern England"),new Me("J","South Eastern England"),new Me("K","Southern Wales"),new Me("L","South Western England"),new Me("M","Yorkshire"),new Me("N","Southern Scotland"),new Me("P","Northern Scotland")],zl=function(r){for(const e of Wl)if(e.code===r)return e;return null},du=function(r){return zl(r)!==null},mu="AGILE-BB-23-12-06",pu="AGILE-OUTGOING-19-05-13",Be="IMPORT",Ar="EXPORT";class We{constructor(e,t,n){Ve(this,"name");Ve(this,"code");Ve(this,"type");Ve(this,"isImport",()=>this.type===Be);Ve(this,"isExport",()=>this.type===Ar);this.code=e,this.name=t,this.type=n}}const ql=[new We("AGILE-24-04-03","Agile Octopus April 2024 v1",Be),new We("AGILE-BB-24-04-03","Agile Octopus April 2024 v1",Be),new We("AGILE-23-12-06","Agile Octopus December 2023 v1",Be),new We("AGILE-BB-23-12-06","Agile Octopus December 2023 v1",Be),new We("AGILE-FLEX-BB-23-02-08","Agile Octopus February 2023 v1",Be),new We("AGILE-FLEX-22-11-25","Agile Octopus November 2022 v1",Be),new We("AGILE-22-08-31","Agile Octopus August 2022 v1",Be),new We("AGILE-22-07-22","Agile Octopus July 2022 v1",Be),new We("AGILE-18-02-21","Agile Octopus February 2018",Be),new We("AGILE-OUTGOING-19-05-13","Agile Outgoing Octopus May 2019",Ar),new We("AGILE-OUTGOING-BB-23-02-28","Agile Outgoing Octopus February 2023",Ar)],ai="1";class Ae{static setItem(e,t){localStorage&&localStorage.setItem(`v${ai}-${e}`,t)}static getItem(e){return localStorage?localStorage.getItem(`v${ai}-${e}`):null}}const ui="https://api.octopus.energy/v1/products";class Ir{static async fetch(e,t,n,s,i){const l=`${ui}/${t}/electricity-tariffs/E-1R-${t}-${e}/standard-unit-rates/?page_size=1500&period_from=${s.toUTC().toISO()}&period_to=${i.toUTC().toISO()}`,o=`${ui}/${n}/electricity-tariffs/E-1R-${n}-${e}/standard-unit-rates/?page_size=1500&period_from=${s.toUTC().toISO()}&period_to=${i.toUTC().toISO()}`,a=await fetch(l),u=await fetch(o);return{importJson:await a.json(),exportJson:await u.json()}}static jsonToPriceArray(e,t){const n={};for(const i of e.results){const l=new ru;l.validFrom=q.fromISO(i.valid_from),l.validTo=q.fromISO(i.valid_to),l.import=Math.round(i.value_inc_vat*10)/10,n[i.valid_from]=l}for(const i of t.results){const l=n[i.valid_from];l&&(l.export=Math.round(i.value_inc_vat*10)/10)}const s=Object.keys(n).map(i=>n[i]);return s.sort((i,l)=>i.validFrom.toUnixInteger()-l.validFrom.toUnixInteger()),s}}function gu(r){let e,t;return{c(){e=k("i"),this.h()},l(n){e=E(n,"I",{class:!0,style:!0}),C(e).forEach(g),this.h()},h(){_(e,"class","fa-solid fa-arrow-down"),_(e,"style",t=r[0]?`color: ${r[0]}`:"")},m(n,s){M(n,e,s)},p(n,[s]){s&1&&t!==(t=n[0]?`color: ${n[0]}`:"")&&_(e,"style",t)},i:G,o:G,d(n){n&&g(e)}}}function yu(r,e,t){let{color:n=""}=e;return r.$$set=s=>{"color"in s&&t(0,n=s.color)},[n]}class vu extends Ne{constructor(e){super(),$e(this,e,yu,gu,De,{color:0})}}function _u(r){let e;return{c(){e=k("i"),this.h()},l(t){e=E(t,"I",{class:!0,style:!0}),C(e).forEach(g),this.h()},h(){_(e,"class","fa-solid fa-coins fa-beat"),se(e,"color",Rl)},m(t,n){M(t,e,n)},p:G,i:G,o:G,d(t){t&&g(e)}}}class Gl extends Ne{constructor(e){super(),$e(this,e,null,_u,De,{})}}function ci(r,e,t){const n=r.slice();return n[8]=e[t],n}function Tu(r){let e,t,n;return e=new Br({}),{c(){fe(e.$$.fragment),t=U(" Waiting on data...")},l(s){he(e.$$.fragment,s),t=R(s," Waiting on data...")},m(s,i){de(e,s,i),M(s,t,i),n=!0},p:G,i(s){n||(Y(e.$$.fragment,s),n=!0)},o(s){Q(e.$$.fragment,s),n=!1},d(s){s&&g(t),me(e,s)}}}function wu(r){let e,t;return e=new Gr({}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p:G,i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function bu(r){let e,t,n,s,i,l=ue(r[2]),o=[];for(let d=0;d<l.length;d+=1)o[d]=hi(ci(r,l,d));const a=d=>Q(o[d],1,1,()=>{o[d]=null}),u=[Iu,Su],c=[];function p(d,y){return d[1]?0:1}return n=p(r),s=c[n]=u[n](r),{c(){for(let d=0;d<o.length;d+=1)o[d].c();e=D(),t=k("p"),s.c(),this.h()},l(d){for(let w=0;w<o.length;w+=1)o[w].l(d);e=N(d),t=E(d,"P",{class:!0});var y=C(t);s.l(y),y.forEach(g),this.h()},h(){_(t,"class","text-center")},m(d,y){for(let w=0;w<o.length;w+=1)o[w]&&o[w].m(d,y);M(d,e,y),M(d,t,y),c[n].m(t,null),i=!0},p(d,y){if(y&13){l=ue(d[2]);let T;for(T=0;T<l.length;T+=1){const v=ci(d,l,T);o[T]?(o[T].p(v,y),Y(o[T],1)):(o[T]=hi(v),o[T].c(),Y(o[T],1),o[T].m(e.parentNode,e))}for(je(),T=l.length;T<o.length;T+=1)a(T);Ye()}let w=n;n=p(d),n!==w&&(je(),Q(c[w],1,1,()=>{c[w]=null}),Ye(),s=c[n],s||(s=c[n]=u[n](d),s.c()),Y(s,1),s.m(t,null))},i(d){if(!i){for(let y=0;y<l.length;y+=1)Y(o[y]);Y(s),i=!0}},o(d){o=o.filter(Boolean);for(let y=0;y<o.length;y+=1)Q(o[y]);Q(s),i=!1},d(d){d&&(g(e),g(t)),Ee(o,d),c[n].d()}}}function fi(r){let e,t,n=r[8].price.fullReadableDate()+"",s,i,l,o='<div class="col-2 px-0">Time</div> <div class="col-3 px-0 text-end">When</div> <div class="col-2 px-0"> </div> <div class="col-2 px-0">Import</div> <div class="col-2 px-0">Export</div>';return{c(){e=k("div"),t=k("div"),s=U(n),i=D(),l=k("div"),l.innerHTML=o,this.h()},l(a){e=E(a,"DIV",{class:!0});var u=C(e);t=E(u,"DIV",{class:!0});var c=C(t);s=R(c,n),c.forEach(g),u.forEach(g),i=N(a),l=E(a,"DIV",{class:!0,"data-svelte-h":!0}),z(l)!=="svelte-1m3m2io"&&(l.innerHTML=o),this.h()},h(){_(t,"class","col-12 text-center text-bg-dark p-2 fw-bold"),_(e,"class","row justify-content-center"),_(l,"class","row justify-content-center text-center")},m(a,u){M(a,e,u),h(e,t),h(t,s),M(a,i,u),M(a,l,u)},p(a,u){u&4&&n!==(n=a[8].price.fullReadableDate()+"")&&be(s,n)},d(a){a&&(g(e),g(i),g(l))}}}function ku(r){let e,t;return e=new Lr({}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p:G,i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function Eu(r){let e,t;return e=new vu({props:{color:r[8].price.importColor(r[0])}}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p(n,s){const i={};s&5&&(i.color=n[8].price.importColor(n[0])),e.$set(i)},i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function Ou(r){let e,t;return e=new Gl({}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p:G,i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function hi(r){let e,t,n,s=r[8].price.readableTime()+"",i,l,o,a=r[8].price.diffStr()+"",u,c,p,d,y,w,T,v,b=r[8].price.importStr()+"",O,V,x,J=r[8].price.exportStr()+"",H,j,F=r[8].heading&&fi(r);const re=[Ou,Eu,ku],P=[];function ie(S,B){return B&12&&(d=null),S[8].price.import<0?0:(d==null&&(d=!!S[8].price.importCloseToLowestImport(S[3][S[8].price.fullReadableDate()])),d?1:S[8].price.import>S[0]?2:-1)}return~(y=ie(r,-1))&&(w=P[y]=re[y](r)),{c(){F&&F.c(),e=D(),t=k("div"),n=k("div"),i=U(s),l=D(),o=k("div"),u=U(a),c=D(),p=k("div"),w&&w.c(),T=D(),v=k("div"),O=U(b),V=D(),x=k("div"),H=U(J),this.h()},l(S){F&&F.l(S),e=N(S),t=E(S,"DIV",{class:!0});var B=C(t);n=E(B,"DIV",{class:!0});var I=C(n);i=R(I,s),I.forEach(g),l=N(B),o=E(B,"DIV",{class:!0});var ee=C(o);u=R(ee,a),ee.forEach(g),c=N(B),p=E(B,"DIV",{class:!0});var $=C(p);w&&w.l($),$.forEach(g),T=N(B),v=E(B,"DIV",{class:!0,style:!0});var te=C(v);O=R(te,b),te.forEach(g),V=N(B),x=E(B,"DIV",{class:!0,style:!0});var Z=C(x);H=R(Z,J),Z.forEach(g),B.forEach(g),this.h()},h(){_(n,"class","col-2 px-0 text-center"),_(o,"class","col-3 px-0 text-end"),_(p,"class","col-2 px-0 text-center"),_(v,"class","col-2 px-1 text-end"),se(v,"background-color",r[8].price.importColor(r[0])),se(v,"color","Black"),_(x,"class","col-2 px-1 text-end"),se(x,"background-color",r[8].price.exportColor(r[0])),se(x,"color","Black"),_(t,"class","row justify-content-center font-monospace")},m(S,B){F&&F.m(S,B),M(S,e,B),M(S,t,B),h(t,n),h(n,i),h(t,l),h(t,o),h(o,u),h(t,c),h(t,p),~y&&P[y].m(p,null),h(t,T),h(t,v),h(v,O),h(t,V),h(t,x),h(x,H),j=!0},p(S,B){S[8].heading?F?F.p(S,B):(F=fi(S),F.c(),F.m(e.parentNode,e)):F&&(F.d(1),F=null),(!j||B&4)&&s!==(s=S[8].price.readableTime()+"")&&be(i,s),(!j||B&4)&&a!==(a=S[8].price.diffStr()+"")&&be(u,a);let I=y;y=ie(S,B),y===I?~y&&P[y].p(S,B):(w&&(je(),Q(P[I],1,1,()=>{P[I]=null}),Ye()),~y?(w=P[y],w?w.p(S,B):(w=P[y]=re[y](S),w.c()),Y(w,1),w.m(p,null)):w=null),(!j||B&4)&&b!==(b=S[8].price.importStr()+"")&&be(O,b),(!j||B&5)&&se(v,"background-color",S[8].price.importColor(S[0])),(!j||B&4)&&J!==(J=S[8].price.exportStr()+"")&&be(H,J),(!j||B&5)&&se(x,"background-color",S[8].price.exportColor(S[0]))},i(S){j||(Y(w),j=!0)},o(S){Q(w),j=!1},d(S){S&&(g(e),g(t)),F&&F.d(S),~y&&P[y].d()}}}function Su(r){let e,t="Prices become available between 4-8pm";return{c(){e=k("small"),e.textContent=t},l(n){e=E(n,"SMALL",{"data-svelte-h":!0}),z(e)!=="svelte-1duq4a8"&&(e.textContent=t)},m(n,s){M(n,e,s)},i:G,o:G,d(n){n&&g(e)}}}function Iu(r){let e,t,n;return e=new Dn({}),{c(){fe(e.$$.fragment),t=U(" Checking for new prices...")},l(s){he(e.$$.fragment,s),t=R(s," Checking for new prices...")},m(s,i){de(e,s,i),M(s,t,i),n=!0},i(s){n||(Y(e.$$.fragment,s),n=!0)},o(s){Q(e.$$.fragment,s),n=!1},d(s){s&&g(t),me(e,s)}}}function Cu(r){let e,t,n,s;const i=[bu,wu,Tu],l=[];function o(a,u){return a[2].length?0:a[1]?1:2}return e=o(r),t=l[e]=i[e](r),{c(){t.c(),n=Te()},l(a){t.l(a),n=Te()},m(a,u){l[e].m(a,u),M(a,n,u),s=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(je(),Q(l[c],1,1,()=>{l[c]=null}),Ye(),t=l[e],t?t.p(a,u):(t=l[e]=i[e](a),t.c()),Y(t,1),t.m(n.parentNode,n))},i(a){s||(Y(t),s=!0)},o(a){Q(t),s=!1},d(a){a&&g(n),l[e].d(a)}}}function Mu(r,e,t){let{pricing:n=[]}=e,{priceCap:s}=e,{updating:i=!0}=e,l,o=[],a={},u={};const c=function(){let p=[],d="";if(Array.isArray(n))for(const T of n){const v=T.fullReadableDate();(!a.hasOwnProperty(v)||T.import<a[v])&&t(3,a[v]=T.import,a),(!u.hasOwnProperty(v)||T.export>u[v])&&(u[v]=T.export),(T.isNow()||T.isFuture())&&(p.push({price:T,heading:d!==v}),d=v)}t(2,o=p),t(3,a);const w=60-(q.now().toObject().second||0)+1;clearTimeout(l),l=setTimeout(function(){c()},w*1e3)};return nn(()=>{c()}),r.$$set=p=>{"pricing"in p&&t(4,n=p.pricing),"priceCap"in p&&t(0,s=p.priceCap),"updating"in p&&t(1,i=p.updating)},r.$$.update=()=>{r.$$.dirty&16&&c()},[s,i,o,a,n]}class Du extends Ne{constructor(e){super(),$e(this,e,Mu,Cu,De,{pricing:4,priceCap:0,updating:1})}}function Nu(r,e,t){const n=r.slice();return n[14]=e[t],n}function $u(r){let e,t=r[14].longName+"",n;return{c(){e=k("option"),n=U(t),this.h()},l(s){e=E(s,"OPTION",{});var i=C(e);n=R(i,t),i.forEach(g),this.h()},h(){e.__value=r[14].code,kt(e,e.__value)},m(s,i){M(s,e,i),h(e,n)},p:G,d(s){s&&g(e)}}}function di(r){let e,t,n,s='<i class="fa-solid fa-xmark"></i>',i,l,o="Lookup Your Region",a,u,c="Enter your postcode to find your region.",p,d,y,w,T,v,b,O="Postcode",V,x,J,H,j='<i class="fa-solid fa-magnifying-glass"></i>',F,re,P;const ie=[Fu,Vu,Lu,xu],S=[];function B(I,ee){return I[2]?0:I[6]&&I[7]===I[5]?1:I[4]?2:I[3]?3:-1}return~(d=B(r))&&(y=S[d]=ie[d](r)),{c(){e=k("div"),t=k("div"),n=k("button"),n.innerHTML=s,i=D(),l=k("p"),l.textContent=o,a=D(),u=k("p"),u.textContent=c,p=D(),y&&y.c(),w=D(),T=k("form"),v=k("div"),b=k("label"),b.textContent=O,V=D(),x=k("input"),J=D(),H=k("button"),H.innerHTML=j,this.h()},l(I){e=E(I,"DIV",{class:!0});var ee=C(e);t=E(ee,"DIV",{class:!0});var $=C(t);n=E($,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),z(n)!=="svelte-jcrv21"&&(n.innerHTML=s),i=N($),l=E($,"P",{class:!0,"data-svelte-h":!0}),z(l)!=="svelte-gy0eyy"&&(l.textContent=o),a=N($),u=E($,"P",{"data-svelte-h":!0}),z(u)!=="svelte-10q8pqj"&&(u.textContent=c),p=N($),y&&y.l($),w=N($),T=E($,"FORM",{});var te=C(T);v=E(te,"DIV",{class:!0});var Z=C(v);b=E(Z,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),z(b)!=="svelte-sopay9"&&(b.textContent=O),V=N(Z),x=E(Z,"INPUT",{type:!0,class:!0,maxlength:!0}),J=N(Z),H=E(Z,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),z(H)!=="svelte-112fiy3"&&(H.innerHTML=j),Z.forEach(g),te.forEach(g),$.forEach(g),ee.forEach(g),this.h()},h(){_(n,"type","button"),_(n,"class","btn btn-outline-secondary btn-sm float-end"),_(l,"class","card-title fw-bold"),_(b,"class","input-group-text"),_(b,"for","region-select"),_(x,"type","text"),_(x,"class","form-control"),_(x,"maxlength","10"),_(H,"class","btn btn-outline-secondary"),_(H,"type","submit"),_(v,"class","input-group"),_(t,"class","card-body"),_(e,"class","card mt-2")},m(I,ee){M(I,e,ee),h(e,t),h(t,n),h(t,i),h(t,l),h(t,a),h(t,u),h(t,p),~d&&S[d].m(t,null),h(t,w),h(t,T),h(T,v),h(v,b),h(v,V),h(v,x),kt(x,r[5]),h(v,J),h(v,H),F=!0,re||(P=[we(n,"click",r[11]),we(x,"input",r[12]),we(T,"submit",Jl(r[8]))],re=!0)},p(I,ee){let $=d;d=B(I),d===$?~d&&S[d].p(I,ee):(y&&(je(),Q(S[$],1,1,()=>{S[$]=null}),Ye()),~d?(y=S[d],y?y.p(I,ee):(y=S[d]=ie[d](I),y.c()),Y(y,1),y.m(t,w)):y=null),ee&32&&x.value!==I[5]&&kt(x,I[5])},i(I){F||(Y(y),F=!0)},o(I){Q(y),F=!1},d(I){I&&g(e),~d&&S[d].d(),re=!1,Wt(P)}}}function xu(r){let e,t='<i class="fa-regular fa-circle-question"></i> Could not find region for postcode. Please';return{c(){e=k("div"),e.innerHTML=t,this.h()},l(n){e=E(n,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),z(e)!=="svelte-9af9kz"&&(e.innerHTML=t),this.h()},h(){_(e,"class","alert alert-warning"),_(e,"role","alert")},m(n,s){M(n,e,s)},p:G,i:G,o:G,d(n){n&&g(e)}}}function Lu(r){let e,t='<i class="fa-solid fa-bug"></i> Something went wrong. Try again later.';return{c(){e=k("div"),e.innerHTML=t,this.h()},l(n){e=E(n,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),z(e)!=="svelte-jn2ry"&&(e.innerHTML=t),this.h()},h(){_(e,"class","alert alert-warning"),_(e,"role","alert")},m(n,s){M(n,e,s)},p:G,i:G,o:G,d(n){n&&g(e)}}}function Vu(r){let e,t,n,s,i=r[5].toUpperCase()+"",l,o,a,u=r[6].longName+"",c,p;return{c(){e=k("div"),t=k("i"),n=U(" The region for "),s=k("strong"),l=U(i),o=U(" is "),a=k("strong"),c=U(u),p=U("."),this.h()},l(d){e=E(d,"DIV",{class:!0,role:!0});var y=C(e);t=E(y,"I",{class:!0}),C(t).forEach(g),n=R(y," The region for "),s=E(y,"STRONG",{});var w=C(s);l=R(w,i),w.forEach(g),o=R(y," is "),a=E(y,"STRONG",{});var T=C(a);c=R(T,u),T.forEach(g),p=R(y,"."),y.forEach(g),this.h()},h(){_(t,"class","fa-solid fa-location-dot"),_(e,"class","alert alert-secondary"),_(e,"role","alert")},m(d,y){M(d,e,y),h(e,t),h(e,n),h(e,s),h(s,l),h(e,o),h(e,a),h(a,c),h(e,p)},p(d,y){y&32&&i!==(i=d[5].toUpperCase()+"")&&be(l,i),y&64&&u!==(u=d[6].longName+"")&&be(c,u)},i:G,o:G,d(d){d&&g(e)}}}function Fu(r){let e,t,n,s;return t=new Dn({}),{c(){e=k("div"),fe(t.$$.fragment),n=U(" Loading..."),this.h()},l(i){e=E(i,"DIV",{class:!0,role:!0});var l=C(e);he(t.$$.fragment,l),n=R(l," Loading..."),l.forEach(g),this.h()},h(){_(e,"class","alert alert-secondary"),_(e,"role","alert")},m(i,l){M(i,e,l),de(t,e,null),h(e,n),s=!0},p:G,i(i){s||(Y(t.$$.fragment,i),s=!0)},o(i){Q(t.$$.fragment,i),s=!1},d(i){i&&g(e),me(t)}}}function Au(r){let e,t,n="Region",s,i,l,o,a='<i class="fa-solid fa-circle-question"></i>',u,c,p,d,y,w=ue(Wl),T=[];for(let b=0;b<w.length;b+=1)T[b]=$u(Nu(r,w,b));let v=r[1]&&di(r);return{c(){e=k("div"),t=k("label"),t.textContent=n,s=D(),i=k("select");for(let b=0;b<T.length;b+=1)T[b].c();l=D(),o=k("button"),o.innerHTML=a,u=D(),v&&v.c(),c=Te(),this.h()},l(b){e=E(b,"DIV",{class:!0});var O=C(e);t=E(O,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),z(t)!=="svelte-1ob7mpe"&&(t.textContent=n),s=N(O),i=E(O,"SELECT",{class:!0,id:!0});var V=C(i);for(let x=0;x<T.length;x+=1)T[x].l(V);V.forEach(g),l=N(O),o=E(O,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),z(o)!=="svelte-sdeep8"&&(o.innerHTML=a),O.forEach(g),u=N(b),v&&v.l(b),c=Te(),this.h()},h(){_(t,"class","input-group-text"),_(t,"for","region-select"),_(i,"class","form-select"),_(i,"id","region-select"),r[0]===void 0&&Hr(()=>r[9].call(i)),_(o,"class","btn btn-outline-secondary"),_(o,"type","button"),_(e,"class","input-group")},m(b,O){M(b,e,O),h(e,t),h(e,s),h(e,i);for(let V=0;V<T.length;V+=1)T[V]&&T[V].m(i,null);Rt(i,r[0],!0),h(e,l),h(e,o),M(b,u,O),v&&v.m(b,O),M(b,c,O),p=!0,d||(y=[we(i,"change",r[9]),we(o,"click",r[10])],d=!0)},p(b,[O]){O&1&&Rt(i,b[0]),b[1]?v?(v.p(b,O),O&2&&Y(v,1)):(v=di(b),v.c(),Y(v,1),v.m(c.parentNode,c)):v&&(je(),Q(v,1,1,()=>{v=null}),Ye())},i(b){p||(Y(v),p=!0)},o(b){Q(v),p=!1},d(b){b&&(g(e),g(u),g(c)),Ee(T,b),v&&v.d(b),d=!1,Wt(y)}}}function Hu(r,e,t){let{region:n}=e,s=!1,i=!1,l=!1,o=!1,a="",u,c="";const p=function(){t(4,o=!1),t(3,l=!1)},d=async function(){if(!(a&&a.length<3&&a.length>20)){p();try{t(2,i=!0),t(7,c=a);const O=await(await fetch(`https://api.octopus.energy/v1/industry/grid-supply-points/?postcode=${c}`)).json();let V="";if(O&&O.results.length===1){V=O.results[0].group_id.replace(/[^a-z0-9]/gi,"");const x=zl(V);x&&(t(6,u=x),t(0,n=u.code))}V===""&&t(3,l=!0)}catch{t(4,o=!0)}t(2,i=!1)}};function y(){n=Pr(this),t(0,n)}const w=()=>{t(1,s=!s)},T=()=>{t(1,s=!1)};function v(){a=this.value,t(5,a)}return r.$$set=b=>{"region"in b&&t(0,n=b.region)},r.$$.update=()=>{r.$$.dirty&2&&p()},[n,s,i,l,o,a,u,c,d,y,w,T,v]}class Pu extends Ne{constructor(e){super(),$e(this,e,Hu,Au,De,{region:0})}}function mi(r,e,t){const n=r.slice();return n[6]=e[t],n}function pi(r){let e,t=r[6].name+"",n,s,i=r[6].code+"",l,o;return{c(){e=k("option"),n=U(t),s=U(" ("),l=U(i),o=U(")"),this.h()},l(a){e=E(a,"OPTION",{});var u=C(e);n=R(u,t),s=R(u," ("),l=R(u,i),o=R(u,")"),u.forEach(g),this.h()},h(){e.__value=r[6].code,kt(e,e.__value)},m(a,u){M(a,e,u),h(e,n),h(e,s),h(e,l),h(e,o)},p:G,d(a){a&&g(e)}}}function gi(r){let e,t,n,s='<i class="fa-solid fa-xmark"></i>',i,l,o="Your import tariff can be found on your bill.",a,u;return{c(){e=k("div"),t=k("div"),n=k("button"),n.innerHTML=s,i=D(),l=k("p"),l.textContent=o,this.h()},l(c){e=E(c,"DIV",{class:!0});var p=C(e);t=E(p,"DIV",{class:!0});var d=C(t);n=E(d,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),z(n)!=="svelte-1wc7e17"&&(n.innerHTML=s),i=N(d),l=E(d,"P",{"data-svelte-h":!0}),z(l)!=="svelte-16klwso"&&(l.textContent=o),d.forEach(g),p.forEach(g),this.h()},h(){_(n,"type","button"),_(n,"class","btn btn-outline-secondary btn-sm float-end"),_(t,"class","card-body"),_(e,"class","card mt-2")},m(c,p){M(c,e,p),h(e,t),h(t,n),h(t,i),h(t,l),a||(u=we(n,"click",r[5]),a=!0)},p:G,d(c){c&&g(e),a=!1,u()}}}function Uu(r){let e,t,n="Import",s,i,l,o,a='<i class="fa-solid fa-circle-question"></i>',u,c,p,d,y=ue(r[2]),w=[];for(let v=0;v<y.length;v+=1)w[v]=pi(mi(r,y,v));let T=r[1]&&gi(r);return{c(){e=k("div"),t=k("label"),t.textContent=n,s=D(),i=k("select");for(let v=0;v<w.length;v+=1)w[v].c();l=D(),o=k("button"),o.innerHTML=a,u=D(),T&&T.c(),c=Te(),this.h()},l(v){e=E(v,"DIV",{class:!0});var b=C(e);t=E(b,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),z(t)!=="svelte-ri61cp"&&(t.textContent=n),s=N(b),i=E(b,"SELECT",{class:!0,id:!0});var O=C(i);for(let V=0;V<w.length;V+=1)w[V].l(O);O.forEach(g),l=N(b),o=E(b,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),z(o)!=="svelte-3fby04"&&(o.innerHTML=a),b.forEach(g),u=N(v),T&&T.l(v),c=Te(),this.h()},h(){_(t,"class","input-group-text"),_(t,"for","import-tariff-select"),_(i,"class","form-select"),_(i,"id","import-tariff-selectt"),r[0]===void 0&&Hr(()=>r[3].call(i)),_(o,"class","btn btn-outline-secondary"),_(o,"type","button"),_(e,"class","input-group")},m(v,b){M(v,e,b),h(e,t),h(e,s),h(e,i);for(let O=0;O<w.length;O+=1)w[O]&&w[O].m(i,null);Rt(i,r[0],!0),h(e,l),h(e,o),M(v,u,b),T&&T.m(v,b),M(v,c,b),p||(d=[we(i,"change",r[3]),we(o,"click",r[4])],p=!0)},p(v,[b]){if(b&4){y=ue(v[2]);let O;for(O=0;O<y.length;O+=1){const V=mi(v,y,O);w[O]?w[O].p(V,b):(w[O]=pi(V),w[O].c(),w[O].m(i,null))}for(;O<w.length;O+=1)w[O].d(1);w.length=y.length}b&5&&Rt(i,v[0]),v[1]?T?T.p(v,b):(T=gi(v),T.c(),T.m(c.parentNode,c)):T&&(T.d(1),T=null)},i:G,o:G,d(v){v&&(g(e),g(u),g(c)),Ee(w,v),T&&T.d(v),p=!1,Wt(d)}}}function Ru(r,e,t){let{importTariff:n}=e,s=!1;const i=ql.filter(u=>u.isImport());function l(){n=Pr(this),t(0,n),t(2,i)}const o=()=>{t(1,s=!s)},a=()=>{t(1,s=!1)};return r.$$set=u=>{"importTariff"in u&&t(0,n=u.importTariff)},[n,s,i,l,o,a]}class Zu extends Ne{constructor(e){super(),$e(this,e,Ru,Uu,De,{importTariff:0})}}function yi(r,e,t){const n=r.slice();return n[6]=e[t],n}function vi(r){let e,t=r[6].name+"",n,s,i=r[6].code+"",l,o;return{c(){e=k("option"),n=U(t),s=U(" ("),l=U(i),o=U(")"),this.h()},l(a){e=E(a,"OPTION",{});var u=C(e);n=R(u,t),s=R(u," ("),l=R(u,i),o=R(u,")"),u.forEach(g),this.h()},h(){e.__value=r[6].code,kt(e,e.__value)},m(a,u){M(a,e,u),h(e,n),h(e,s),h(e,l),h(e,o)},p:G,d(a){a&&g(e)}}}function _i(r){let e,t,n,s='<i class="fa-solid fa-xmark"></i>',i,l,o="Your export tariff can be found on your bill.",a,u;return{c(){e=k("div"),t=k("div"),n=k("button"),n.innerHTML=s,i=D(),l=k("p"),l.textContent=o,this.h()},l(c){e=E(c,"DIV",{class:!0});var p=C(e);t=E(p,"DIV",{class:!0});var d=C(t);n=E(d,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),z(n)!=="svelte-1wc7e17"&&(n.innerHTML=s),i=N(d),l=E(d,"P",{"data-svelte-h":!0}),z(l)!=="svelte-1vrkgqb"&&(l.textContent=o),d.forEach(g),p.forEach(g),this.h()},h(){_(n,"type","button"),_(n,"class","btn btn-outline-secondary btn-sm float-end"),_(t,"class","card-body"),_(e,"class","card mt-2")},m(c,p){M(c,e,p),h(e,t),h(t,n),h(t,i),h(t,l),a||(u=we(n,"click",r[5]),a=!0)},p:G,d(c){c&&g(e),a=!1,u()}}}function Wu(r){let e,t,n="Export",s,i,l,o,a='<i class="fa-solid fa-circle-question"></i>',u,c,p,d,y=ue(r[2]),w=[];for(let v=0;v<y.length;v+=1)w[v]=vi(yi(r,y,v));let T=r[1]&&_i(r);return{c(){e=k("div"),t=k("label"),t.textContent=n,s=D(),i=k("select");for(let v=0;v<w.length;v+=1)w[v].c();l=D(),o=k("button"),o.innerHTML=a,u=D(),T&&T.c(),c=Te(),this.h()},l(v){e=E(v,"DIV",{class:!0});var b=C(e);t=E(b,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),z(t)!=="svelte-1at1d45"&&(t.textContent=n),s=N(b),i=E(b,"SELECT",{class:!0,id:!0});var O=C(i);for(let V=0;V<w.length;V+=1)w[V].l(O);O.forEach(g),l=N(b),o=E(b,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),z(o)!=="svelte-3fby04"&&(o.innerHTML=a),b.forEach(g),u=N(v),T&&T.l(v),c=Te(),this.h()},h(){_(t,"class","input-group-text"),_(t,"for","export-tariff-select"),_(i,"class","form-select"),_(i,"id","export-tariff-select"),r[0]===void 0&&Hr(()=>r[3].call(i)),_(o,"class","btn btn-outline-secondary"),_(o,"type","button"),_(e,"class","input-group")},m(v,b){M(v,e,b),h(e,t),h(e,s),h(e,i);for(let O=0;O<w.length;O+=1)w[O]&&w[O].m(i,null);Rt(i,r[0],!0),h(e,l),h(e,o),M(v,u,b),T&&T.m(v,b),M(v,c,b),p||(d=[we(i,"change",r[3]),we(o,"click",r[4])],p=!0)},p(v,[b]){if(b&4){y=ue(v[2]);let O;for(O=0;O<y.length;O+=1){const V=yi(v,y,O);w[O]?w[O].p(V,b):(w[O]=vi(V),w[O].c(),w[O].m(i,null))}for(;O<w.length;O+=1)w[O].d(1);w.length=y.length}b&5&&Rt(i,v[0]),v[1]?T?T.p(v,b):(T=_i(v),T.c(),T.m(c.parentNode,c)):T&&(T.d(1),T=null)},i:G,o:G,d(v){v&&(g(e),g(u),g(c)),Ee(w,v),T&&T.d(v),p=!1,Wt(d)}}}function zu(r,e,t){let{exportTariff:n}=e,s=!1;const i=ql.filter(u=>u.isExport());function l(){n=Pr(this),t(0,n),t(2,i)}const o=()=>{t(1,s=!s)},a=()=>{t(1,s=!1)};return r.$$set=u=>{"exportTariff"in u&&t(0,n=u.exportTariff)},[n,s,i,l,o,a]}class qu extends Ne{constructor(e){super(),$e(this,e,zu,Wu,De,{exportTariff:0})}}function Ti(r,e,t){const n=r.slice();return n[14]=e[t],n}function wi(r,e,t){const n=r.slice();n[17]=e[t];const s=n[6][n[8](n[17],n[14])];return n[18]=s,n}function bi(r,e,t){const n=r.slice();n[17]=e[t];const s=n[4][`${n[17]}`];return n[18]=s,n}function ki(r,e,t){const n=r.slice();n[17]=e[t];const s=n[3][`${n[17]}`];return n[18]=s,n}function Ei(r,e,t){const n=r.slice();n[17]=e[t];const s=n[5][`${n[17]}`];return n[18]=s,n}function Oi(r,e,t){const n=r.slice();return n[17]=e[t],n}function Gu(r){let e,t,n;return e=new Br({}),{c(){fe(e.$$.fragment),t=U(" Waiting on data...")},l(s){he(e.$$.fragment,s),t=R(s," Waiting on data...")},m(s,i){de(e,s,i),M(s,t,i),n=!0},p:G,i(s){n||(Y(e.$$.fragment,s),n=!0)},o(s){Q(e.$$.fragment,s),n=!1},d(s){s&&g(t),me(e,s)}}}function Bu(r){let e,t;return e=new Gr({}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p:G,i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function ju(r){let e,t,n=" ",s,i,l,o,a="<small>Low</small>",u,c,p,d,y="<small>Avg</small>",w,T,v,b,O="<small>High</small>",V,x,J,H="Average Half-Hourly Pricing",j,F,re=ue(r[7]),P=[];for(let f=0;f<re.length;f+=1)P[f]=Si(Oi(r,re,f));let ie=ue(r[7]),S=[];for(let f=0;f<ie.length;f+=1)S[f]=Ii(Ei(r,ie,f));let B=ue(r[7]),I=[];for(let f=0;f<B.length;f+=1)I[f]=Ci(ki(r,B,f));let ee=ue(r[7]),$=[];for(let f=0;f<ee.length;f+=1)$[f]=Mi(bi(r,ee,f));let te=ue(r[2]),Z=[];for(let f=0;f<te.length;f+=1)Z[f]=Ni(Ti(r,te,f));return{c(){e=k("div"),t=k("div"),t.textContent=n,s=D();for(let f=0;f<P.length;f+=1)P[f].c();i=D(),l=k("div"),o=k("div"),o.innerHTML=a,u=D();for(let f=0;f<S.length;f+=1)S[f].c();c=D(),p=k("div"),d=k("div"),d.innerHTML=y,w=D();for(let f=0;f<I.length;f+=1)I[f].c();T=D(),v=k("div"),b=k("div"),b.innerHTML=O,V=D();for(let f=0;f<$.length;f+=1)$[f].c();x=D(),J=k("h3"),J.textContent=H,j=D();for(let f=0;f<Z.length;f+=1)Z[f].c();F=Te(),this.h()},l(f){e=E(f,"DIV",{class:!0});var A=C(e);t=E(A,"DIV",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-1uln4ml"&&(t.textContent=n),s=N(A);for(let X=0;X<P.length;X+=1)P[X].l(A);A.forEach(g),i=N(f),l=E(f,"DIV",{class:!0});var m=C(l);o=E(m,"DIV",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-1erojqh"&&(o.innerHTML=a),u=N(m);for(let X=0;X<S.length;X+=1)S[X].l(m);m.forEach(g),c=N(f),p=E(f,"DIV",{class:!0});var K=C(p);d=E(K,"DIV",{class:!0,"data-svelte-h":!0}),z(d)!=="svelte-r4dfpf"&&(d.innerHTML=y),w=N(K);for(let X=0;X<I.length;X+=1)I[X].l(K);K.forEach(g),T=N(f),v=E(f,"DIV",{class:!0});var ke=C(v);b=E(ke,"DIV",{class:!0,"data-svelte-h":!0}),z(b)!=="svelte-e7vzyp"&&(b.innerHTML=O),V=N(ke);for(let X=0;X<$.length;X+=1)$[X].l(ke);ke.forEach(g),x=N(f),J=E(f,"H3",{class:!0,"data-svelte-h":!0}),z(J)!=="svelte-149efrg"&&(J.textContent=H),j=N(f);for(let X=0;X<Z.length;X+=1)Z[X].l(f);F=Te(),this.h()},h(){_(t,"class","col p-0 pe-1"),_(e,"class","row justify-content-center font-monospace text-end"),_(o,"class","col p-0 pe-1 text-center"),_(l,"class","row justify-content-center font-monospace text-end"),_(d,"class","col p-0 pe-1 text-center"),_(p,"class","row justify-content-center font-monospace text-end"),_(b,"class","col p-0 pe-1 text-center"),_(v,"class","row justify-content-center font-monospace text-end mb-2"),_(J,"class","h6 text-center")},m(f,A){M(f,e,A),h(e,t),h(e,s);for(let m=0;m<P.length;m+=1)P[m]&&P[m].m(e,null);M(f,i,A),M(f,l,A),h(l,o),h(l,u);for(let m=0;m<S.length;m+=1)S[m]&&S[m].m(l,null);M(f,c,A),M(f,p,A),h(p,d),h(p,w);for(let m=0;m<I.length;m+=1)I[m]&&I[m].m(p,null);M(f,T,A),M(f,v,A),h(v,b),h(v,V);for(let m=0;m<$.length;m+=1)$[m]&&$[m].m(v,null);M(f,x,A),M(f,J,A),M(f,j,A);for(let m=0;m<Z.length;m+=1)Z[m]&&Z[m].m(f,A);M(f,F,A)},p(f,A){if(A&128){re=ue(f[7]);let m;for(m=0;m<re.length;m+=1){const K=Oi(f,re,m);P[m]?P[m].p(K,A):(P[m]=Si(K),P[m].c(),P[m].m(e,null))}for(;m<P.length;m+=1)P[m].d(1);P.length=re.length}if(A&161){ie=ue(f[7]);let m;for(m=0;m<ie.length;m+=1){const K=Ei(f,ie,m);S[m]?S[m].p(K,A):(S[m]=Ii(K),S[m].c(),S[m].m(l,null))}for(;m<S.length;m+=1)S[m].d(1);S.length=ie.length}if(A&137){B=ue(f[7]);let m;for(m=0;m<B.length;m+=1){const K=ki(f,B,m);I[m]?I[m].p(K,A):(I[m]=Ci(K),I[m].c(),I[m].m(p,null))}for(;m<I.length;m+=1)I[m].d(1);I.length=B.length}if(A&145){ee=ue(f[7]);let m;for(m=0;m<ee.length;m+=1){const K=bi(f,ee,m);$[m]?$[m].p(K,A):($[m]=Mi(K),$[m].c(),$[m].m(v,null))}for(;m<$.length;m+=1)$[m].d(1);$.length=ee.length}if(A&453){te=ue(f[2]);let m;for(m=0;m<te.length;m+=1){const K=Ti(f,te,m);Z[m]?Z[m].p(K,A):(Z[m]=Ni(K),Z[m].c(),Z[m].m(F.parentNode,F))}for(;m<Z.length;m+=1)Z[m].d(1);Z.length=te.length}},i:G,o:G,d(f){f&&(g(e),g(i),g(l),g(c),g(p),g(T),g(v),g(x),g(J),g(j),g(F)),Ee(P,f),Ee(S,f),Ee(I,f),Ee($,f),Ee(Z,f)}}}function Si(r){let e,t=r[17]+"",n;return{c(){e=k("div"),n=U(t),this.h()},l(s){e=E(s,"DIV",{class:!0});var i=C(e);n=R(i,t),i.forEach(g),this.h()},h(){_(e,"class","col p-0 pe-1")},m(s,i){M(s,e,i),h(e,n)},p:G,d(s){s&&g(e)}}}function Ii(r){let e,t=Se(r[18])+"",n,s;return{c(){e=k("div"),n=U(t),s=U(`p
            `),this.h()},l(i){e=E(i,"DIV",{class:!0,style:!0});var l=C(e);n=R(l,t),s=R(l,`p
            `),l.forEach(g),this.h()},h(){_(e,"class","col p-0 pe-1"),se(e,"background-color",Ce(r[18],r[0])),se(e,"color","Black")},m(i,l){M(i,e,l),h(e,n),h(e,s)},p(i,l){l&32&&t!==(t=Se(i[18])+"")&&be(n,t),l&33&&se(e,"background-color",Ce(i[18],i[0]))},d(i){i&&g(e)}}}function Ci(r){let e,t=Se(r[18])+"",n,s;return{c(){e=k("div"),n=U(t),s=U(`p
            `),this.h()},l(i){e=E(i,"DIV",{class:!0,style:!0});var l=C(e);n=R(l,t),s=R(l,`p
            `),l.forEach(g),this.h()},h(){_(e,"class","col p-0 pe-1"),se(e,"background-color",Ce(r[18],r[0])),se(e,"color","Black")},m(i,l){M(i,e,l),h(e,n),h(e,s)},p(i,l){l&8&&t!==(t=Se(i[18])+"")&&be(n,t),l&9&&se(e,"background-color",Ce(i[18],i[0]))},d(i){i&&g(e)}}}function Mi(r){let e,t=Se(r[18])+"",n,s;return{c(){e=k("div"),n=U(t),s=U(`p
            `),this.h()},l(i){e=E(i,"DIV",{class:!0,style:!0});var l=C(e);n=R(l,t),s=R(l,`p
            `),l.forEach(g),this.h()},h(){_(e,"class","col p-0 pe-1"),se(e,"background-color",Ce(r[18],r[0])),se(e,"color","Black")},m(i,l){M(i,e,l),h(e,n),h(e,s)},p(i,l){l&16&&t!==(t=Se(i[18])+"")&&be(n,t),l&17&&se(e,"background-color",Ce(i[18],i[0]))},d(i){i&&g(e)}}}function Yu(r){let e,t=" ";return{c(){e=k("div"),e.textContent=t,this.h()},l(n){e=E(n,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1uln4ml"&&(e.textContent=t),this.h()},h(){_(e,"class","col p-0 pe-1")},m(n,s){M(n,e,s)},p:G,d(n){n&&g(e)}}}function Ju(r){let e,t=Se(r[18])+"",n,s;return{c(){e=k("div"),n=U(t),s=U("p"),this.h()},l(i){e=E(i,"DIV",{class:!0,style:!0});var l=C(e);n=R(l,t),s=R(l,"p"),l.forEach(g),this.h()},h(){_(e,"class","col p-0 pe-1"),se(e,"background-color",Ce(r[18],r[0])),se(e,"color","Black")},m(i,l){M(i,e,l),h(e,n),h(e,s)},p(i,l){l&68&&t!==(t=Se(i[18])+"")&&be(n,t),l&69&&se(e,"background-color",Ce(i[18],i[0]))},d(i){i&&g(e)}}}function Di(r){let e;function t(i,l){return i[18]?Ju:Yu}let n=t(r),s=n(r);return{c(){s.c(),e=Te()},l(i){s.l(i),e=Te()},m(i,l){s.m(i,l),M(i,e,l)},p(i,l){n===(n=t(i))&&s?s.p(i,l):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&g(e),s.d(i)}}}function Ni(r){let e,t,n,s=r[14]+"",i,l,o,a=ue(r[7]),u=[];for(let c=0;c<a.length;c+=1)u[c]=Di(wi(r,a,c));return{c(){e=k("div"),t=k("div"),n=k("small"),i=U(s),l=D();for(let c=0;c<u.length;c+=1)u[c].c();o=D(),this.h()},l(c){e=E(c,"DIV",{class:!0});var p=C(e);t=E(p,"DIV",{class:!0});var d=C(t);n=E(d,"SMALL",{});var y=C(n);i=R(y,s),y.forEach(g),d.forEach(g),l=N(p);for(let w=0;w<u.length;w+=1)u[w].l(p);o=N(p),p.forEach(g),this.h()},h(){_(t,"class","col p-0 pe-1 text-center"),_(e,"class","row justify-content-center font-monospace text-end")},m(c,p){M(c,e,p),h(e,t),h(t,n),h(n,i),h(e,l);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(e,null);h(e,o)},p(c,p){if(p&4&&s!==(s=c[14]+"")&&be(i,s),p&453){a=ue(c[7]);let d;for(d=0;d<a.length;d+=1){const y=wi(c,a,d);u[d]?u[d].p(y,p):(u[d]=Di(y),u[d].c(),u[d].m(e,o))}for(;d<u.length;d+=1)u[d].d(1);u.length=a.length}},d(c){c&&g(e),Ee(u,c)}}}function Qu(r){let e,t,n,s,i;const l=[ju,Bu,Gu],o=[];function a(u,c){return c&68&&(e=null),e==null&&(e=!!(Object.keys(u[6]).length&&u[2].length&&u[7].length)),e?0:u[1]?1:2}return t=a(r,-1),n=o[t]=l[t](r),{c(){n.c(),s=Te()},l(u){n.l(u),s=Te()},m(u,c){o[t].m(u,c),M(u,s,c),i=!0},p(u,[c]){let p=t;t=a(u,c),t===p?o[t].p(u,c):(je(),Q(o[p],1,1,()=>{o[p]=null}),Ye(),n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),Y(n,1),n.m(s.parentNode,s))},i(u){i||(Y(n),i=!0)},o(u){Q(n),i=!1},d(u){u&&g(s),o[t].d(u)}}}function Ku(r,e,t){let{pricing:n=[]}=e,{priceCap:s}=e,{updating:i=!1}=e,l=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],o=[];for(const b of[...Array(24).keys()]){const O=`${b.toString().padStart(2,"0")}`;o.push(`${O}:00`),o.push(`${O}:30`)}o=o;let a={},u={},c={},p={},d={},y={},w={};const T=(b,O)=>`${b}-${O}`,v=function(){for(const b of n){const O=T(b.validFrom.toFormat("ccc"),b.validFrom.toFormat("HH:mm"));Array.isArray(a[O])||(a[O]=[]),a[O].push(b)}for(const b of l){c[`${b}`]=0,p[`${b}`]=0,t(4,d[`${b}`]=-1/0,d),t(5,y[`${b}`]=1/0,y);let O={},V={},x={};for(const J of o){const H=T(b,J);O[H]=0,V[H]=-1/0,x[H]=1/0;const j=a[H];for(const F of j)O[H]+=F.import,V[H]=V[H]<F.import?F.import:V[H],x[H]=x[H]>F.import?F.import:x[H];t(6,w[H]=O[H]/j.length,w),c[`${b}`]+=O[H],p[`${b}`]+=j.length,t(4,d[`${b}`]=d[`${b}`]<V[H]?V[H]:d[`${b}`],d),t(5,y[`${b}`]=y[`${b}`]>x[H]?x[H]:y[`${b}`],y)}t(3,u[`${b}`]=c[`${b}`]/p[`${b}`],u)}t(6,w)};return nn(()=>{v()}),r.$$set=b=>{"pricing"in b&&t(9,n=b.pricing),"priceCap"in b&&t(0,s=b.priceCap),"updating"in b&&t(1,i=b.updating)},r.$$.update=()=>{r.$$.dirty&512&&v()},[s,i,o,u,d,y,w,l,T,n]}class Xu extends Ne{constructor(e){super(),$e(this,e,Ku,Qu,De,{pricing:9,priceCap:0,updating:1})}}function $i(r){let e,t,n,s='<i class="fa-solid fa-gear"></i> Settings',i,l,o,a,u,c,p,d,y,w,T,v,b,O,V,x='<i class="fa-solid fa-xmark"></i> Close',J,H,j;function F(I){r[10](I)}let re={};r[0]!==void 0&&(re.region=r[0]),o=new Pu({props:re}),vn.push(()=>Tn(o,"region",F));function P(I){r[11](I)}let ie={};r[1]!==void 0&&(ie.importTariff=r[1]),p=new Zu({props:ie}),vn.push(()=>Tn(p,"importTariff",P));function S(I){r[12](I)}let B={};return r[2]!==void 0&&(B.exportTariff=r[2]),T=new qu({props:B}),vn.push(()=>Tn(T,"exportTariff",S)),{c(){e=k("div"),t=k("div"),n=k("div"),n.innerHTML=s,i=D(),l=k("div"),fe(o.$$.fragment),u=D(),c=k("div"),fe(p.$$.fragment),y=D(),w=k("div"),fe(T.$$.fragment),b=D(),O=k("div"),V=k("button"),V.innerHTML=x,this.h()},l(I){e=E(I,"DIV",{id:!0,class:!0});var ee=C(e);t=E(ee,"DIV",{class:!0,role:!0});var $=C(t);n=E($,"DIV",{class:!0,"data-svelte-h":!0}),z(n)!=="svelte-1lxkrhx"&&(n.innerHTML=s),i=N($),l=E($,"DIV",{class:!0});var te=C(l);he(o.$$.fragment,te),te.forEach(g),u=N($),c=E($,"DIV",{class:!0});var Z=C(c);he(p.$$.fragment,Z),Z.forEach(g),y=N($),w=E($,"DIV",{class:!0});var f=C(w);he(T.$$.fragment,f),f.forEach(g),b=N($),O=E($,"DIV",{class:!0});var A=C(O);V=E(A,"BUTTON",{class:!0,"data-svelte-h":!0}),z(V)!=="svelte-o2n97e"&&(V.innerHTML=x),A.forEach(g),$.forEach(g),ee.forEach(g),this.h()},h(){_(n,"class","display-1 fs-5 m-0 mb-3 text-light text-center"),_(l,"class","pb-2"),_(c,"class","pb-2"),_(w,"class","pb-2"),_(V,"class","btn btn-outline-light btn-sm"),_(O,"class","pb-0 text-center"),_(t,"class","alert alert-secondary m-0"),_(t,"role","alert"),_(e,"id","settings"),_(e,"class","container mb-4 py-2 mx-auto")},m(I,ee){M(I,e,ee),h(e,t),h(t,n),h(t,i),h(t,l),de(o,l,null),h(t,u),h(t,c),de(p,c,null),h(t,y),h(t,w),de(T,w,null),h(t,b),h(t,O),h(O,V),J=!0,H||(j=we(V,"click",r[13]),H=!0)},p(I,ee){const $={};!a&&ee&1&&(a=!0,$.region=I[0],_n(()=>a=!1)),o.$set($);const te={};!d&&ee&2&&(d=!0,te.importTariff=I[1],_n(()=>d=!1)),p.$set(te);const Z={};!v&&ee&4&&(v=!0,Z.exportTariff=I[2],_n(()=>v=!1)),T.$set(Z)},i(I){J||(Y(o.$$.fragment,I),Y(p.$$.fragment,I),Y(T.$$.fragment,I),J=!0)},o(I){Q(o.$$.fragment,I),Q(p.$$.fragment,I),Q(T.$$.fragment,I),J=!1},d(I){I&&g(e),me(o),me(p),me(T),H=!1,j()}}}function ec(r){let e,t;return e=new Du({props:{pricing:r[4][r[0]],priceCap:r[3],updating:r[5]}}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p(n,s){const i={};s&17&&(i.pricing=n[4][n[0]]),s&8&&(i.priceCap=n[3]),s&32&&(i.updating=n[5]),e.$set(i)},i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function tc(r){let e,t;return e=new Xu({props:{pricing:r[4][r[0]],priceCap:r[3],updating:r[5]}}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p(n,s){const i={};s&17&&(i.pricing=n[4][n[0]]),s&8&&(i.priceCap=n[3]),s&32&&(i.updating=n[5]),e.$set(i)},i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function nc(r){let e,t;return e=new fu({props:{pricing:r[4][r[0]],priceCap:r[3],updating:r[5]}}),{c(){fe(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,s){de(e,n,s),t=!0},p(n,s){const i={};s&17&&(i.pricing=n[4][n[0]]),s&8&&(i.priceCap=n[3]),s&32&&(i.updating=n[5]),e.$set(i)},i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){Q(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function rc(r){let e,t,n,s,i='Quickly see the live, upcoming and average electricity prices for Octopus Energy&#39;s <a href="#about">Agile Octopus</a> tariff.',l,o,a,u="Learn more",c,p,d='<i class="fa-solid fa-gear"></i> Settings',y,w,T,v,b,O,V,x,J,H,j,F,re,P,ie,S,B,I,ee,$,te,Z,f,A,m,K,ke,X=`With <a href="${_r}" target="_blank">Agile Octopus</a>, you get access to half-hourly energy prices, tied to wholesale prices and updated daily. So when wholesale electricity prices drop, so do your bills - and if you can shift your daily electricity use outside of peak times, you can save even more.`,An,Ot,jr=`<a href="${_r}" target="_blank">Agile Octopus</a> includes Plunge Pricing that lets you take advantage of these negative price events, and get paid for the electricity you use!`,Hn,ct,Pn,Un,St,Yr=`Switch to <a href="${_r}" target="_blank">Octopus Energy</a> and get £50 free credit!`,Rn,It,Jr='After the switch has completed, visit <a href="https://octopus.energy/smart/agile/" target="_blank">Agile Octopus</a> to sign up.',Zn,ft,Wn,Ct,zn,qn,ht,Qr='<i class="fa-regular fa-clock"></i> Weekends are cheaper than weekdays, usually.',Gn,Mt,Kr="On a day-to-day basis, around <u>12am to 5am</u> is usually cheapest with early afternoon around <u>12pm to 3pm</u> often having a price drop too.",Bn,Xe,Xr='<i class="fa-solid fa-wind"></i> Wind power is the UK&#39;s largest source of renewable energy!',jn,Dt,es="If it&#39;s going to be windy prices <em>should</em> drop.",Yn,et,ts='<i class="fa-regular fa-sun"></i> When the sunshines, prices fall!',Jn,Nt,ns="The UK has less solar than wind but on sunny days, between 11am and 3pm, it can make a big difference.",Qn,tt,dt,Kn,Xn,$t,rs=`Given the right time and conditions we get <em>plunge pricing</em>.
        That means you get paid to use electricity!
        So put the washing on, tumble dry your clothes, turn the dishwasher on, turn on an electric heater, ... and get paid!`,er,nt,mt,tr,nr,xt,ss=`Prices tend to peak between <u>4pm and 7pm</u> every day, with a morning spike between <u>6:30am and 9am</u>.
        However, electricity prices can fluctuate for many reasons.
        Anything from changes in global natural gas prices, power plant maintenance, weather conditions, and many more... so keep an eye on prices.`,rr,pt,an,Ue,Lt,sr,ir,xe,lr,Vt,or,ar,ur,rt,is="Ofgem",cr,gt,ls="Agile prices can go above the price cap!",fr,yt,hr,dr,Je,mr,vt,pr,os,ye=r[7]===tn&&$i(r);const as=[nc,tc,ec],st=[];function us(W,pe){return W[6]===En?0:W[6]===On?1:2}$=us(r),te=st[$]=as[$](r),ft=new ws({}),dt=new Gl({}),mt=new Lr({}),pt=new ws({}),yt=new Lr({});function Bl(W){r[17](W)}let cs={defaultPriceCap:kn};return r[3]!==void 0&&(cs.priceCap=r[3]),Je=new Xa({props:cs}),vn.push(()=>Tn(Je,"priceCap",Bl)),{c(){e=k("meta"),t=D(),n=k("div"),s=k("p"),s.innerHTML=i,l=D(),o=k("p"),a=k("a"),a.textContent=u,c=D(),p=k("button"),p.innerHTML=d,y=D(),ye&&ye.c(),w=D(),T=k("div"),v=k("ul"),b=k("li"),O=k("a"),V=U("Live Pricing"),J=D(),H=k("li"),j=k("a"),F=U("Last 7 Days"),P=D(),ie=k("li"),S=k("a"),B=U("4 Weeks"),ee=D(),te.c(),Z=D(),f=k("div"),A=k("h2"),m=U("What Is Agile Octopus?"),K=D(),ke=k("p"),ke.innerHTML=X,An=D(),Ot=k("p"),Ot.innerHTML=jr,Hn=D(),ct=k("h2"),Pn=U("How To Get Agile Octopus?"),Un=D(),St=k("p"),St.innerHTML=Yr,Rn=D(),It=k("p"),It.innerHTML=Jr,Zn=D(),fe(ft.$$.fragment),Wn=D(),Ct=k("h2"),zn=U("Cheapest Electricity and Plunge Pricing!"),qn=D(),ht=k("h3"),ht.innerHTML=Qr,Gn=D(),Mt=k("p"),Mt.innerHTML=Kr,Bn=D(),Xe=k("h3"),Xe.innerHTML=Xr,jn=D(),Dt=k("p"),Dt.innerHTML=es,Yn=D(),et=k("h3"),et.innerHTML=ts,Jn=D(),Nt=k("p"),Nt.textContent=ns,Qn=D(),tt=k("h3"),fe(dt.$$.fragment),Kn=U(" Plunge Pricing!"),Xn=D(),$t=k("p"),$t.innerHTML=rs,er=D(),nt=k("h3"),fe(mt.$$.fragment),tr=U(" Beware of Higher Prices!"),nr=D(),xt=k("p"),xt.innerHTML=ss,rr=D(),fe(pt.$$.fragment),an=D(),Ue=k("div"),Lt=k("h2"),sr=U("The Energy Price Cap"),ir=D(),xe=k("p"),lr=U("The "),Vt=k("u"),or=U(kn),ar=U("p"),ur=U(" electricity price cap is set by "),rt=k("a"),rt.textContent=is,cr=U(`.
        `),gt=k("span"),gt.textContent=ls,fr=U(`
        When this happens, you'll see an `),fe(yt.$$.fragment),hr=U(` exclamation icon.
        You can modify the cap below.`),dr=D(),fe(Je.$$.fragment),this.h()},l(W){const pe=Ql("svelte-ydjpiz",document.head);e=E(pe,"META",{name:!0,content:!0}),pe.forEach(g),t=N(W),n=E(W,"DIV",{class:!0});var it=C(n);s=E(it,"P",{class:!0,"data-svelte-h":!0}),z(s)!=="svelte-o1vy56"&&(s.innerHTML=i),l=N(it),o=E(it,"P",{class:!0});var _t=C(o);a=E(_t,"A",{href:!0,class:!0,"data-svelte-h":!0}),z(a)!=="svelte-1og6bbh"&&(a.textContent=u),c=N(_t),p=E(_t,"BUTTON",{class:!0,"data-svelte-h":!0}),z(p)!=="svelte-rbhej0"&&(p.innerHTML=d),_t.forEach(g),it.forEach(g),y=N(W),ye&&ye.l(W),w=N(W),T=E(W,"DIV",{id:!0,class:!0});var un=C(T);v=E(un,"UL",{class:!0});var Ft=C(v);b=E(Ft,"LI",{class:!0});var fs=C(b);O=E(fs,"A",{href:!0,class:!0});var hs=C(O);V=R(hs,"Live Pricing"),hs.forEach(g),fs.forEach(g),J=N(Ft),H=E(Ft,"LI",{class:!0});var ds=C(H);j=E(ds,"A",{href:!0,class:!0});var ms=C(j);F=R(ms,"Last 7 Days"),ms.forEach(g),ds.forEach(g),P=N(Ft),ie=E(Ft,"LI",{class:!0});var ps=C(ie);S=E(ps,"A",{href:!0,class:!0});var gs=C(S);B=R(gs,"4 Weeks"),gs.forEach(g),ps.forEach(g),Ft.forEach(g),ee=N(un),te.l(un),un.forEach(g),Z=N(W),f=E(W,"DIV",{class:!0});var ne=C(f);A=E(ne,"H2",{id:!0,class:!0});var ys=C(A);m=R(ys,"What Is Agile Octopus?"),ys.forEach(g),K=N(ne),ke=E(ne,"P",{"data-svelte-h":!0}),z(ke)!=="svelte-rlup0s"&&(ke.innerHTML=X),An=N(ne),Ot=E(ne,"P",{"data-svelte-h":!0}),z(Ot)!=="svelte-9qyioz"&&(Ot.innerHTML=jr),Hn=N(ne),ct=E(ne,"H2",{id:!0,class:!0});var vs=C(ct);Pn=R(vs,"How To Get Agile Octopus?"),vs.forEach(g),Un=N(ne),St=E(ne,"P",{"data-svelte-h":!0}),z(St)!=="svelte-v0qnxn"&&(St.innerHTML=Yr),Rn=N(ne),It=E(ne,"P",{"data-svelte-h":!0}),z(It)!=="svelte-10bcyg5"&&(It.innerHTML=Jr),Zn=N(ne),he(ft.$$.fragment,ne),Wn=N(ne),Ct=E(ne,"H2",{class:!0});var _s=C(Ct);zn=R(_s,"Cheapest Electricity and Plunge Pricing!"),_s.forEach(g),qn=N(ne),ht=E(ne,"H3",{class:!0,"data-svelte-h":!0}),z(ht)!=="svelte-rfquwg"&&(ht.innerHTML=Qr),Gn=N(ne),Mt=E(ne,"P",{"data-svelte-h":!0}),z(Mt)!=="svelte-1x17ws8"&&(Mt.innerHTML=Kr),Bn=N(ne),Xe=E(ne,"H3",{class:!0,style:!0,"data-svelte-h":!0}),z(Xe)!=="svelte-1v6zh1y"&&(Xe.innerHTML=Xr),jn=N(ne),Dt=E(ne,"P",{"data-svelte-h":!0}),z(Dt)!=="svelte-gzua6s"&&(Dt.innerHTML=es),Yn=N(ne),et=E(ne,"H3",{class:!0,style:!0,"data-svelte-h":!0}),z(et)!=="svelte-1suwylv"&&(et.innerHTML=ts),Jn=N(ne),Nt=E(ne,"P",{"data-svelte-h":!0}),z(Nt)!=="svelte-lr2upy"&&(Nt.textContent=ns),Qn=N(ne),tt=E(ne,"H3",{class:!0,style:!0});var gr=C(tt);he(dt.$$.fragment,gr),Kn=R(gr," Plunge Pricing!"),gr.forEach(g),Xn=N(ne),$t=E(ne,"P",{"data-svelte-h":!0}),z($t)!=="svelte-1knce9j"&&($t.innerHTML=rs),er=N(ne),nt=E(ne,"H3",{class:!0,style:!0});var yr=C(nt);he(mt.$$.fragment,yr),tr=R(yr," Beware of Higher Prices!"),yr.forEach(g),nr=N(ne),xt=E(ne,"P",{"data-svelte-h":!0}),z(xt)!=="svelte-11et2fm"&&(xt.innerHTML=ss),rr=N(ne),he(pt.$$.fragment,ne),ne.forEach(g),an=N(W),Ue=E(W,"DIV",{class:!0});var At=C(Ue);Lt=E(At,"H2",{class:!0});var Ts=C(Lt);sr=R(Ts,"The Energy Price Cap"),Ts.forEach(g),ir=N(At),xe=E(At,"P",{});var Ge=C(xe);lr=R(Ge,"The "),Vt=E(Ge,"U",{});var vr=C(Vt);or=R(vr,kn),ar=R(vr,"p"),vr.forEach(g),ur=R(Ge," electricity price cap is set by "),rt=E(Ge,"A",{href:!0,target:!0,"data-svelte-h":!0}),z(rt)!=="svelte-15hsjjj"&&(rt.textContent=is),cr=R(Ge,`.
        `),gt=E(Ge,"SPAN",{class:!0,"data-svelte-h":!0}),z(gt)!=="svelte-1pnhinn"&&(gt.textContent=ls),fr=R(Ge,`
        When this happens, you'll see an `),he(yt.$$.fragment,Ge),hr=R(Ge,` exclamation icon.
        You can modify the cap below.`),Ge.forEach(g),dr=N(At),he(Je.$$.fragment,At),At.forEach(g),this.h()},h(){document.title="Agile Octopus Price Tracker",_(e,"name","description"),_(e,"content","Quickly see the upcoming electricity prices for Octopus Energy's Agile Octopus tariff."),_(s,"class","text-body-emphasis text-center"),_(a,"href","#about"),_(a,"class","btn btn-outline-light btn-sm btn-inline"),_(p,"class","btn btn-outline-light btn-sm btn-inline"),_(o,"class","text-center"),_(n,"class","container mb-4 mx-auto"),_(O,"href","#pricing-table"),_(O,"class",x="nav-link p-1 "+(r[6]===Nn?"active":"text-body-emphasis")),_(b,"class","nav-item p-0"),_(j,"href","#pricing-table"),_(j,"class",re="nav-link p-1 "+(r[6]===En?"active":"text-body-emphasis")),_(H,"class","nav-item p-0"),_(S,"href","#pricing-table"),_(S,"class",I="nav-link p-1 "+(r[6]===On?"active":"text-body-emphasis")),_(ie,"class","nav-item p-0"),_(v,"class","nav nav-underline nav-fill mb-2"),_(T,"id","pricing-table"),_(T,"class","container mb-4 mx-auto"),_(A,"id","about"),_(A,"class",yn),_(ct,"id","how-to-get-agile"),_(ct,"class",yn),_(Ct,"class",yn),_(ht,"class","h6 text-light"),_(Xe,"class","h6"),se(Xe,"color","aqua"),_(et,"class","h6"),se(et,"color","orange"),_(tt,"class","h6"),se(tt,"color",Rl),_(nt,"class","h6"),se(nt,"color",Ul),_(f,"class","container mb-4 mx-auto"),_(Lt,"class",yn),_(rt,"href","https://www.ofgem.gov.uk/information-consumers/energy-advice-households/energy-price-cap"),_(rt,"target","_blank"),_(gt,"class","text-danger-emphasis"),_(Ue,"class","container mb-4 mx-auto")},m(W,pe){h(document.head,e),M(W,t,pe),M(W,n,pe),h(n,s),h(n,l),h(n,o),h(o,a),h(o,c),h(o,p),M(W,y,pe),ye&&ye.m(W,pe),M(W,w,pe),M(W,T,pe),h(T,v),h(v,b),h(b,O),h(O,V),h(v,J),h(v,H),h(H,j),h(j,F),h(v,P),h(v,ie),h(ie,S),h(S,B),h(T,ee),st[$].m(T,null),M(W,Z,pe),M(W,f,pe),h(f,A),h(A,m),h(f,K),h(f,ke),h(f,An),h(f,Ot),h(f,Hn),h(f,ct),h(ct,Pn),h(f,Un),h(f,St),h(f,Rn),h(f,It),h(f,Zn),de(ft,f,null),h(f,Wn),h(f,Ct),h(Ct,zn),h(f,qn),h(f,ht),h(f,Gn),h(f,Mt),h(f,Bn),h(f,Xe),h(f,jn),h(f,Dt),h(f,Yn),h(f,et),h(f,Jn),h(f,Nt),h(f,Qn),h(f,tt),de(dt,tt,null),h(tt,Kn),h(f,Xn),h(f,$t),h(f,er),h(f,nt),de(mt,nt,null),h(nt,tr),h(f,nr),h(f,xt),h(f,rr),de(pt,f,null),M(W,an,pe),M(W,Ue,pe),h(Ue,Lt),h(Lt,sr),h(Ue,ir),h(Ue,xe),h(xe,lr),h(xe,Vt),h(Vt,or),h(Vt,ar),h(xe,ur),h(xe,rt),h(xe,cr),h(xe,gt),h(xe,fr),de(yt,xe,null),h(xe,hr),h(Ue,dr),de(Je,Ue,null),vt=!0,pr||(os=[we(p,"click",r[9]),we(O,"click",r[14]),we(j,"click",r[15]),we(S,"click",r[16])],pr=!0)},p(W,[pe]){W[7]===tn?ye?(ye.p(W,pe),pe&128&&Y(ye,1)):(ye=$i(W),ye.c(),Y(ye,1),ye.m(w.parentNode,w)):ye&&(je(),Q(ye,1,1,()=>{ye=null}),Ye()),(!vt||pe&64&&x!==(x="nav-link p-1 "+(W[6]===Nn?"active":"text-body-emphasis")))&&_(O,"class",x),(!vt||pe&64&&re!==(re="nav-link p-1 "+(W[6]===En?"active":"text-body-emphasis")))&&_(j,"class",re),(!vt||pe&64&&I!==(I="nav-link p-1 "+(W[6]===On?"active":"text-body-emphasis")))&&_(S,"class",I);let it=$;$=us(W),$===it?st[$].p(W,pe):(je(),Q(st[it],1,1,()=>{st[it]=null}),Ye(),te=st[$],te?te.p(W,pe):(te=st[$]=as[$](W),te.c()),Y(te,1),te.m(T,null));const _t={};!mr&&pe&8&&(mr=!0,_t.priceCap=W[3],_n(()=>mr=!1)),Je.$set(_t)},i(W){vt||(Y(ye),Y(te),Y(ft.$$.fragment,W),Y(dt.$$.fragment,W),Y(mt.$$.fragment,W),Y(pt.$$.fragment,W),Y(yt.$$.fragment,W),Y(Je.$$.fragment,W),vt=!0)},o(W){Q(ye),Q(te),Q(ft.$$.fragment,W),Q(dt.$$.fragment,W),Q(mt.$$.fragment,W),Q(pt.$$.fragment,W),Q(yt.$$.fragment,W),Q(Je.$$.fragment,W),vt=!1},d(W){W&&(g(t),g(n),g(y),g(w),g(T),g(Z),g(f),g(an),g(Ue)),g(e),ye&&ye.d(W),st[$].d(),me(ft),me(dt),me(mt),me(pt),me(yt),me(Je),pr=!1,Wt(os)}}}const Nn="upcoming",En="7-days",On="average",tn="open",xi="closed",yn="display-1 fs-3 m-0 mb-3 text-light text-center";function sc(r,e,t){let n,s,i,l=kn,o={},a=!0,u,c=Nn,p;const d=async function(){if(!du(n))return;t(5,a=!0),Ae.setItem("region",n),Ae.setItem("importTariff",s),Ae.setItem("exportTariff",i),o.hasOwnProperty(n)||(t(4,o[n]=[],o),t(4,o));let F=Ae.getItem(`importJson-${n}-${s}`),re=Ae.getItem(`exportJson-${n}-${i}`);F&&re&&(t(4,o[n]=Ir.jsonToPriceArray(JSON.parse(F),JSON.parse(re)),o),t(4,o));try{const P=q.now();let{importJson:ie,exportJson:S}=await Ir.fetch(n,s,i,P.minus({day:7*4}).startOf("day"),P.plus({day:1}).endOf("day"));Ae.setItem(`importJson-${n}-${s}`,JSON.stringify(ie)),Ae.setItem(`exportJson-${n}-${i}`,JSON.stringify(S)),t(4,o[n]=Ir.jsonToPriceArray(ie,S),o),t(4,o),u=P}catch{}t(5,a=!1)},y=function(){if(!u)return;const F=q.now(),{minutes:re}=u.diff(F,"hours").toObject();if(re&&re<10)return;const P=o[n].at(-1);if(P){const{hours:ie}=P.validFrom.diff(F,"hours").toObject();ie&&ie<8&&d()}else d()},w=F=>{t(7,p=F),Ae.setItem("settingsState",F)},T=()=>{w(p===tn?xi:tn)};nn(()=>{t(0,n=Ae.getItem("region")||hu),t(1,s=Ae.getItem("importTariff")||mu),t(2,i=Ae.getItem("exportTariff")||pu),t(7,p=Ae.getItem("settingsState")||tn),setInterval(()=>{y()},10*1e3)});function v(F){n=F,t(0,n)}function b(F){s=F,t(1,s)}function O(F){i=F,t(2,i)}const V=()=>w(xi),x=()=>{t(6,c=Nn)},J=()=>{t(6,c=En)},H=()=>{t(6,c=On)};function j(F){l=F,t(3,l)}return r.$$.update=()=>{r.$$.dirty&7&&d()},[n,s,i,l,o,a,c,p,w,T,v,b,O,V,x,J,H,j]}class uc extends Ne{constructor(e){super(),$e(this,e,sc,rc,De,{})}}export{uc as component};
